<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="author" content="Rey Sebastien &amp;amp;lt;rey.sebastien-coyrehourcq@univ-rouen.fr&amp;amp;gt; , Van Hamme Adrien &amp;amp;lt;adrien.van.hamme@gmail.com&amp;amp;gt;">
<title>Atelier Python</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="./pygments-tango.css">
</head>
<body class="article toc2 toc-left" style="max-width: 70%;">
<div id="header">
<h1>Atelier Python</h1>
<div class="details">
<span id="author" class="author">Rey Sebastien &amp;amp;lt;rey.sebastien-coyrehourcq@univ-rouen.fr&amp;amp;gt; , Van Hamme Adrien &amp;amp;lt;adrien.van.hamme@gmail.com&amp;amp;gt;</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction_au_document">Introduction au document</a></li>
<li><a href="#_le_langage_python">Le langage python</a>
<ul class="sectlevel2">
<li><a href="#_présentation_rapide">Présentation rapide</a></li>
<li><a href="#_utilisation_usages">Utilisation/Usages</a></li>
<li><a href="#_installation_de_python">Installation de Python</a>
<ul class="sectlevel3">
<li><a href="#_sous_ubuntu">Sous Ubuntu</a></li>
<li><a href="#_sous_windows">Sous Windows</a></li>
</ul>
</li>
<li><a href="#_mon_premier_programme_en_python">Mon premier programme en python</a>
<ul class="sectlevel3">
<li><a href="#_en_utilisant_l_interpréteur_de_commande_python">En utilisant l&#8217;interpréteur de commande Python</a>
<ul class="sectlevel4">
<li><a href="#_sous_windows_2">Sous windows</a></li>
<li><a href="#_sous_linux">Sous linux</a></li>
</ul>
</li>
<li><a href="#_executer_un_bloc_de_code_entier">Executer un bloc de code entier</a></li>
<li><a href="#_en_utilisant_l_ide_pycharm">En utilisant l&#8217;IDE Pycharm</a>
<ul class="sectlevel4">
<li><a href="#_installation_sous_windows">Installation sous Windows</a></li>
<li><a href="#_installation_sous_ubuntu">Installation sous Ubuntu</a></li>
<li><a href="#_configurer_l_interpréteur_python_windows_ubuntu">Configurer l&#8217;interpréteur python (windows/ubuntu)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_indentation">Indentation</a></li>
<li><a href="#_variables_objets_et_références">Variables, Objets et Références</a>
<ul class="sectlevel2">
<li><a href="#_généralités">Généralités</a></li>
<li><a href="#_affectation">Affectation</a></li>
<li><a href="#_type_des_variables">Type des variables</a></li>
</ul>
</li>
<li><a href="#_commentaires">Commentaires</a></li>
<li><a href="#_input_output">Input / Output</a>
<ul class="sectlevel2">
<li><a href="#_sorties_print">Sorties : print()</a></li>
<li><a href="#_entrées_raw_input">Entrées : raw_input()</a></li>
</ul>
</li>
<li><a href="#_fonctions">Fonctions</a>
<ul class="sectlevel2">
<li><a href="#_portées_des_variables">Portées des variables</a></li>
<li><a href="#_passage_d_arguments_et_retour_de_données">Passage d&#8217;arguments et retour de données</a></li>
</ul>
</li>
<li><a href="#_listes">Listes</a>
<ul class="sectlevel2">
<li><a href="#_définition">Définition</a></li>
<li><a href="#_opérations">Opérations</a></li>
</ul>
</li>
<li><a href="#_structure_de_controle">Structure de controle</a>
<ul class="sectlevel2">
<li><a href="#_condition_s">Condition(s)</a></li>
<li><a href="#_boucle_s">Boucle(s)</a>
<ul class="sectlevel3">
<li><a href="#_definition">Definition</a></li>
<li><a href="#_parcours_de_liste">Parcours de liste</a>
<ul class="sectlevel4">
<li><a href="#_for_in">for in</a></li>
<li><a href="#_for_in_range">for in + range()</a></li>
<li><a href="#_for_in_zip">For in + zip()</a></li>
</ul>
</li>
<li><a href="#_construire_à_une_liste">Construire à une liste</a></li>
</ul>
</li>
<li><a href="#_mot_clef_spécifique">Mot-Clef spécifique</a></li>
</ul>
</li>
<li><a href="#_dictionnaires">Dictionnaires</a>
<ul class="sectlevel2">
<li><a href="#_initialiser_un_dictionnaire">Initialiser un dictionnaire</a></li>
<li><a href="#_accéder_à_un_dictionnaire">Accéder à un dictionnaire</a></li>
<li><a href="#_méthodes_spécifiques_aux_dictionnaires">Méthodes spécifiques aux dictionnaires</a></li>
<li><a href="#_parcourir_les_dictionnaires">Parcourir les dictionnaires</a></li>
</ul>
</li>
<li><a href="#_poo">POO</a>
<ul class="sectlevel2">
<li><a href="#_définition_2">Définition</a></li>
<li><a href="#_exemple">Exemple</a></li>
<li><a href="#_stocker_des_objets">Stocker des objets</a></li>
<li><a href="#_bref_rappel_des_termes">Bref rappel des termes</a></li>
<li><a href="#_des_objets_dans_des_objets">Des objets dans des objets ?</a></li>
<li><a href="#_héritage_ou_composition">Héritage ou Composition ?</a>
<ul class="sectlevel3">
<li><a href="#_héritage">Héritage</a></li>
<li><a href="#_composition">Composition</a></li>
</ul>
</li>
<li><a href="#_duck_typing">Duck Typing</a></li>
</ul>
</li>
<li><a href="#_divers">Divers</a>
<ul class="sectlevel2">
<li><a href="#_main_d_un_programme">main d&#8217;un programme</a></li>
</ul>
</li>
<li><a href="#_mini_jeux">Mini-Jeux</a>
<ul class="sectlevel2">
<li><a href="#_pendu">Pendu</a></li>
<li><a href="#_shifumi">Shifumi</a></li>
<li><a href="#_bataille_navale">Bataille navale</a></li>
</ul>
</li>
<li><a href="#_ressources">Ressources</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>v0.1, Sept 15, 2012 : Initial version</p>
</li>
<li>
<p>v0.2, Sept 17, 2012 : Add some major explanation about list, fonctions, indentation, etc.</p>
</li>
<li>
<p>v0.3, Sept 18, 2012 : Add information for ubuntu and windows install, add some minor fixes on source code, add some new links</p>
</li>
<li>
<p>v0.4, Sept 19, 2012 : Add section with information for POO, ROGLike exercices instruction and exemple</p>
</li>
<li>
<p>v0.5, Sept 20, 2012 : Add new information for POO</p>
</li>
<li>
<p>v0.6, Oct 2, 2012 : Add information for Labyrinthe exercice</p>
</li>
<li>
<p>v0.7, Sept 20, 2013 : Add link to visualize program execution, correcting syntax, add pycharm IDE information, modify Ubuntu information</p>
</li>
<li>
<p>v0.8, Sept 26, 2013 : Some new corrections, add a "Rendu" part, add "insert" function for list, add information into POO part, remove labyrinth old information</p>
</li>
<li>
<p>v0.9, Sept 27, 2013 : Add mini games instruction</p>
</li>
<li>
<p>v0.10, Sept 27, 2013 : Add information about cd command and folder to find Pycharm</p>
</li>
<li>
<p>v0.11, Oct 13, 2013 : Add POO information and exercices</p>
</li>
<li>
<p>v0.13, Oct 22, 2013 : Add POO information about inheritance and composition ; remove old version of Rogue</p>
</li>
<li>
<p>v0.14 Sept 18, 2014 : Remove Roguelike; add Adrien van hamme</p>
</li>
<li>
<p>v0.15 Sept 18, 2015 : Separate Windows / Linux</p>
</li>
<li>
<p>v0.16 Fev, 2016 : Add Naval Battle</p>
</li>
<li>
<p>v0.17 Nov, 2016 : Add exercices and informations for POO pirates</p>
</li>
<li>
<p>v0.18 Nov, 2017 : Add new step of amelioration for Naval Battle</p>
</li>
<li>
<p>v0.19 Nov, 2017 : New version of POO information and exercices</p>
</li>
<li>
<p>v0.20 Nov, 2018 : Update to Python 3.0 :)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction_au_document"><a class="anchor" href="#_introduction_au_document"></a>Introduction au document</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cette longue introduction doit vous servir de point de départ pour vous lancer ensuite par la suite dans des développements python plus lourds.</p>
</div>
<div class="paragraph">
<p>Construit de façon dynamique, disponible en ligne, celui çi sera probablement mis à jour plusieurs fois durant cette semaine, et cela pour plusieurs raisons :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>si vous voyez des fautes, des coquilles, soyez gentils, ne m&#8217;insultez pas et faites moi signe, je corrigerai :)</p>
</li>
<li>
<p>ce document sera nourri par vos remarques, vos questions durant les Tp</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Quels objectifs ?</div>
<ul>
<li>
<p>Etre capable de lire un code inconnu et de le comprendre</p>
</li>
<li>
<p>Etre capable de chercher une information et de "poser une question" sur Internet et les sites spécialisés</p>
</li>
<li>
<p>Etre capable de concevoir et de réaliser un programme simple</p>
</li>
<li>
<p>Etre capable de travailler en groupe</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ce tutorial a pour but de vous faire travailler rapidement sur Python, et donc masque un certain nombre de questionnements théoriques.</p>
</div>
<div class="paragraph">
<p>De <strong>très</strong> nombreuses ressources existent pour vous éclairer sur Internet, et ce tutorial est un pot-pourri des informations que l&#8217;on peut trouver partout facilement, car Python est un langage <strong>extremement populaire</strong>,</p>
</div>
<div class="paragraph">
<p>J&#8217;essaierai d&#8217;en lister un certain nombre dans l&#8217;onglet ressource tout en bas de page.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_le_langage_python"><a class="anchor" href="#_le_langage_python"></a>Le langage python</h2>
<div class="sectionbody">
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/python.png" alt="python">
</div>
</div>
<div class="sect2">
<h3 id="_présentation_rapide"><a class="anchor" href="#_présentation_rapide"></a>Présentation rapide</h3>
<div class="paragraph">
<p>Python est un langage intéressant pour plusieurs raisons, à la fois technique :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Il est interpreté (ligne par ligne), et portable facilement (windows, linux)</p>
</li>
<li>
<p>Le typage est dynamique (pas besoin d&#8217;indiquer le type de votre variable&#8230;&#8203;)</p>
</li>
<li>
<p>Tout est <strong>objet</strong> en python (c&#8217;est à dire possède des attributs et des fonctions)</p>
</li>
<li>
<p>Il existe de très nombreuses librairies logicielles qui étendent le langage dans plusieurs domaines</p>
</li>
<li>
<p>Il permet à la fois de créer de petits programmes (scripts réalisant/automatisant de petites tâches), tout comme de très gros programmes ou logiciels</p>
</li>
<li>
<p>Python permet de mixer différents paradigmes de programmation : <strong>objet</strong> et <strong>fonctionel</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>et pédagogique :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>python est connu comme un langage "fun"</p>
</li>
<li>
<p>La documentation originale est de grande qualité</p>
</li>
<li>
<p>La communauté utilisateur est très grande (poser des questions et se procurer de la documentation gratuite est facile)</p>
</li>
<li>
<p>Le système d&#8217;indentation (le décalage à chaque ligne) est un bon guide à l&#8217;apprentissage, et favorise la lisibilité du code source</p>
</li>
<li>
<p>La courbe d&#8217;apprentissage est très rapide avec ce langage, finalement assez proche du pseudo-code</p>
</li>
<li>
<p>De nombreux logiciels ou systèmes proposent une API en Python pour ajouter des extensions/plugins, et réaliser des traitements automatisés</p>
</li>
<li>
<p>Comme pour le langage R, une très forte communauté s&#8217;est formée en science autour de librairies/packages extension du langage : numpy, scipy, matplotlib etc.</p>
</li>
<li>
<p>Des outils pour visualiser l&#8217;execution des programmes (vous pouvez en abuser pour comprendre et débugger vos programmes !) : <a href="http://pythontutor.com/visualize.html" class="bare">http://pythontutor.com/visualize.html</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Je ne rentrerai pas plus dans le détail sur les aspects techniques du langage pour ne pas vous noyer trop vite d&#8217;informations.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<div class="title">Toutefois, pour les plus curieux, quelques liens pour aller plus loin :</div>
<ul>
<li>
<p>la page wikipédia de python : <a href="http://fr.wikipedia.org/wiki/Python_%28langage%29" class="bare">http://fr.wikipedia.org/wiki/Python_%28langage%29</a></p>
</li>
<li>
<p>une <strong>API</strong> : <a href="http://fr.wikipedia.org/wiki/Interface_de_programmation" class="bare">http://fr.wikipedia.org/wiki/Interface_de_programmation</a></p>
</li>
<li>
<p>un <strong>paradigme de programmation</strong> :  <a href="http://fr.wikipedia.org/wiki/Paradigme_%28programmation%29" class="bare">http://fr.wikipedia.org/wiki/Paradigme_%28programmation%29</a></p>
</li>
<li>
<p>la programmation orientée objet ou  : <a href="http://fr.wikipedia.org/wiki/Programmation_orient%C3%A9e_objet" class="bare">http://fr.wikipedia.org/wiki/Programmation_orient%C3%A9e_objet</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_utilisation_usages"><a class="anchor" href="#_utilisation_usages"></a>Utilisation/Usages</h3>
<div class="paragraph">
<p>Python est un langage clairement à la mode, du fait qu&#8217;il est simple à utiliser et à étendre, ainsi on le retrouve un peu partout dans différents domaines :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mathématiques</p>
</li>
<li>
<p>Intelligence artificielle</p>
</li>
<li>
<p>Education</p>
</li>
<li>
<p>Jeux</p>
</li>
<li>
<p>Sécurité et Système d&#8217;exploitation</p>
</li>
<li>
<p>etc. cf <a href="http://www.python.org/about/apps/" class="bare">http://www.python.org/about/apps/</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Quelques exemples d&#8217;utilisation de python spécifique en géomatique :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>QGIS (<a href="http://www.qgis.org/pyqgis-cookbook/" class="bare">http://www.qgis.org/pyqgis-cookbook/</a>)</p>
</li>
<li>
<p>ArcGis 10</p>
</li>
<li>
<p>GeoDjango</p>
</li>
<li>
<p>Accès Postgis avec Psycopg2</p>
</li>
<li>
<p>librairie <strong>Numpy</strong></p>
</li>
<li>
<p>librairie <strong>GDAL</strong> et <strong>OGR</strong></p>
</li>
<li>
<p>librairie <strong>Geopy</strong></p>
</li>
<li>
<p>librairie <strong>Shapely</strong></p>
</li>
<li>
<p>etc.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_installation_de_python"><a class="anchor" href="#_installation_de_python"></a>Installation de Python</h3>
<div class="sect3">
<h4 id="_sous_ubuntu"><a class="anchor" href="#_sous_ubuntu"></a>Sous Ubuntu</h4>
<div class="paragraph">
<p>Ubuntu est un système d&#8217;exploitation libre, et open-source, alternatif à Windows, et qui peut être installé sur n&#8217;importe quel ordinateur.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/ubuntu.png" alt="ubuntu">
</div>
</div>
<div class="paragraph">
<p>Une des grandes forces c&#8217;est la mise à disposition des utilisateurs d&#8217;un système de gestion de paquets offrant l&#8217;installation en quelques clics d&#8217;un très grand nombre de logiciels, ou paquets, par rapport à son principal concurrent Windows.</p>
</div>
<div class="paragraph">
<p>L&#8217;autre force, qui pourra au demeurant vous faire penser à une faiblesse, est la mise à disposition d&#8217;un logiciel appelé <strong>Terminal</strong>, dans lequel l&#8217;utilisateur peut taper un très grand nombre de commandes, qui vont de l&#8217;installation d&#8217;un paquet à une infinité d&#8217;autres choses.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/ubuntuTerminal.png" alt="ubuntuTerminal">
</div>
</div>
<div class="paragraph">
<p>Ainsi par exemple, et pour vous donner un apercu du bonheur qu&#8217;il y a pour un développeur à travailler sous Ubuntu au jour le jour,
Python est natif. C&#8217;est à dire déjà installé et déjà accessible par une simple commande dans un Terminal. <strong class="red">Joie !</strong></p>
</div>
<div class="paragraph">
<p>Si vous ne me croyez pas, jetez un oeil à la procédure d&#8217;installation sous <a href="#_windows">Windows</a>.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/terminalPython.png" alt="terminalPython">
</div>
</div>
<div class="paragraph">
<p>Les autres éléments, comme les librairies, peuvent être installées dans le terminal, via une commande simple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">sudo</span> <span class="tok-n">apt</span><span class="tok-o">-</span><span class="tok-n">get</span> <span class="tok-n">install</span> <span class="tok-n">python</span><span class="tok-o">-</span><span class="tok-n">pygame</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>$&gt;</code> représente le <strong>prompt</strong> de votre terminal, qui contient des informations sur le répertoire dans lequel vous vous trouvez..
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Si vous possedez les droits administrateur sur votre machine, alors vous pouvez voir une liste des autres packages python disponibles sous ubuntu avec le paquet <code>aptitude</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">sudo</span> <span class="tok-n">apt</span><span class="tok-o">-</span><span class="tok-n">get</span> <span class="tok-n">install</span> <span class="tok-n">aptitude</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">sudo</span> <span class="tok-n">aptitude</span> <span class="tok-n">search</span> <span class="tok-n">python</span><span class="tok-o">-*</span> <span class="tok-o">|</span> <span class="tok-n">grep</span> <span class="tok-mf">2.7</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>ou :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">sudo</span> <span class="tok-n">aptitude</span> <span class="tok-n">search</span> <span class="tok-n">python</span><span class="tok-o">-*</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pour installer d&#8217;autres modules dans python, il existe plusieurs solutions :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>l&#8217;installateur easy_install livré avec python : <a href="http://wiki.python.org/moin/CheeseShopTutorial" class="bare">http://wiki.python.org/moin/CheeseShopTutorial</a></p>
</li>
<li>
<p>ou plus simple avec l&#8217;installateur de package d&#8217;ubuntu, qui contient aussi bon nombre de packages : <code>apt-get</code></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Il existe de nombreux paquets python en rapport avec la géomatique dont vous pouvez partir à la chasse, voici quelques listes faites par des utilisateurs :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://gis.stackexchange.com/questions/23575/what-are-the-python-tools-modules-add-ins-crucial-in-gis" class="bare">http://gis.stackexchange.com/questions/23575/what-are-the-python-tools-modules-add-ins-crucial-in-gis</a></p>
</li>
<li>
<p><a href="http://gis.stackexchange.com/questions/3796/python-for-gis-on-a-thumb-drive?rq=1" class="bare">http://gis.stackexchange.com/questions/3796/python-for-gis-on-a-thumb-drive?rq=1</a></p>
</li>
<li>
<p><a href="http://gis.stackexchange.com/questions/3796/python-for-gis-on-a-thumb-drive?rq=1" class="bare">http://gis.stackexchange.com/questions/3796/python-for-gis-on-a-thumb-drive?rq=1</a></p>
</li>
<li>
<p>La liste de module pour Pypi (mais aussi pour <code>apt-get</code>) : <a href="http://pypi.python.org/pypi?%3aaction=browse&amp;show=all&amp;c=391" class="bare">http://pypi.python.org/pypi?%3aaction=browse&amp;show=all&amp;c=391</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Quelques commandes utiles pour le terminal :</p>
</div>
<div class="listingblock">
<div class="title">Afficher le répertoire courant</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">pwd</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Se déplacer dans les répertoires</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">cd</span> <span class="tok-n">nomDeMonRepertoire</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">retour arrière dans la hiérarchie de répertoire</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">cd</span> <span class="tok-o">..</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Afficher le contenu du répertoire</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">ls</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Vous pouvez appuyer sur la <strong>flêche HAUT</strong> de votre clavier numérique pour rapeller des commandes précédemment tapées et les modifier par la suite (idem dans l&#8217;interpreteur python)
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
En appuyant sur la touche <strong>TAB</strong> deux fois lors de l&#8217;écriture de vos commandes, vous pouvez obtenir des informations de complétion.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>D&#8217;autres commandes existent bien sur, et pourront vous servir lors de vos futurs développements, voici un <a href="http://doc.ubuntu-fr.org/tutoriel/console_ligne_de_commande">lien</a> contenant de nombreux exemples et une liste plus exhaustive.</p>
</div>
<div class="paragraph">
<p>En savoir plus sur Ubuntu:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://doc.ubuntu-fr.org/console" class="bare">http://doc.ubuntu-fr.org/console</a></p>
</li>
<li>
<p><a href="https://help.ubuntu.com/community/UsingTheTerminal" class="bare">https://help.ubuntu.com/community/UsingTheTerminal</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Et pour aller plus loin avec QGIS et les plugin python pour GDAL / OGR ( <a href="http://pypi.python.org/pypi/GDAL/" class="bare">http://pypi.python.org/pypi/GDAL/</a> )</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">sudo</span> <span class="tok-n">apt</span><span class="tok-o">-</span><span class="tok-n">get</span> <span class="tok-n">install</span> <span class="tok-n">python</span><span class="tok-o">-</span><span class="tok-n">software</span><span class="tok-o">-</span><span class="tok-n">properties</span>
<span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">sudo</span> <span class="tok-n">add</span><span class="tok-o">-</span><span class="tok-n">apt</span><span class="tok-o">-</span><span class="tok-n">repository</span> <span class="tok-n">ppa</span><span class="tok-p">:</span><span class="tok-n">ubuntugis</span><span class="tok-o">/</span><span class="tok-n">ubuntugis</span><span class="tok-o">-</span><span class="tok-n">unstable</span>
<span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">sudo</span> <span class="tok-n">apt</span><span class="tok-o">-</span><span class="tok-n">get</span> <span class="tok-n">update</span>
<span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">sudo</span> <span class="tok-n">apt</span><span class="tok-o">-</span><span class="tok-n">get</span> <span class="tok-n">install</span> <span class="tok-n">qgis</span>
<span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">sudo</span> <span class="tok-n">apt</span><span class="tok-o">-</span><span class="tok-n">get</span> <span class="tok-n">install</span> <span class="tok-n">gdal</span><span class="tok-o">-</span><span class="tok-nb">bin</span>
<span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">sudo</span> <span class="tok-n">apt</span><span class="tok-o">-</span><span class="tok-n">get</span> <span class="tok-n">install</span> <span class="tok-n">python</span><span class="tok-o">-</span><span class="tok-n">gdal</span>
<span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">sudo</span> <span class="tok-n">apt</span><span class="tok-o">-</span><span class="tok-n">get</span> <span class="tok-n">install</span> <span class="tok-n">python2</span><span class="tok-o">.</span><span class="tok-mi">7</span><span class="tok-o">-</span><span class="tok-n">qgis</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_sous_windows"><a class="anchor" href="#_sous_windows"></a>Sous Windows</h4>
<div class="paragraph">
<p>Sous windows, l&#8217;installation est un poil plus délicate que sous Linux ou Ubuntu.</p>
</div>
<div class="paragraph">
<p>Je vous conseille de choisir plutôt une installation sous forme de packages pré-installés, du type de <strong>pythonXY</strong>, <strong>anaconda</strong>, <strong>osgeo4w</strong>
car l&#8217;installation des modules supplémentaires un à un peut vite devenir <strong>cauchemardesque</strong> !</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Quelques ressources :</div>
<div class="ulist">
<ul>
<li>
<p><strong>pythonXY</strong> qui contient des packages pour la géomatique et spyder<br>
<a href="http://code.google.com/p/pythonxy/" class="bare">http://code.google.com/p/pythonxy/</a></p>
</li>
<li>
<p><strong>PortablePython</strong> est un python qui tient sur clef USB :<br>
<a href="http://www.portablepython.com/" class="bare">http://www.portablepython.com/</a></p>
</li>
<li>
<p>La doc officielle propose quelques pointeurs également :<br>
<a href="http://docs.python.org/using/windows.html" class="bare">http://docs.python.org/using/windows.html</a></p>
</li>
<li>
<p>L&#8217;installeur officiel de python :<br>
<a href="http://www.python.org/getit/releases/" class="bare">http://www.python.org/getit/releases/</a></p>
</li>
<li>
<p>Le set de package python <strong>Osgeo4w</strong> :<br>
<a href="http://trac.osgeo.org/osgeo4w/" class="bare">http://trac.osgeo.org/osgeo4w/</a></p>
</li>
<li>
<p>Le gestionnaire de package python <strong>Anaconda</strong> :<br>
<a href="https://www.continuum.io/downloads" class="bare">https://www.continuum.io/downloads</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Une autre solution envisageable, pas forcément plus complexe qu&#8217;une installation qui se passe mal sous windows,
passe par l&#8217;installation d&#8217;une machine virtuelle avec Ubuntu sous windows.
L&#8217;avantage c&#8217;est qu&#8217;une fois Ubuntu installé ainsi, vous allez pouvoir profiter de tout un tas d&#8217;outils de développement beaucoup plus facilement que sous windows !!</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Quelques ressources/ tutoriaux</div>
<div class="ulist">
<ul>
<li>
<p>Ubuntu sous machine virtuelle :<br>
<a href="http://www.psychocats.net/ubuntu/virtualbox" class="bare">http://www.psychocats.net/ubuntu/virtualbox</a></p>
</li>
<li>
<p>Ubuntu sur une clé usb :<br>
<a href="http://www.psychocats.net/ubuntu/usb" class="bare">http://www.psychocats.net/ubuntu/usb</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mon_premier_programme_en_python"><a class="anchor" href="#_mon_premier_programme_en_python"></a>Mon premier programme en python</h3>
<div class="paragraph">
<p>Il existe deux façon d&#8217;écrire et d&#8217;éxecuter un programme python :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>en mode <strong>interactif</strong> : l&#8217;utilisateur saisit les commandes les unes après les autres, et l&#8217;interpréteur execute/évalue chacunes d&#8217;elle au fur et à mesure de leur saisie.</p>
</li>
<li>
<p>ou en mode <strong>execution</strong> : on execute une grosse portion de code stocké dans un ou plusieurs fichier, en une seule commande.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Les deux prochaines sections <strong>interpréteur de commande</strong> (mode interactif) et <strong>Executer un bloc de code entier</strong> (mode exécution) s&#8217;appuient sur l&#8217;utilisation du programme <code>Python</code>. Il est en effet le seul qui peut comprendre les programmes que vous écrirez dans ce langage.</p>
</div>
<div class="paragraph">
<p>Ces deux modes d&#8217;utilisation du programme python suffisent pour écrire des programmes, mais offre un confort très relatif. On préférera utiliser un IDE (qui se base sur le mode exécution), comme décrit dans la troisième section <strong>En utilisant l&#8217;IDE Pycharm</strong>.</p>
</div>
<div class="sect3">
<h4 id="_en_utilisant_l_interpréteur_de_commande_python"><a class="anchor" href="#_en_utilisant_l_interpréteur_de_commande_python"></a>En utilisant l&#8217;interpréteur de commande Python</h4>
<div class="sect4">
<h5 id="_sous_windows_2"><a class="anchor" href="#_sous_windows_2"></a>Sous windows</h5>
<div class="paragraph">
<p>Pour accéder à un terminal windows, cliquez sur le bouton Démarrer, puis cherchez l&#8217;outil <strong>invite de commande</strong> aussi nommé <strong>cmd</strong> (voir <a href="https://fr.wikipedia.org/wiki/Cmd">wikipedia</a> et <a href="http://windows.developpez.com/cours/ligne-commande/?page=page_4">liste des commandes</a> )</p>
</div>
<div class="paragraph">
<p>L&#8217;executable de Python 2.7 se trouve généralement dans le répertoire <code>c:\Python27</code> , pour cela vous devez vous déplacer dans l&#8217;invite de commande avec les commandes suivantes :</p>
</div>
<div class="listingblock">
<div class="title">Afficher le répertoire courant</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-nb">dir</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Se déplacer dans les répertoires</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">cd</span> <span class="tok-n">nomDeMonRepertoire</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">retour arrière dans la hiérarchie de répertoire</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">cd</span> <span class="tok-o">..</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">exemple d&#8217;accès au repertoire contenan l&#8217;interpréteur python 2.7</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">cd</span> <span class="tok-n">c</span><span class="tok-p">:</span>\<span class="tok-n">Python27</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Une fois dans le répertoire <code>c:\Python27</code>, vous pouvez ensuite taper <code>python</code>, ce qui aura pour effet de lancer <strong>l&#8217;intepreteur de commande en mode console interactif</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-o">&gt;</span> <span class="tok-n">python</span>
<span class="tok-n">ActivePython</span> <span class="tok-mf">2.6</span><span class="tok-o">.</span><span class="tok-mf">5.12</span> <span class="tok-p">(</span><span class="tok-n">ActiveState</span> <span class="tok-n">Software</span> <span class="tok-n">Inc</span><span class="tok-o">.</span><span class="tok-p">)</span> <span class="tok-n">based</span> <span class="tok-n">on</span>
<span class="tok-n">Python</span> <span class="tok-mf">2.6</span><span class="tok-o">.</span><span class="tok-mi">5</span> <span class="tok-p">(</span><span class="tok-n">r265</span><span class="tok-p">:</span><span class="tok-mi">79063</span><span class="tok-p">,</span> <span class="tok-n">Mar</span> <span class="tok-mi">20</span> <span class="tok-mi">2010</span><span class="tok-p">,</span> <span class="tok-mi">14</span><span class="tok-p">:</span><span class="tok-mi">22</span><span class="tok-p">:</span><span class="tok-mi">52</span><span class="tok-p">)</span> <span class="tok-p">[</span><span class="tok-n">MSC</span> <span class="tok-n">v</span><span class="tok-o">.</span><span class="tok-mi">1500</span> <span class="tok-mi">32</span> <span class="tok-n">bit</span> <span class="tok-p">(</span><span class="tok-n">Intel</span><span class="tok-p">)]</span> <span class="tok-n">on</span> <span class="tok-n">win32</span>
<span class="tok-n">Type</span> <span class="tok-s">&quot;help&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;copyright&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;credits&quot;</span> <span class="tok-ow">or</span> <span class="tok-s">&quot;license&quot;</span> <span class="tok-k">for</span> <span class="tok-n">more</span> <span class="tok-n">information</span><span class="tok-o">.</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Toutes les commandes que vous tapez dans ce mode interactif doivent être en python pour être comprise par l&#8217;interpréteur Python. Une ligne n&#8217;est évalué que lorsque vous tapez <kbd>Entrée</kbd>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-o">&gt;&gt;&gt;</span> <span class="tok-k">print</span> <span class="tok-s">&quot;Hello World&quot;</span>
<span class="tok-n">hello</span> <span class="tok-n">world</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour quitter ce <strong>mode interactif</strong> et revenir dans l'<strong>invite de commande</strong>, vous pouvez taper <code>exit()</code> ou <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>D</kbd></span></p>
</div>
</div>
<div class="sect4">
<h5 id="_sous_linux"><a class="anchor" href="#_sous_linux"></a>Sous linux</h5>
<div class="paragraph">
<p>Pour accéder à un terminal linux, cliquez sur l&#8217;onglet en haut à gauche avec une roue, et écrivez "Terminal"
Vous pouvez ensuite taper "python" dans le terminal linux, ce qui aura pour effet de lancer <strong>l&#8217;intepreteur de commande en mode console interactif</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-o">&gt;</span> <span class="tok-n">python</span>
<span class="tok-n">ActivePython</span> <span class="tok-mf">2.6</span><span class="tok-o">.</span><span class="tok-mf">5.12</span> <span class="tok-p">(</span><span class="tok-n">ActiveState</span> <span class="tok-n">Software</span> <span class="tok-n">Inc</span><span class="tok-o">.</span><span class="tok-p">)</span> <span class="tok-n">based</span> <span class="tok-n">on</span>
<span class="tok-n">Python</span> <span class="tok-mf">2.6</span><span class="tok-o">.</span><span class="tok-mi">5</span> <span class="tok-p">(</span><span class="tok-n">r265</span><span class="tok-p">:</span><span class="tok-mi">79063</span><span class="tok-p">,</span> <span class="tok-n">Mar</span> <span class="tok-mi">20</span> <span class="tok-mi">2010</span><span class="tok-p">,</span> <span class="tok-mi">14</span><span class="tok-p">:</span><span class="tok-mi">22</span><span class="tok-p">:</span><span class="tok-mi">52</span><span class="tok-p">)</span> <span class="tok-p">[</span><span class="tok-n">MSC</span> <span class="tok-n">v</span><span class="tok-o">.</span><span class="tok-mi">1500</span> <span class="tok-mi">32</span> <span class="tok-n">bit</span> <span class="tok-p">(</span><span class="tok-n">Intel</span><span class="tok-p">)]</span> <span class="tok-n">on</span> <span class="tok-n">win32</span>
<span class="tok-n">Type</span> <span class="tok-s">&quot;help&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;copyright&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;credits&quot;</span> <span class="tok-ow">or</span> <span class="tok-s">&quot;license&quot;</span> <span class="tok-k">for</span> <span class="tok-n">more</span> <span class="tok-n">information</span><span class="tok-o">.</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Chaque commande que vous allez taper dans l&#8217;interpreteur de code python sera évaluée :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-o">&gt;&gt;&gt;</span> <span class="tok-k">print</span> <span class="tok-s">&quot;Hello World&quot;</span>
<span class="tok-n">hello</span> <span class="tok-n">world</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Python vous renvoie le résultat de votre commande à chaque  fois qu&#8217;il a réussi à l&#8217;évaluer, sinon il vous renvoie une erreur.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Pour quitter la console python sous Ubuntu, appuyer sur la combinaison de touche : <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>D</kbd></span>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_executer_un_bloc_de_code_entier"><a class="anchor" href="#_executer_un_bloc_de_code_entier"></a>Executer un bloc de code entier</h4>
<div class="paragraph">
<p>Pour le mode <strong>execution</strong> nous allons écrire nos programmes au préalable dans un document nommé avec l&#8217;extension <strong>.py</strong> dans le repertoire de votre choix. Vous devez ouvrir une <strong>invite de commande</strong> (windows), ou un <strong>terminal</strong> (linux) et vous positionner ensuite dans ce répertoire avec les commandes adéquates propre au système que vous utilisez(cd, dir, etc.)</p>
</div>
<div class="paragraph">
<p>Si vous êtes sous linux, alors vous pouvez directement taper <code>python nomduprogramme.py</code> dans le terminal.</p>
</div>
<div class="paragraph">
<p>Si vous êtes sous windows, alors il faut remplace <code>python nomduprogramme.py</code> par la commande suivante <code>C:\Python27\python nomduprogramme.py</code> dans les programmes ci-dessous.</p>
</div>
<div class="openblock">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Créer un fichier <em>hello.py</em></p>
</li>
<li>
<p>Ecrire dans ce fichier le texte suivant :</p>
<div class="listingblock">
<div class="title">hello.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># -*- coding: utf-8 -*-</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;Hello World&quot;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Enregistrer et fermer le programme</p>
</li>
<li>
<p>Executer le programme ainsi dans la ligne de commande python</p>
</li>
</ol>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">python</span> <span class="tok-n">hello</span><span class="tok-o">.</span><span class="tok-n">py</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Réouvrez ensuite votre fichier <em>hello.py</em> et ajoutez la ligne suivante :</p>
</div>
<div class="listingblock">
<div class="title">hello.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">print</span> <span class="tok-s">&quot;Hello World&quot;</span>
<span class="tok-k">print</span> <span class="tok-n">Bonjour</span> <span class="tok-n">Monde</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>On redemande à l&#8217;interpréteur de lire notre programme :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">python</span> <span class="tok-n">hello</span><span class="tok-o">.</span><span class="tok-n">py</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Celui-ci renvoie une erreur que nous allons apprendre à lire :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">python</span> <span class="tok-n">hello</span><span class="tok-o">.</span><span class="tok-n">py</span>
  <span class="tok-n">File</span> <span class="tok-s">&quot;hello.py&quot;</span><span class="tok-p">,</span> <span class="tok-n">line</span> <span class="tok-mi">2</span>
    <span class="tok-k">print</span> <span class="tok-n">Bonjour</span> <span class="tok-n">Monde</span>
                      <span class="tok-o">^</span>
<span class="tok-ne">SyntaxError</span><span class="tok-p">:</span> <span class="tok-n">invalid</span> <span class="tok-n">syntax</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;interpréteur vous donne la ligne et la faute : la syntaxe pour print est incorrecte, car il manque les guillemets</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
"Hello World" est le programme le plus connu des informaticiens, cf. <a href="http://en.wikipedia.org/wiki/Hello_world_program" class="bare">http://en.wikipedia.org/wiki/Hello_world_program</a>
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Python est <strong>sensible à la casse</strong>, il faut donc faire attention aux majuscules / minuscules dans votre programme.
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Pour ne pas avoir de problème avec les accents, pensez à ajouter la ligne suivante au tout début de votre programme :
<em># -<strong>- coding: utf-8 -</strong>-</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_en_utilisant_l_ide_pycharm"><a class="anchor" href="#_en_utilisant_l_ide_pycharm"></a>En utilisant l&#8217;IDE Pycharm</h4>
<div class="paragraph">
<p>Pour éditer le document une fois créé nous allons utiliser un <a href="http://fr.wikipedia.org/wiki/Environnement_de_d%C3%A9veloppement">IDE</a> nommé <strong>Pycharm</strong> (Windows, Linux, MacOSX) disponible <a href="http://www.jetbrains.com/pycharm/download/index.html">ici</a></p>
</div>
<div class="paragraph">
<p>Vous pouvez plus simplement utiliser un éditeur de texte, mais un IDE fournit des fonctions avancées facilitant votre vie de développeur.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/pycharmLogo.png" alt="pycharmLogo">
</div>
</div>
<div class="paragraph">
<p>Pycharm est un <strong>excellent</strong> IDE compatible avec <strong>Windows, Mac et Linux</strong>,<br>
téléchargeable gratuitement sur le <a href="http://www.jetbrains.com/pycharm/download/index.html">site</a></p>
</div>
<div class="sect4">
<h5 id="_installation_sous_windows"><a class="anchor" href="#_installation_sous_windows"></a>Installation sous Windows</h5>
<div class="paragraph">
<p>L&#8217;installation de Pycharm est relativement simple sous windows.</p>
</div>
<div class="paragraph">
<p>Python doit d&#8217;abord être installé sur l&#8217;ordinateur (voir section installation de python)</p>
</div>
<div class="paragraph">
<p>Il suffit ensuite de télécharger la version <strong>community</strong> ou <strong>education</strong> sur le site, puis de lancer l&#8217;installation.</p>
</div>
<div class="paragraph">
<p>Une fois installé, vous pouvez lancer Pycharm, qui vous demandera de configurer l&#8217;interpréteur python que vous voulez utiliser par défaut. Sous windows, celui-ci se trouve généralement dans <code>c:\Python27\python.exe</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_installation_sous_ubuntu"><a class="anchor" href="#_installation_sous_ubuntu"></a>Installation sous Ubuntu</h5>
<div class="paragraph">
<p>Sous Ubuntu, il n&#8217;y a pas d&#8217;installeur du logiciel comme sous windows.
Celui çi se présente sous la forme d&#8217;une archive (au format <code>.tar.gz</code>), et d&#8217;un executable qu&#8217;il faut lancer depuis le répertoire <code>/bin/</code> du dossier une fois extrait.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Crééer un répertoire <code>pycharm</code> à la racine de votre <code>Dossier personnel</code></p>
</li>
<li>
<p>Télécharger <code>Pycharm Education</code> ici : <a href="http://www.jetbrains.com/" class="bare">http://www.jetbrains.com/</a></p>
</li>
<li>
<p>Extraire l&#8217;archive <code>.tar.gz</code> dans un répertoire <code>pycharm</code> que nous avons créé dans votre espace personnel</p>
</li>
<li>
<p>Ouvrir le Terminal (celui çi s&#8217;ouvre à la racine de votre <code>Dossier personnel</code>, la commande <code>ls</code> vous le confirmera)</p>
</li>
<li>
<p>Se déplacer avec la commande <code>cd</code> dans le bon répertoire : <code>cd pycharm/</code>, puis <code>cd pycharm-edu-2.0/</code>, puis <code>cd bin/</code></p>
</li>
<li>
<p>Puis tapez <code>sh pycharm.sh</code> dans le terminal pour lancer le logiciel !</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_configurer_l_interpréteur_python_windows_ubuntu"><a class="anchor" href="#_configurer_l_interpréteur_python_windows_ubuntu"></a>Configurer l&#8217;interpréteur python (windows/ubuntu)</h5>
<div class="paragraph">
<p>Pycharm a besoin de savoir ou se trouve le programme <code>Python</code> pour executer les programmes. Pour configurer l&#8217;interpreteur si cela n&#8217;est pas déjà fait par défaut, vous pouvez aller dans les préférences du logiciels.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/pycharm1.png" alt="pycharm1">
</div>
</div>
<div class="paragraph">
<p>Et choisir l&#8217;interpréteur Python que vous souhaitez utiliser pour votre projet : 2.7 ou 3.0</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/pycharm2.png" alt="pycharm2">
</div>
</div>
<div class="paragraph">
<p>Pour lancer un programme python, il suffit de faire un clic droit sur le fichier python que vous voulez executer, et de cliquer sur <code>run</code></p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/pycharm3.png" alt="pycharm3">
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_indentation"><a class="anchor" href="#_indentation"></a>Indentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Python utilise l&#8217;indentation pour définir le corps des blocs d&#8217;instruction.</p>
</div>
<div class="paragraph">
<p>Il n&#8217;y a pas donc pas d&#8217;instruction <strong>FIN POUR</strong> , <strong>FIN TANT QUE</strong>, <strong>FIN FONCTION</strong>, etc.</p>
</div>
<div class="paragraph">
<p>L&#8217;indentation se fait avec des espaces (<strong class="red">4 espaces par niveau d&#8217;indentation</strong>), ou avec des tabulations (<strong class="red">1 tabulation</strong>). Toutefois, pour ce cours, nous choisirons d&#8217;utiliser des tabulations car les erreurs sont plus faciles à voir.</p>
</div>
<div class="paragraph">
<p>Regarder le code ci-dessous sans forcément faire attention à ce qu&#8217;il veut dire,
voici en général à quoi ressemble un programme python classique avec ses différents blocs d&#8217;indentation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pycharm possède un super outil qui permet de corriger une <strong>indentation défectueuse</strong> de façon très simple.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Selectionner le texte avec <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>A</kbd></span></p>
</li>
<li>
<p>Appliquer la correction d&#8217;indentation avec <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>I</kbd></span></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Exemple de bloc :</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-kn">import</span> <span class="tok-nn">random</span>

<span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">)</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">)</span>

<span class="tok-k">if</span> <span class="tok-n">a</span> <span class="tok-o">&gt;=</span> <span class="tok-mi">3</span><span class="tok-p">:</span> <i class="conum" data-value="1"></i><b>(1)</b>
	<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s">&quot;a = &quot;</span><span class="tok-p">,</span> <span class="tok-n">a</span><span class="tok-p">,</span> <span class="tok-s">&quot; superieur a 3&quot;</span><span class="tok-p">)</span>
	<span class="tok-k">if</span> <span class="tok-n">b</span> <span class="tok-o">&gt;=</span> <span class="tok-mi">2</span><span class="tok-p">:</span> <i class="conum" data-value="2"></i><b>(2)</b>
		<span class="tok-k">print</span> <span class="tok-p">(</span><span class="tok-s">&quot;b = &quot;</span><span class="tok-p">,</span> <span class="tok-n">b</span><span class="tok-p">,</span> <span class="tok-s">&quot; superieur a 2&quot;</span><span class="tok-p">)</span>
		<span class="tok-n">b</span>  <span class="tok-o">=</span> <span class="tok-n">b</span> <span class="tok-o">*</span> <span class="tok-mi">2</span>
	<i class="conum" data-value="3"></i><b>(3)</b>
<span class="tok-k">else</span><span class="tok-p">:</span>
	<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s">&quot;a = &quot;</span><span class="tok-p">,</span> <span class="tok-n">a</span> <span class="tok-p">,</span> <span class="tok-s">&quot;&lt;= 3&quot;</span><span class="tok-p">)</span> <i class="conum" data-value="4"></i><b>(4)</b>
<i class="conum" data-value="5"></i><b>(5)</b>

<span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s">&quot;b = &quot;</span><span class="tok-p">,</span> <span class="tok-n">b</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Premier niveau d&#8217;indentation pour définir le corps de la fonction</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Deuxième niveau d&#8217;indentation pour définir le corps du bloc <strong>if</strong></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>La fin de l&#8217;indentation pour le <strong>if</strong> du point 2.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Indentation pour le bloc <strong>else</strong></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Fin d&#8217;indentation du premier <strong>if</strong> du point 1.</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Il ne faut pas mixer les espaces et les tabulations
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Les informations sur le <strong>style</strong> à adopter pour les commentaires, l&#8217;indentation, etc sont définis dans une <strong>guideline</strong> :<br>
<a href="http://www.python.org/dev/peps/pep-0008/" class="bare">http://www.python.org/dev/peps/pep-0008/</a>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Plus d&#8217;informations ici aussi :<br>
<a href="http://diveintopython.adrahon.org/getting_to_know_python/indenting_code.html" class="bare">http://diveintopython.adrahon.org/getting_to_know_python/indenting_code.html</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_variables_objets_et_références"><a class="anchor" href="#_variables_objets_et_références"></a>Variables, Objets et Références</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_généralités"><a class="anchor" href="#_généralités"></a>Généralités</h3>
<div class="ulist">
<ul>
<li>
<p>Les variables commencent par un caractère et peuvent ensuite contenir des chiffres</p>
</li>
<li>
<p>La casse est importante en python, <code>maVariable</code> est différent de <code>mavariable</code></p>
</li>
<li>
<p>Généralement, pour le nom des variables, des objets, des méthodes, on utilise le <strong>camelCase</strong> : on commence par une minuscule, et on marque les changements de mot par une majuscule.</p>
</li>
<li>
<p>Les variables doivent porter des noms compréhensibles !! <code>temp</code> n&#8217;est pas un bon nom de variable</p>
</li>
<li>
<p>Il y a 29 mots-clef en python, qui ne seront pas compris par l&#8217;interpréteur comme des variables mais bien comme des instructions spéciales :</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">and</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">def</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exec</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">return</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">assert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">del</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">finally</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">import</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">or</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">try</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">break</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">elif</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">while</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">else</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">from</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">print</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yield</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Vous remarquerez que la commande <strong>print</strong> fait partie des mots-clef ou <strong>statements</strong> en anglais, ce n&#8217;est donc pas une fonction mais bien un élément du langage.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_affectation"><a class="anchor" href="#_affectation"></a>Affectation</h3>
<div class="paragraph">
<p>Une variable est affectée avec le signe <code>=</code>
Une variable doit être initialisée puis affectée une première fois pour pouvoir ensuite être utilisée dans un programme</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">nbJambes</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>
<span class="tok-n">couleurYeux</span> <span class="tok-o">=</span> <span class="tok-s">&quot;marron&quot;</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<em>Affecter</em> est le terme correct pour indiquer l&#8217;initialisation d&#8217;une variable avec une valeur
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pensez à utiliser le plus souvent possible cet outil pour visualiser l&#8217;execution des programmes, cela permet de mieux comprendre et débugger vos programmes !) : <a href="http://pythontutor.com/visualize.html" class="bare">http://pythontutor.com/visualize.html</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>En réalité le modèle d&#8217;affectation de python est un peu différent des autres langages, au sens où python manipule des <strong>références</strong> et distingue nettement le <strong>nom</strong> d&#8217;une variable, et sa <strong>valeur</strong>.
La <strong>référence</strong> est donc le lien qui relie les deux objets python : <strong>nom</strong> et <strong>valeur</strong> !</p>
</div>
<div class="paragraph">
<p>Prenons un exemple simple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-mi">3</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En réalité que se passe-t-il lors de cette affectation :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Python crée un objet ayant une <strong>valeur</strong> 3</p>
</li>
<li>
<p>puis la variable de <strong>nom</strong> "a" est créée si elle n&#8217;existe pas déjà</p>
</li>
<li>
<p>enfin python relie l&#8217;objet ayant la <strong>valeur</strong> 3 avec la variable de <strong>nom</strong> "a"</p>
</li>
</ol>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/obj1.png" alt="obj1">
</div>
<div class="title">Figure 1. Etapes d&#8217;une affectation</div>
</div>
<div class="paragraph">
<p>Que se passe-t-il lors d&#8217;une ré-affectation ?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-mi">3</span> <span class="tok-c"># a est un nombre</span>
<span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-s">&quot;test&quot;</span> <span class="tok-c"># puis il devient du texte</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=a+%3D+3+%0Aa+%3D+%22test%22%0A&mode=display&cumulative=true&heapPrimitives=true&drawParentPointers=true&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="paragraph">
<p>L&#8217;objet contenant la valeur 3 n&#8217;est plus lié à la <strong>variable a</strong> donc il disparait, et il ne peux plus être appelé par la suite !</p>
</div>
<div class="paragraph">
<p>Comment cela se passe-t-il lorsque j&#8217;observe un objet et des références partagés ?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-mi">3</span> <span class="tok-c"># a est un nombre</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-n">a</span> <span class="tok-c"># b est un nombre</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=a+%3D+3+%23+a+est+un+nombre%0Ab+%3D+a+%23+b+est+un+nombre&mode=display&cumulative=true&heapPrimitives=true&drawParentPointers=true&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/obj2.png" alt="obj2">
</div>
<div class="title">Figure 2. objets partagés</div>
</div>
<div class="paragraph">
<p>En réalité il existe toujours un seul objet contenant la valeur 3, et la référence est partagée, reliant la variable <code>a</code> et la variable <code>b</code> au même objet en mémoire.
Ouis mais dans ce cas, que se passe-t-il si je change la valeur de a ????</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-mi">3</span> <span class="tok-c"># a est un nombre</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-n">a</span> <span class="tok-c"># b est un nombre</span>
<span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-s">&quot;test&quot;</span> <span class="tok-c"># b vaut il &quot;test&quot; ou 3 à ce moment là ?</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=a+%3D+3+%0Ab+%3D+a+%0Aa+%3D+%22test%22+&mode=display&cumulative=true&heapPrimitives=true&drawParentPointers=true&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="paragraph">
<p>Et bien en fait, cela dépend des cas.</p>
</div>
<div class="paragraph">
<p>Tout objet dans Python est classifié en deux catégories, <strong>mutable</strong> ou <strong>immutable</strong></p>
</div>
<div class="paragraph">
<p>Dans le cas des objets dit <strong>immutables</strong>, python crée un nouvel objet <code>test</code>, et il le relie par une référence à l&#8217;objet variable <code>a</code></p>
</div>
<div class="paragraph">
<p>L&#8217;objet de valeur 3 reste quand à lui relié par une référence à la variable <code>b</code>.</p>
</div>
<div class="paragraph">
<p>Autrement dit, il n&#8217;est pas possible de modifier un objet lorsqu&#8217;il a été créé, il est dit <strong>immutable</strong>.</p>
</div>
<div class="paragraph">
<p>A l&#8217;inverse de ce fonctionnement, <strong>un objet mutable</strong> peut être en partie modifié (les éléments qui le composent), et nous verrons qu&#8217;en ce sens il faudra être <strong>vigilant</strong>, pour plusieurs raisons :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>car si vous changez la valeur, la ou les références restent intactes, et cela peut créer des problèmes de cohérence dans votre programme.</p>
</li>
<li>
<p>car certains objets jouent le rôle de <code>container</code>, et peuvent embarqués des références avec eux (par exemple, une liste peut contenir une variable, qui pointe via une référence sur un objet externe à la liste).<br>
Peu importe alors qu&#8217;ils soient mutables (les objets listes et dictionnaires) ou immutables (les objets tuples), le contenu de ces <code>container</code> lui est de toute façon <strong>mutable</strong>. C&#8217;est le principe même des containers que de pouvoir stocker, lire et modifier leurs éléments. Là aussi nous en reparlerons plus en détails lorsque nous aborderons la section sur les listes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La classification est donc assez simple :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>les types suivant <code>Numbers</code>, <code>String</code>, <code>Tuples</code> sont <strong>immutables</strong></p>
</li>
<li>
<p>les types suivant <code>Lists</code>, <code>dictionnaries</code> sont <strong>mutables</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Par exemple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># Pour des chaines de caractères</span>
<span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-s">&quot;test&quot;</span>
<span class="tok-n">a</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-s">&quot;v&quot;</span> <span class="tok-c"># impossible de changer le premier caractère de la chaîne</span>

<span class="tok-c"># Pour des variable de type Numbers, donc immutable</span>
<span class="tok-c"># la variable a n&#39;est pas modifié par le changement de b, une nouvelle valeur en mémoire est créée !</span>
<span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-mi">3</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-n">a</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-n">b</span> <span class="tok-o">+</span> <span class="tok-mi">4</span>

<span class="tok-c"># Pour des Lists, mutable, on voit que le comportement est totalement différent !</span>
<span class="tok-c"># La modification de a impacte aussi b, et inversement !</span>
<span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">]</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-n">a</span>
<span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-mi">6</span><span class="tok-p">)</span>
<span class="tok-n">b</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-mi">8</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=a+%3D+3%0Ab+%3D+a%0Ab+%3D+b+%2B+4%0A&mode=display&cumulative=true&heapPrimitives=true&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=a+%3D+%5B3,2,5%5D%0Ab+%3D+a%0Aa.append(6)%0Ab.append(8)&mode=display&cumulative=true&heapPrimitives=true&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="paragraph">
<p><strong class="red">Complexe, n&#8217;est-ce-pas ?</strong></p>
</div>
<div class="paragraph">
<p>Pas tant que ça en fait, vous verrez qu&#8217;au jour le jour, et sur des programmes simples, ça ne vous posera aucun problème, &#8230;&#8203; il n&#8217;y a que dans quelques cas particuliers qu&#8217;il faut être vigilant, nous en reparlerons quand nous aborderons les listes.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<div class="title">En savoir plus sur python et les variables :</div>
<ul>
<li>
<p><a href="http://openbookproject.net/thinkcs/python/english2e/" class="bare">http://openbookproject.net/thinkcs/python/english2e/</a></p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">En savoir plus sur le modèle objet de Python :</div>
<ul>
<li>
<p><a href="http://docs.python.org/reference/datamodel.html" class="bare">http://docs.python.org/reference/datamodel.html</a></p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">En savoir plus sur le typage des données en général :</div>
<ul>
<li>
<p><a href="http://en.wikipedia.org/wiki/Type_system#Type_checking" class="bare">http://en.wikipedia.org/wiki/Type_system#Type_checking</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_type_des_variables"><a class="anchor" href="#_type_des_variables"></a>Type des variables</h3>
<div class="paragraph">
<p>Par chance pour vous, le typage des variables est dynamique (à l&#8217;inverse du <strong>typage statique</strong> vu en cours avec le pseudo-code).<br>
Autrement dit, python est capable de détecter à la lecture de votre ligne de commande quel type de valeur à partir de la valeur que vous affectez à une variable.</p>
</div>
<div class="paragraph">
<p>Il n&#8217;est donc plus utile de préciser quelle <strong>type/nature de valeur</strong> vous allez stocker dans votre variable.</p>
</div>
<div class="paragraph">
<p><strong>Mais ce système à son revers</strong>, et il faut être vigilant car de nombreux bugs peuvent donc avoir lieu durant l&#8217;execution du programme&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Ainsi un programme peut se revéler correct pour l&#8217;interpréteur, mais plantera à l&#8217;execution car la nature des données attendues par votre programme divergera de ce qu&#8217;il aura vraiment reçu.</p>
</div>
<div class="paragraph">
<p>Un peu comme si vous passiez un <em>parapluie</em> à un joueur de tennis attendant une <em>raquette</em>.</p>
</div>
<div class="paragraph">
<p>De ce fait, le programme ne saura plus quoi faire et s&#8217;arretera dans le meilleur des cas.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. principaux types du langage :</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Types</th>
<th class="tableblock halign-left valign-top">Exemples</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numbers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1234, 3.1415</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Strings</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\'spam',"guido's"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Booleans</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True , False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lists</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1, [2, \'three'], 4]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dictionnaries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{\'food': \'spam', \'taste': \'yum'}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">File</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">myfile = open(\'eggs', \'r')</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Ce n&#8217;est pas parce que il n&#8217;y a plus besoin de typer les variables que celle-ci ne possèdent pas un type !
La méthode <em>type()</em> nous retourne le type d&#8217;une variable après son initialisation.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">nbJambes</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>
<span class="tok-nb">type</span><span class="tok-p">(</span><span class="tok-n">nbJambes</span><span class="tok-p">)</span>

<span class="tok-c"># re-affectation de la variable nbJambes</span>
<span class="tok-n">nbJambes</span> <span class="tok-o">=</span> <span class="tok-s">&quot;deux&quot;</span>
<span class="tok-nb">type</span><span class="tok-p">(</span><span class="tok-n">nbJambes</span><span class="tok-p">)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_commentaires"><a class="anchor" href="#_commentaires"></a>Commentaires</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Afin de pouvoir transmettre le code à quelqu&#8217;un qui ne l&#8217;a jamais lu, il est courant et recommandé de rajouter des commentaires dans votre programme.
En python il y a plusieurs façons d&#8217;écrire des commentaires, avec <code>#</code> ou <code>"""</code></p>
</div>
<div class="listingblock">
<div class="title">Afficher du texte</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-sd">&quot;&quot;&quot;</span>
<span class="tok-sd">Ceci est un commentaire</span>
<span class="tok-sd">sur plusieurs lignes !</span>
<span class="tok-sd">&quot;&quot;&quot;</span>
<span class="tok-n">reponse</span> <span class="tok-o">=</span> <span class="tok-mi">42</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;Je reviendrai.&quot;</span> <span class="tok-c"># Ceci est un commentaire en fin de ligne ...</span>
<span class="tok-c"># qui peut aussi être ici en début de ligne ...</span>
<span class="tok-k">print</span> <span class="tok-n">reponse</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Les informations sur le <strong>style</strong> à adopter pour les commentaires, l&#8217;indentation, etc sont définis dans une <strong>guideline</strong> :<br>
<a href="http://www.python.org/dev/peps/pep-0008/" class="bare">http://www.python.org/dev/peps/pep-0008/</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_input_output"><a class="anchor" href="#_input_output"></a>Input / Output</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_sorties_print"><a class="anchor" href="#_sorties_print"></a>Sorties : print()</h3>
<div class="paragraph">
<p>La méthode <code>print()</code> permet d&#8217;afficher du texte ainsi que le contenu des variables.</p>
</div>
<div class="listingblock">
<div class="title">Afficher du texte</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">reponse</span> <span class="tok-o">=</span> <span class="tok-mi">42</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;Je reviendrai.&quot;</span>
<span class="tok-k">print</span> <span class="tok-n">reponse</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Tout ce qui est compris entre deux quotes <code>"</code> et <code>"</code> est considéré comme un type <code>String</code> par python.
Toutefois, nous allons voir ici qu&#8217;il possible d&#8217;imbriquer des variables dans une chaine de caractère, ce qui peut s&#8217;avérer très pratique quand on veux afficher divers résultats.
De nombreuses écritures sont possibles à affichage égal, nous allons seulement en voir quelques une ci-dessous :</p>
</div>
<div class="listingblock">
<div class="title">Concatener du texte avec une variable</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">reponse</span> <span class="tok-o">=</span> <span class="tok-mi">42</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;La grande question sur la vie, l&#39;univers et le reste est&quot;</span><span class="tok-p">,</span> <span class="tok-n">r</span><span class="tok-err">é</span><span class="tok-n">ponse</span>

<span class="tok-n">age</span> <span class="tok-o">=</span> <span class="tok-mi">900</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;Quand &quot;</span><span class="tok-p">,</span> <span class="tok-n">age</span> <span class="tok-p">,</span> <span class="tok-s">&quot;ans comme moi tu auras, moins en forme tu seras !&quot;</span>

<span class="tok-n">animal</span> <span class="tok-o">=</span> <span class="tok-s">&quot;Tyranosaure&quot;</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;Le &quot;</span><span class="tok-p">,</span> <span class="tok-n">animal</span><span class="tok-p">,</span> <span class="tok-s">&quot;  n&#39;obéit à aucun schéma de groupe ni aucun horaire de parc d&#39;attraction. C&#39;est l&#39;essence du chaos.&quot;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Concatener du texte avec du texte</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">vetements</span> <span class="tok-o">=</span> <span class="tok-s">&quot;vêtements, tes bottes&quot;</span>
<span class="tok-n">vehicule</span> <span class="tok-o">=</span> <span class="tok-s">&quot;moto&quot;</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;Je veux tes &quot;</span> <span class="tok-o">+</span> <span class="tok-n">vetements</span> <span class="tok-o">+</span> <span class="tok-s">&quot; et ta &quot;</span> <span class="tok-o">+</span> <span class="tok-n">vehicule</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;Hasta&quot;</span> <span class="tok-o">+</span> <span class="tok-s">&quot;la vista&quot;</span> <span class="tok-o">+</span> <span class="tok-s">&quot;baby&quot;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Concatener du texte avec des variables</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">tirade1</span> <span class="tok-o">=</span> <span class="tok-s">&quot;J&#39;ose tout ce qui sied à un homme, qui n&#39;ose plus n&#39;en est pas un.&quot;</span>
<span class="tok-n">tirade2</span> <span class="tok-o">=</span> <span class="tok-s">&quot;Ignore ce que je suis et procure-moi quelque déguisement qui conviendrait au dessein que je forme.&quot;</span>
<span class="tok-n">tirade3a</span> <span class="tok-o">=</span> <span class="tok-s">&quot; Les prolifiques vilenies de dame nature vont pullulant sur lui.&quot;</span>
<span class="tok-n">tirade3b</span> <span class="tok-o">=</span> <span class="tok-s">&quot;Dédaignant la fortune et brandissant son épée qui fumait d&#39;une sanglante exécution&quot;</span>

<span class="tok-k">print</span> <span class="tok-s">&quot;Shakespeare a dit : &quot;</span><span class="tok-p">,</span> <span class="tok-n">tirade1</span> <span class="tok-p">,</span><span class="tok-s">&quot;mais aussi &quot;</span><span class="tok-p">,</span> <span class="tok-n">tirade2</span>

<span class="tok-c"># ou sinon sous une autre forme en concatenant variable texte et texte :</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;Shakespeare a dit : &quot;</span> <span class="tok-o">+</span> <span class="tok-n">tirade1</span> <span class="tok-o">+</span> <span class="tok-s">&quot;mais aussi &quot;</span> <span class="tok-o">+</span> <span class="tok-n">tirade2</span>

<span class="tok-c"># ou avec les deux méthodes :</span>
<span class="tok-k">print</span>  <span class="tok-s">&quot;shakespeare a dit : </span><span class="tok-si">%s</span><span class="tok-s">, mais aussi </span><span class="tok-si">%s</span><span class="tok-s">&quot;</span> <span class="tok-o">%</span> <span class="tok-p">(</span><span class="tok-n">tirade1</span><span class="tok-p">,</span> <span class="tok-n">tirade3a</span> <span class="tok-o">+</span> <span class="tok-n">tirade3b</span><span class="tok-p">)</span>

<span class="tok-c"># cela marche aussi avec les nombres :</span>

<span class="tok-k">print</span> <span class="tok-s">&quot;La grande question sur la </span><span class="tok-si">%s</span><span class="tok-s">, </span><span class="tok-si">%s</span><span class="tok-s">, et le </span><span class="tok-si">%s</span><span class="tok-s"> est </span><span class="tok-si">%d</span><span class="tok-s"> &quot;</span> <span class="tok-o">%</span> <span class="tok-p">(</span><span class="tok-s">&quot;vie&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;l&#39;univers&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;le reste&quot;</span><span class="tok-p">,</span> <span class="tok-mi">42</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Attention toutefois à ne pas tout mélanger ! les Types <code>String</code> et <code>Numbers</code> ne peuvent être concatenés avec l&#8217;opérateur <code>+</code>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
avec <code>,</code> la variable est automatiquement transformée en chaîne de caractère, contrairement à l&#8217;opérateur <code>+</code>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">reponse</span> <span class="tok-o">=</span> <span class="tok-mi">42</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;La réponse à la question est :&quot;</span> <span class="tok-o">+</span> <span class="tok-n">reponse</span>

<span class="tok-n">Traceback</span> <span class="tok-p">(</span><span class="tok-n">most</span> <span class="tok-n">recent</span> <span class="tok-n">call</span> <span class="tok-n">last</span><span class="tok-p">):</span>
  <span class="tok-n">File</span> <span class="tok-s">&quot;&lt;stdin&gt;&quot;</span><span class="tok-p">,</span> <span class="tok-n">line</span> <span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-ow">in</span> <span class="tok-o">&lt;</span><span class="tok-n">module</span><span class="tok-o">&gt;</span>
<span class="tok-ne">TypeError</span><span class="tok-p">:</span> <span class="tok-n">cannot</span> <span class="tok-n">concatenate</span> <span class="tok-s">&#39;str&#39;</span> <span class="tok-ow">and</span> <span class="tok-s">&#39;int&#39;</span> <span class="tok-n">objects</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si jamais vous voulez utiliser cette syntaxe malgré tout, il existe des fonctions qui permettent heureusement de transformer du texte en nombre et inversement :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>str()</code> transforme un nombre en texte</p>
</li>
<li>
<p><code>int()</code> transforme un texte en nombre</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Ces fonctions sont livrées avec le langage, nul besoin de les créer. La liste complète est disponible ici : <a href="http://docs.python.org/library/functions.html" class="bare">http://docs.python.org/library/functions.html</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A ces différents types d&#8217;affichage il faut ajouter la possibilité de mettre en forme le texte pour son affichage.
Il existe donc des caractères spéciaux que l&#8217;on peux insérer dans une chaîne de caractère afin de modifier son affichage.</p>
</div>
<div class="listingblock">
<div class="title">Des caractères spéciaux pour la mise en forme</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># tabulation</span>
<span class="tok-n">days</span> <span class="tok-o">=</span> <span class="tok-s">&quot;Mon</span><span class="tok-se">\t</span><span class="tok-s">Tue</span><span class="tok-se">\t</span><span class="tok-s">Wed</span><span class="tok-se">\t</span><span class="tok-s">Thu</span><span class="tok-se">\t</span><span class="tok-s">Fri</span><span class="tok-se">\t</span><span class="tok-s">Sat</span><span class="tok-se">\t</span><span class="tok-s">Sun</span><span class="tok-se">\t</span><span class="tok-s">&quot;</span>
<span class="tok-n">months</span> <span class="tok-o">=</span> <span class="tok-s">&quot;Jan</span><span class="tok-se">\n</span><span class="tok-s">Feb</span><span class="tok-se">\n</span><span class="tok-s">Mar</span><span class="tok-se">\n</span><span class="tok-s">Apr</span><span class="tok-se">\n</span><span class="tok-s">May</span><span class="tok-se">\n</span><span class="tok-s">Jun</span><span class="tok-se">\n</span><span class="tok-s">Jul</span><span class="tok-se">\n</span><span class="tok-s">Aug&quot;</span>

<span class="tok-c"># retour à la ligne</span>
<span class="tok-k">print</span> <span class="tok-n">days</span>
<span class="tok-k">print</span> <span class="tok-n">months</span></code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Une liste plus complète des caractères spéciaux, ainsi que de plus nombreuses informations sur le formatage de texte peuvent être trouvées ici :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>les chapitres 6,7,8,9, 10 du livre "learn python the hard way" <a href="http://learnpythonthehardway.org/book/" class="bare">http://learnpythonthehardway.org/book/</a></p>
</li>
<li>
<p>La documentation officielle <a href="http://docs.python.org/reference/lexical_analysis.html#string-literals" class="bare">http://docs.python.org/reference/lexical_analysis.html#string-literals</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_entrées_raw_input"><a class="anchor" href="#_entrées_raw_input"></a>Entrées : raw_input()</h3>
<div class="paragraph">
<p>La fonction <strong>raw_input(" message ")</strong> est l&#8217;équivalent de la commande <strong>SAISIE(" message ")</strong> vu en cours d&#8217;algorithmie, attention elle renvoie une chaîne de caractère.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">value</span> <span class="tok-o">=</span> <span class="tok-nb">raw_input</span> <span class="tok-p">(</span><span class="tok-s">&quot;Veuillez saisir un texte ou une valeur&quot;</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">value</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour transformer une variable caractère en numérique, on utilise la fonction de conversion <code>int()</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">value</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">raw_input</span> <span class="tok-p">(</span><span class="tok-s">&quot;Veuillez saisir un texte ou une valeur&quot;</span><span class="tok-p">))</span>
<span class="tok-k">print</span> <span class="tok-n">value</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_fonctions"><a class="anchor" href="#_fonctions"></a>Fonctions</h2>
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="title">Condition simple en Pseudo-Code</div>
<div class="paragraph">
<p><strong class="red">FONCTION</strong> <em>NOMFONCTION</em> <strong class="red">(</strong> <em>arguments1</em>, <em>arguments</em>, <em>&#8230;&#8203;</em>, <em>argumentsN</em> <strong class="red">)</strong></p>
</div>
<div class="paragraph">
<p><em>&#8230;&#8203;traitement&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p><strong class="red">RENVOIE</strong> <em>[VALUE]</em></p>
</div>
<div class="paragraph">
<p><strong class="red">FIN FONCTION</strong></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Ce qui donne quasiment la même chose en python théorique, le mot clef <code>def</code> introduisant le corps de la fonction :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">def</span> <span class="tok-nf">nomFonction</span> <span class="tok-p">(</span><span class="tok-n">arguments1</span><span class="tok-p">,</span> <span class="tok-n">arguments2</span><span class="tok-p">,</span> <span class="tok-o">...</span> <span class="tok-n">argumentsN</span><span class="tok-p">):</span>
   <span class="tok-c">#...traitements...</span>
   <span class="tok-k">return</span> <span class="tok-n">value</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>et en pratique :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># les fonctions doivent être déclarées avant de pouvoir être appelées !</span>
<span class="tok-k">def</span> <span class="tok-nf">somme</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">):</span>
   <span class="tok-k">return</span> <span class="tok-n">a</span> <span class="tok-o">+</span> <span class="tok-n">b</span>

<span class="tok-k">def</span> <span class="tok-nf">multiply</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">):</span>
   <span class="tok-k">return</span> <span class="tok-n">a</span> <span class="tok-o">*</span> <span class="tok-n">b</span>

<span class="tok-c"># On affiche les valeurs retournées</span>
<span class="tok-k">print</span> <span class="tok-n">somme</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">)</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-k">print</span> <span class="tok-n">multiply</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">7</span><span class="tok-p">)</span>

<span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-mi">5</span>
<span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>

<span class="tok-c"># On peux passer des variables directement</span>
<span class="tok-k">print</span> <span class="tok-n">somme</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-n">a</span><span class="tok-p">)</span>

<span class="tok-c"># ou en les modifiant/ faisant des calculs intermédiaires</span>
<span class="tok-k">print</span> <span class="tok-n">multiply</span><span class="tok-p">(</span><span class="tok-n">a</span> <span class="tok-o">+</span> <span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span> <span class="tok-o">*</span> <span class="tok-mi">2</span> <span class="tok-o">+</span> <span class="tok-n">b</span><span class="tok-p">)</span>

<span class="tok-c"># les appels de fonctions sont empilables sans aucune limite</span>
<span class="tok-k">print</span> <span class="tok-n">somme</span><span class="tok-p">(</span><span class="tok-n">multiply</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">),</span><span class="tok-n">somme</span><span class="tok-p">(</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-n">b</span> <span class="tok-o">+</span> <span class="tok-n">multiply</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">8</span><span class="tok-p">)))</span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>L&#8217;appel de fonction se fait en appelant le <strong>nom de la fonction</strong> suivi des <strong>arguments entre parenthèses</strong>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Les arguments peuvent être calculés avant execution de la fonction, on peut donc facilement empiler les appels de fonctions comme dans cet exemple.</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_portées_des_variables"><a class="anchor" href="#_portées_des_variables"></a>Portées des variables</h3>
<div class="paragraph">
<p>Par <strong>portée</strong>, il faut entendre la durée de vie des variables dans votre programme ou un bloc d&#8217;instruction dans votre programme.</p>
</div>
<div class="paragraph">
<p>Une variable est soit :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>globale</strong> : visible de partout dans le programme</p>
</li>
<li>
<p><strong>locale</strong> : seulement visible dans le bloc d&#8217;instruction dans laquelle elle a été déclarée.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Les variables globales sont toutes celles qui ne sont pas dans une fonction, donc dans le corps du module, et qui ont été déclarées en entête de programme.
Elles sont visibles de partout dans votre programme, mais nous verrons par la suite qu&#8217;elles sont uniquement modifiables si le programmeur utilise le mot clef <code>global</code></p>
</div>
<div class="paragraph">
<p>Essayons de comprendre la différence concrétement via ces exemples de programme :</p>
</div>
<div class="listingblock">
<div class="title">testGlobal.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">X</span> <span class="tok-o">=</span> <span class="tok-mi">99</span> <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-k">def</span> <span class="tok-nf">foo1</span><span class="tok-p">():</span>
   <span class="tok-n">Y</span> <span class="tok-o">=</span> <span class="tok-mi">55</span> <i class="conum" data-value="2"></i><b>(2)</b>
   <span class="tok-k">print</span> <span class="tok-n">Y</span>

<span class="tok-n">foo1</span><span class="tok-p">()</span>
<span class="tok-k">print</span> <span class="tok-n">Y</span> <span class="tok-c"># ne marchera pas </span><i class="conum" data-value="3"></i><b>(3)</b>

<span class="tok-c"># On tente de redéfinir X dans cette fonction foo()</span>
<span class="tok-k">def</span> <span class="tok-nf">foo2</span><span class="tok-p">():</span>
   <span class="tok-n">X</span> <span class="tok-o">=</span> <span class="tok-mi">88</span> <i class="conum" data-value="4"></i><b>(4)</b>

<span class="tok-n">foo2</span><span class="tok-p">()</span>
<span class="tok-k">print</span> <span class="tok-n">X</span> <span class="tok-c"># X n&#39;a pas bougé du fait de  &lt;4&gt; ...</span>

<span class="tok-c"># La aussi, ce code ne changera pas la valeur de la variable globale X = 99</span>
<span class="tok-k">def</span> <span class="tok-nf">foo3</span><span class="tok-p">(</span><span class="tok-n">X</span><span class="tok-p">):</span>
   <span class="tok-n">X</span> <span class="tok-o">=</span> <span class="tok-n">X</span> <span class="tok-o">+</span> <span class="tok-mi">1</span> <i class="conum" data-value="5"></i><b>(5)</b>

<span class="tok-n">foo3</span><span class="tok-p">(</span><span class="tok-n">X</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">X</span>

<span class="tok-c"># Accès à la variable globale en lecture</span>
<span class="tok-k">def</span> <span class="tok-nf">foo4</span><span class="tok-p">(</span><span class="tok-n">Y</span><span class="tok-p">):</span>
   <span class="tok-c"># Portée locale</span>
   <span class="tok-n">Z</span> <span class="tok-o">=</span> <span class="tok-n">Y</span> <span class="tok-o">+</span> <span class="tok-n">X</span> <i class="conum" data-value="6"></i><b>(6)</b>
   <span class="tok-k">return</span> <span class="tok-n">Z</span>

<span class="tok-n">foo4</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">)</span>

<span class="tok-c"># Accès à la variable globale en écriture</span>
<span class="tok-k">def</span> <span class="tok-nf">foo5</span><span class="tok-p">():</span>
   <span class="tok-k">global</span> <span class="tok-n">X</span>
   <span class="tok-n">X</span> <span class="tok-o">=</span> <span class="tok-n">X</span> <span class="tok-o">+</span> <span class="tok-mi">1</span> <i class="conum" data-value="7"></i><b>(7)</b>

<span class="tok-n">foo5</span><span class="tok-p">()</span>
<span class="tok-k">print</span> <span class="tok-n">X</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Déclarée <strong>avant</strong> et en <strong>dehors</strong> d&#8217;une fonction (dans le corps du module donc), la variable <code>X</code> est considérée comme une variable <strong>globale</strong>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Y est déclaré dans le corps de la fonction, c&#8217;est une variable <strong>locale</strong>, c&#8217;est à dire temporaire.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Si on tente d&#8217;y accéder après appel de la fonction, on se rend bien compte qu&#8217;elle a disparue. Le seul moyen de récupérer une (ou plusieurs) valeur est donc de faire un renvoi avec <code>return</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>A partir du moment où il y a affectation dans le corps d&#8217;une fonction, Python déclare cette nouvelle variable comme une variable locale, peu importe qu&#8217;elle existe par ailleurs.
Autrement dit, elle <strong class="red">masque</strong> la variable <code>X</code> déclarée en globale.
De la même façon que précédemment, la variable <code>X</code> <strong>disparait/meurt</strong> à la fin de l&#8217;execution de la fonction, c&#8217;est une <strong>variable temporaire</strong> en quelque sorte.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>A partir du moment où vous assignez une valeur à une variable dans une fonction, Python considère qu&#8217;il s&#8217;agit d&#8217;une variable locale.
Ici vous aurez une erreur, car il va tenter d&#8217;incrémenter la variable locale X, hors celle-ci n&#8217;existe pas dans cette fonction.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Z et Y sont des variables locales. Concernant X, si vous faites appel à une variable <strong>globale</strong>, et qu&#8217;elle n&#8217;a pas été redéfinie, python est capable de re-trouver par déduction la valeur de votre variable <strong>globale</strong>. Toutefois, celle ci ne sera accessible qu&#8217;en lecture et pas en écriture ( car comme vu précédemment toute nouvelle affectation entraine la création d&#8217;une nouvelle variable locale).</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Il existe un mot clef <code>global</code> permettant de passer outre cette limitation vu en 6, et permettant d&#8217;accéder en écriture à votre variable <strong>globale</strong>. Cette utilisation est clairement déconseillée car pouvant entrainer de nombreuses incohérences dans votre programme..</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Voyons pourquoi dès à présent dans cet exemple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">X</span> <span class="tok-o">=</span> <span class="tok-mi">99</span>

<span class="tok-k">def</span> <span class="tok-nf">func1</span><span class="tok-p">():</span>
   <span class="tok-k">global</span> <span class="tok-n">X</span>
   <span class="tok-n">X</span> <span class="tok-o">=</span> <span class="tok-mi">88</span>

<span class="tok-k">def</span> <span class="tok-nf">func2</span><span class="tok-p">():</span>
   <span class="tok-k">global</span> <span class="tok-n">X</span>
   <span class="tok-n">X</span> <span class="tok-o">=</span> <span class="tok-mi">42</span>

<span class="tok-n">func1</span><span class="tok-p">()</span>
<span class="tok-n">func2</span><span class="tok-p">()</span>
<span class="tok-c"># ne donnera pas le même resultat que pour</span>
<span class="tok-n">func2</span><span class="tok-p">()</span>
<span class="tok-n">func1</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=X+%3D+99%0A%0Adef+func1()%3A%0A+global+X%0AX%3D+88%0A%0Adef+func2()%3A%0A+global+X%0AX%3D+42%0A%0Afunc1()%0Afunc2()%0A%0Afunc2()%0Afunc1()&mode=display&cumulative=true&heapPrimitives=true&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="paragraph">
<p>Compte tenu de ce programme, il est très clair ici qu&#8217;il risque de favoriser des conflits sur X, qui est devenu une ressource partagée !</p>
</div>
<div class="paragraph">
<p>L&#8217;ordre d&#8217;appels des fonctions aura donc une incidence sur la valeur finale de X, ce qui est <strong>clairement un problème</strong> (pour la recherche d&#8217;erreur par exemple) &#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="_passage_d_arguments_et_retour_de_données"><a class="anchor" href="#_passage_d_arguments_et_retour_de_données"></a>Passage d&#8217;arguments et retour de données</h3>
<div class="paragraph">
<p>Quelques règles sur les arguments, et le passage d&#8217;arguments à des fonctions en python.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Les arguments sont passés par <strong>assignation</strong>, autrement dit il n&#8217;y a <strong>pas de re-copie des valeurs</strong> dans une nouvelle variable locale lors du transfert comme dans certains langages (cf C, C\\) .</p>
</li>
<li>
<p><strong>Peu importe donc le nom de vos arguments</strong>, ils peuvent recouper des noms de variable déjà existant ailleurs dans votre programme puisque <strong>nous savons que leurs portées sont locales.</strong></p>
</li>
<li>
<p>Changer un/plusieurs élément(s) dans un <strong>objet mutable</strong> a une <strong>incidence sur le programme appelant</strong> .</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">def</span> <span class="tok-nf">modif</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">):</span>
   <span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-mi">2</span> <i class="conum" data-value="1"></i><b>(1)</b>
   <span class="tok-n">b</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-mi">5</span> <i class="conum" data-value="2"></i><b>(2)</b>

<span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>
<span class="tok-nb">list</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">]</span>

<span class="tok-n">modif</span><span class="tok-p">(</span><span class="tok-n">x</span><span class="tok-p">,</span><span class="tok-nb">list</span><span class="tok-p">)</span>

<span class="tok-k">print</span> <span class="tok-n">x</span> <span class="tok-c"># valeur inchangé</span>
<span class="tok-k">print</span> <span class="tok-nb">list</span> <span class="tok-c"># valeur changé</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=def+modif(a,b)%3A%0A+a+%3D+2%0Ab%5B0%5D%3D+5%0A%0Ax+%3D+1%0Alist+%3D+%5B1,2%5D%0A%0Amodif(x,list)%0A%0Aprint+x%23+valeur+inchang%C3%A9%0Aprint+list+%23+valeur+chang%C3%A9&mode=display&cumulative=true&heapPrimitives=true&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/ref1.png" alt="ref1">
</div>
<div class="title">Figure 3. Avant execution du corps de la fonction, l&#8217;assignation est la suivante :</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>a</code> est une variable locale qui récupère la valeur de la variable <code>x</code> lors de l&#8217;appel de la fonction.
L&#8217;assignation n&#8217;a pas d&#8217;effet sur la variable <code>x</code>, seul la variable <code>a</code> locale sera modifiée ici.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>La liste passée ici en paramètre à une variable locale. Toutefois, une liste est un objet <strong>mutable</strong>, donc modifiable sur place !
Nous ne changeons pas <code>b</code>, mais un élément de la liste représentée par b, ce qui aura à la fin de l&#8217;execution une répercution sur la variable <code>list</code></td>
</tr>
</table>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/ref2.png" alt="ref2">
</div>
<div class="title">Figure 4. Après execution du corps de la fonction, voici le résultat :</div>
</div>
<div class="paragraph">
<p>Un apercu des différentes techniques est donné via le lien ci dessous, mais la meilleur façon reste de renvoyer des données via le mot clef <strong>return</strong></p>
</div>
<div class="paragraph">
<p>Référence ici :<br>
<a href="http://docs.python.org/release/2.7.3/faq/programming.html?highlight=nonlocal#how-do-i-write-a-function-with-output-parameters-call-by-reference" class="bare">http://docs.python.org/release/2.7.3/faq/programming.html?highlight=nonlocal#how-do-i-write-a-function-with-output-parameters-call-by-reference</a></p>
</div>
<div class="listingblock">
<div class="title">exemple de code source bien écrit</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">sac</span> <span class="tok-o">=</span> <span class="tok-mi">3</span>
<span class="tok-k">def</span> <span class="tok-nf">calcul</span><span class="tok-p">(</span><span class="tok-n">sac</span><span class="tok-p">,</span><span class="tok-n">nbOr</span><span class="tok-p">):</span> <i class="conum" data-value="1"></i><b>(1)</b>
   <span class="tok-n">sac</span> <span class="tok-o">=</span> <span class="tok-n">sac</span> <span class="tok-o">+</span> <span class="tok-n">nbOr</span>
   <span class="tok-k">return</span> <span class="tok-n">sac</span>

<span class="tok-k">print</span> <span class="tok-n">calcul</span><span class="tok-p">(</span><span class="tok-n">sac</span><span class="tok-p">,</span><span class="tok-mi">20</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=sac+%3D+3%0A%0Adef+calcul(sac,nbOr)%3A+%0A+sac+%3D+sac+%2B+nbOr%0Areturn+sac%0A%0Adef+calcul2(uxzefzzvc,nbOr)%3A%0A+uxzefzzvc+%3D+uxzefzzvc+%2B+nbOr%0A+return+uxzefzzvc%0A%0Aprint+calcul(sac,20)%0Aprint+calcul2(sac,20)&mode=display&cumulative=true&heapPrimitives=true&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Comme la fonction manipule des variables locales, peu importe que les noms d&#8217;arguments se recoupent<br>
<code>sac</code> ou <code>x</code> ou <code>v</code> dans la définition de la méthode <code>calcul(..)</code> ne change rien.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">exemple de code source qu&#8217;il faut éviter</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">sac</span> <span class="tok-o">=</span> <span class="tok-mi">3</span>
<span class="tok-k">def</span> <span class="tok-nf">calcul</span><span class="tok-p">(</span><span class="tok-n">nbOr</span><span class="tok-p">):</span> <i class="conum" data-value="1"></i><b>(1)</b>
   <span class="tok-k">global</span> <span class="tok-n">sac</span> <i class="conum" data-value="2"></i><b>(2)</b>
   <span class="tok-n">sac</span> <span class="tok-o">=</span> <span class="tok-n">sac</span> <span class="tok-o">+</span> <span class="tok-n">nbOr</span> <i class="conum" data-value="3"></i><b>(3)</b>

<span class="tok-n">calcul</span><span class="tok-p">(</span><span class="tok-mi">20</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">sac</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Seul nbOr est une variable locale</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>On accède à sac en variable globale</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Et on le modifie ainsi, c&#8217;est mal ! :)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Le mot clef <code>return</code> implique quand il est rencontré par le programme, l&#8217;arrêt du traitement de la fonction, et le retour du résultat.
Ce qui n&#8217;exclue pas la possibilité d&#8217;avoir plusieurs fonctions <code>return</code> dans un même programme, qui renvoie un résultat en fonction de condition différentes.</p>
</div>
<div class="listingblock">
<div class="title">multiples retours de fonctions</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">sac</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">raw_input</span><span class="tok-p">(</span><span class="tok-s">&quot;nombre de pièces dans votre sac ?&quot;</span><span class="tok-p">))</span>

<span class="tok-k">def</span> <span class="tok-nf">douane</span><span class="tok-p">(</span><span class="tok-n">sac</span><span class="tok-p">):</span>
    <span class="tok-n">taxe</span> <span class="tok-o">=</span> <span class="tok-mi">15</span>
    <span class="tok-k">if</span> <span class="tok-n">sac</span> <span class="tok-o">&gt;</span> <span class="tok-n">taxe</span><span class="tok-p">:</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s">&quot;par ici la monnaie&quot;</span><span class="tok-p">)</span>
        <span class="tok-k">return</span> <span class="tok-n">sac</span> <span class="tok-o">-</span> <span class="tok-n">taxe</span>
    <span class="tok-k">else</span><span class="tok-p">:</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s">&quot;pas de taxe pour les pauvres&quot;</span><span class="tok-p">)</span>
        <span class="tok-k">return</span> <span class="tok-n">sac</span>

<span class="tok-k">print</span> <span class="tok-n">douane</span><span class="tok-p">(</span><span class="tok-n">sac</span><span class="tok-p">)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_listes"><a class="anchor" href="#_listes"></a>Listes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_définition"><a class="anchor" href="#_définition"></a>Définition</h3>
<div class="paragraph">
<p>Les listes sont l&#8217;équivalent des tableaux que nous avons vu en cours. La seule différence,
c&#8217;est que les listes sont <strong>forcément dynamiques</strong>, et elles peuvent stocker <strong>n&#8217;importe quel type de données</strong>.</p>
</div>
<div class="paragraph">
<p>A ce titre elles sont considérées comme des <code>containers</code> car elles peuvent stocker des <strong>objets quelconques</strong> ou bien des <strong>références d&#8217;objets</strong> (par exemple des fonctions).</p>
</div>
<div class="listingblock">
<div class="title">initialiser une liste</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c">#Une liste 1D vide</span>
<span class="tok-n">listX</span> <span class="tok-o">=</span> <span class="tok-p">[]</span>

<span class="tok-c"># 1 dimension</span>
<span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span> <span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span> <span class="tok-p">]</span>
<span class="tok-k">print</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">listA</span><span class="tok-p">)</span> <span class="tok-c"># 4 elements</span>

<span class="tok-c"># 2 dimension matrice</span>
<span class="tok-n">listB</span> <span class="tok-o">=</span> <span class="tok-p">[</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">],[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">],[</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">]]</span>
<span class="tok-k">print</span> <span class="tok-n">listB</span>

<span class="tok-c"># 2 dimension non symmétrique</span>
<span class="tok-n">listC</span> <span class="tok-o">=</span> <span class="tok-p">[[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">],</span> <span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">1</span><span class="tok-p">],</span> <span class="tok-p">[</span><span class="tok-mi">4</span><span class="tok-p">]]</span>
<span class="tok-k">print</span> <span class="tok-n">listC</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Initialiser une liste avec d&#8217;autres listes :</p>
</div>
<div class="listingblock">
<div class="title">initialiser une liste avec d&#8217;autres listes</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span> <span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span> <span class="tok-p">]</span>
<span class="tok-n">listB</span> <span class="tok-o">=</span> <span class="tok-p">[</span> <span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span> <span class="tok-p">]</span>
<span class="tok-n">listC</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-n">listA</span><span class="tok-p">,</span> <span class="tok-n">listB</span><span class="tok-p">]</span>

<span class="tok-k">print</span> <span class="tok-n">listC</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Construire une liste avec la fonction <code>append()</code> :</p>
</div>
<div class="listingblock">
<div class="title">initialiser une liste avec une fonction python</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[]</span>
<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">):</span>
  <span class="tok-n">listA</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">)</span>

<span class="tok-k">print</span> <span class="tok-n">listA</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=listA+%3D+%5B%5D%0Afor+i+in+range(3)%3A%0A++listA.append(1)%0A%0Aprint+listA&mode=display&cumulative=true&heapPrimitives=true&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="paragraph">
<p>Avec des fonctions, même principe pour l&#8217;initialisation, seul l&#8217;appel du tableau est un peu différent.</p>
</div>
<div class="listingblock">
<div class="title">initialiser une liste avec des fonctions</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># 1 dimension avec des fonctions</span>
<span class="tok-k">def</span> <span class="tok-nf">somme</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">):</span>
  <span class="tok-k">return</span> <span class="tok-n">a</span> <span class="tok-o">+</span> <span class="tok-n">b</span>

<span class="tok-k">def</span> <span class="tok-nf">multiply</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">):</span>
  <span class="tok-k">return</span> <span class="tok-n">a</span> <span class="tok-o">*</span> <span class="tok-n">b</span>

<span class="tok-n">listd</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-n">somme</span><span class="tok-p">,</span><span class="tok-n">multiply</span><span class="tok-p">]</span>
<span class="tok-k">print</span> <span class="tok-n">listd</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">](</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">listd</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">](</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">9</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=%23+1+dimension+avec+des+fonctions%0Adef+somme(a,b)%3A%0Areturn+a+%2B+b%0Adef+multiply(a,b)%3A%0Areturn+a+*b%0A%0Alistd%3D+%5Bsomme,multiply%5D%0Aprint+listd%5B0%5D(1,2)%0Aprint+listd%5B1%5D(2,9)&mode=display&cumulative=true&heapPrimitives=true&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="listingblock">
<div class="title">afficher un élément dans une liste</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># 1 dimension</span>
<span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">]</span>
<span class="tok-k">print</span> <span class="tok-n">listA</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">]</span>

<span class="tok-c"># 2 dimension matrice</span>
<span class="tok-n">listB</span> <span class="tok-o">=</span> <span class="tok-p">[[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">],[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">],[</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">]]</span>
<span class="tok-k">print</span> <span class="tok-n">listB</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">][</span><span class="tok-mi">0</span><span class="tok-p">]</span>

<span class="tok-c"># 2 dimension non symmétrique</span>
<span class="tok-n">listC</span> <span class="tok-o">=</span> <span class="tok-p">[[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">],</span> <span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">1</span><span class="tok-p">],</span> <span class="tok-p">[</span><span class="tok-mi">4</span><span class="tok-p">]]</span>
<span class="tok-k">print</span> <span class="tok-n">listC</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">][</span><span class="tok-mi">2</span><span class="tok-p">]</span>
<span class="tok-k">print</span> <span class="tok-n">listC</span><span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">][</span><span class="tok-mi">0</span><span class="tok-p">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En rapport avec la section qui discutait des références et du passage d&#8217;argument lorsque l&#8217;objet est <strong>mutable</strong> (comme l&#8217;objet liste) que se passe-t-il pour une liste qui contient des références vers des objets ?</p>
</div>
<div class="listingblock">
<div class="title">changement sur place d&#8217;une liste</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">L1</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">]</span>
<span class="tok-n">L2</span> <span class="tok-o">=</span> <span class="tok-n">L1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Jusqu&#8217;à présent, rien de particulier, le comportement est le même qu&#8217;avec des objets immutables.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/lref1.png" alt="lref1">
</div>
<div class="title">Figure 5. affectation normale</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">L1</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">]</span>
<span class="tok-n">L2</span> <span class="tok-o">=</span> <span class="tok-n">L1</span>
<span class="tok-n">L1</span> <span class="tok-o">=</span> <span class="tok-mi">24</span></code></pre>
</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/lref2.png" alt="lref2">
</div>
<div class="title">Figure 6. re-assignation normale</div>
</div>
<div class="paragraph">
<p>Dans ce cas-là, là encore le mécanisme marche, Python détecte le changement et il crée un nouvel objet de valeur 24, qu&#8217;il rattache à la variable <code>L1</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">L1</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">]</span>
<span class="tok-n">L2</span> <span class="tok-o">=</span> <span class="tok-n">L1</span>
<span class="tok-n">L1</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-mi">10</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=L1+%3D+%5B2,3,4%5D%0AL2+%3D+L1%0AL1%5B0%5D+%3D+10&mode=display&cumulative=true&heapPrimitives=true&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="paragraph">
<p>Dans ce cas là, tout est différent car nous accédons à l&#8217;intérieur de l&#8217;objet <code>L1</code> sans qu&#8217;il y ait ré-affectation, il n&#8217;y a donc pas de modification de la référence comme précédemment.</p>
</div>
<div class="paragraph">
<p><strong class="red">L1 et L2 désigne donc toujours le même objet, donc la modification est valable pour les deux !!</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">print</span> <span class="tok-n">L1</span>
<span class="tok-k">print</span> <span class="tok-n">L2</span></code></pre>
</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/lref3.png" alt="lref3">
</div>
<div class="title">Figure 7. modification d&#8217;un élément de l&#8217;objet liste mutable</div>
</div>
<div class="paragraph">
<p>Voyons un cas encore plus vicieux, lorsque notre liste comporte une référence vers un autre objet.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">L1</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">]</span>
<span class="tok-n">L2</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-n">L1</span><span class="tok-p">,</span> <span class="tok-mi">8</span><span class="tok-p">]</span> <span class="tok-c"># L2 contient une référence vers L1</span>
<span class="tok-k">print</span> <span class="tok-n">L1</span>
<span class="tok-k">print</span> <span class="tok-n">L2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=listA+%3D+%5B%5D%0Afor+i+in+range(3)%3A%0A++listA.append(1)%0A%0Aprint+listA&mode=display&cumulative=true&heapPrimitives=true&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="paragraph">
<p>Que se passe-t-il si je modifie les éléments appartenant à L1 dans L2 ?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">L2</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">]</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">L1</span>
<span class="tok-k">print</span> <span class="tok-n">L2</span>
<span class="tok-c"># marche aussi en modifiant L1</span>
<span class="tok-n">L1</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-mi">8</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">L1</span>
<span class="tok-k">print</span> <span class="tok-n">L2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=L1+%3D+%5B2,3%5D%0AL2+%3D+%5B1,L1,+8%5D%23+L2+contient+une+r%C3%A9f%C3%A9rence+vers+L1%0Aprint+L1%0Aprint+L2%0A%0AL2%5B1%5D.append(5)%0Aprint+L1%0Aprint+L2%0A%0A%23+marche+aussi+en+modifiant+L1%0AL1.append(8)%0Aprint+L1%0Aprint+L2&mode=display&cumulative=true&heapPrimitives=true&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="paragraph">
<p><strong class="red">Surprise !</strong> Les éléments de L1 ont été modifiés ! Donc Python accède bien à <code>L1</code> dans <code>L2</code> via une référence vers <code>L1</code> et non pas une copie des éléments du tableau !</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/lref4.png" alt="lref4">
</div>
<div class="title">Figure 8. visualisation de la référence entre L2 et L1</div>
</div>
<div class="paragraph">
<p>Si on veut éviter ce comportement, par peur de faire des erreurs, ou parce que c&#8217;est inutile, on peut indiquer à Python que l&#8217;on veut faire une copie, avec l&#8217;opérateur <code>[:]</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">L1</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">]</span>
<span class="tok-n">L2</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-n">L1</span><span class="tok-p">[:],</span> <span class="tok-mi">8</span><span class="tok-p">]</span> <span class="tok-c"># L2 contient une re-copie de la liste L1</span>
<span class="tok-k">print</span> <span class="tok-n">L1</span>
<span class="tok-k">print</span> <span class="tok-n">L2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour connaitre la taille d&#8217;une liste, on utilise la méthode len() fournie par le langage.</p>
</div>
<div class="listingblock">
<div class="title">récupérer la taille d&#8217;une liste</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># 1 dimension</span>
<span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">]</span>
<span class="tok-k">print</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">listA</span><span class="tok-p">)</span>

<span class="tok-c"># 2 dimension matrice</span>
<span class="tok-n">listB</span> <span class="tok-o">=</span> <span class="tok-p">[[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">],[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">],[</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">]]</span>
<span class="tok-k">print</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">listB</span><span class="tok-p">)</span> <span class="tok-p">,</span> <span class="tok-s">&quot;/&quot;</span> <span class="tok-p">,</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">listB</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">]),</span> <span class="tok-s">&quot;/&quot;</span><span class="tok-p">,</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">listB</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">]),</span> <span class="tok-s">&quot;/&quot;</span><span class="tok-p">,</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">listB</span><span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">])</span>

<span class="tok-c"># 2 dimension non symmétrique</span>
<span class="tok-n">listC</span> <span class="tok-o">=</span> <span class="tok-p">[[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">],</span> <span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">1</span><span class="tok-p">],</span> <span class="tok-p">[</span><span class="tok-mi">4</span><span class="tok-p">]]</span>
<span class="tok-k">print</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">listC</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">listC</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">])</span>
<span class="tok-k">print</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">listC</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">])</span>
<span class="tok-k">print</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">listC</span><span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">])</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_opérations"><a class="anchor" href="#_opérations"></a>Opérations</h3>
<div class="listingblock">
<div class="title">Modifier un élément</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">]</span>
<span class="tok-n">listB</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;gerard&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;paul&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;albert&quot;</span><span class="tok-p">]</span>
<span class="tok-n">listA</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>
<span class="tok-n">listB</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-s">&quot;Edouard&quot;</span>
<span class="tok-k">print</span> <span class="tok-n">listA</span>
<span class="tok-k">print</span> <span class="tok-n">listB</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Les listes, comme beaucoup d&#8217;autres choses en python, sont des objets qui possèdent des méthodes, et des attributs.
C&#8217;est l&#8217;opérateur <code>.</code> qui permet d&#8217;accéder et d&#8217;appliquer des méthodes sur les objets.</p>
</div>
<div class="paragraph">
<p>Autrement dit, voici comment se présente un attribut et une méthode/fonction <strong>s&#8217;appliquant sur un objet</strong> :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>objet.attribut</strong></p>
</li>
<li>
<p><strong>objet.methode()</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Si l&#8217;objet est la liste, alors nous allons voir toutes les méthodes qui s&#8217;appliquent sur celle-ci.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
La plupart de ces méthodes/fonctions ne retournent rien, et modifient la liste en place.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Ajouter des éléments</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">]</span>
<span class="tok-n">listA</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-mi">4</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">listA</span>

<span class="tok-n">listB</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;oeuf&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;jambon&quot;</span><span class="tok-p">]</span>
<span class="tok-n">listB</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-s">&quot;Frites&quot;</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">listB</span>

<span class="tok-n">listC</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;gerard&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;paul&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;albert&quot;</span><span class="tok-p">]</span>
<span class="tok-n">listC</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">([</span><span class="tok-s">&quot;Eleonore&quot;</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">])</span>
<span class="tok-k">print</span> <span class="tok-n">listC</span>

<span class="tok-n">listD</span> <span class="tok-o">=</span> <span class="tok-p">[]</span>
<span class="tok-n">listD</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">)</span>
<span class="tok-n">listD</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">([</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">])</span>
<span class="tok-n">listD</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-s">&quot;test&quot;</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">listD</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Insérer des éléments</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">]</span>
<span class="tok-c"># Insérer un 8 à la position 2 se fait avec la commande suivante :</span>
<span class="tok-n">listA</span><span class="tok-o">.</span><span class="tok-n">insert</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">8</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">listA</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Supprimer des éléments en utilisant l&#8217;indice et la fonction pop()</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">]</span>
<span class="tok-c"># pop renvoie la valeur supprimé</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;element supprimé = &quot;</span> <span class="tok-p">,</span> <span class="tok-n">listA</span><span class="tok-o">.</span><span class="tok-n">pop</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;liste après suppression&quot;</span><span class="tok-p">,</span> <span class="tok-n">listA</span>

<span class="tok-n">listB</span> <span class="tok-o">=</span> <span class="tok-p">[[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">],[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">]]</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;element supprimé = &quot;</span> <span class="tok-p">,</span> <span class="tok-n">listB</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">]</span><span class="tok-o">.</span><span class="tok-n">pop</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;liste après suppression&quot;</span><span class="tok-p">,</span> <span class="tok-n">listB</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Supprimer des occurence de valeurs directement avec remove()</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">]</span>
<span class="tok-n">listB</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">]</span>

<span class="tok-c">#Enleve le chiffre 5 de la liste A</span>
<span class="tok-n">listA</span><span class="tok-o">.</span><span class="tok-n">remove</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">listA</span>

<span class="tok-c"># Enleve la première occurence 4 de la liste B</span>
<span class="tok-n">listB</span><span class="tok-o">.</span><span class="tok-n">remove</span><span class="tok-p">(</span><span class="tok-mi">4</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">listB</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Accèder à l&#8217;index d&#8217;une occurence avec index()</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">]</span>
<span class="tok-n">listB</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">]</span>
<span class="tok-n">listC</span> <span class="tok-o">=</span> <span class="tok-p">[[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">],[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">]]</span>

<span class="tok-k">print</span> <span class="tok-s">&quot;index liste A = &quot;</span><span class="tok-p">,</span> <span class="tok-n">listA</span><span class="tok-o">.</span><span class="tok-n">index</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;index liste B = &quot;</span><span class="tok-p">,</span> <span class="tok-n">listB</span><span class="tok-o">.</span><span class="tok-n">index</span><span class="tok-p">(</span><span class="tok-mi">4</span><span class="tok-p">)</span> <span class="tok-c"># Ne renvoie l&#39;index que de la première valeur trouvée</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;index liste C = &quot;</span><span class="tok-p">,</span> <span class="tok-n">listC</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">]</span><span class="tok-o">.</span><span class="tok-n">index</span><span class="tok-p">(</span><span class="tok-mi">4</span><span class="tok-p">)</span> <span class="tok-c"># Marche aussi sur les tableau deux dimensions, a condition d&#39;indiquer la dimension de recherche !!</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Concaténation</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">]</span>
<span class="tok-n">listB</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">,[</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">]]</span>
<span class="tok-n">listC</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;gerard&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;paul&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;albert&quot;</span><span class="tok-p">]</span>

<span class="tok-k">print</span> <span class="tok-n">listA</span> <span class="tok-o">+</span> <span class="tok-n">listB</span>
<span class="tok-k">print</span> <span class="tok-n">listA</span> <span class="tok-o">+</span> <span class="tok-n">listC</span> <span class="tok-o">+</span> <span class="tok-n">listB</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Multiplication</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">]</span>
<span class="tok-k">print</span> <span class="tok-n">listA</span> <span class="tok-o">*</span> <span class="tok-mi">2</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">tri</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">]</span>
<span class="tok-n">listB</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">]</span>
<span class="tok-n">listC</span> <span class="tok-o">=</span> <span class="tok-p">[[</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">],[</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-mi">1</span><span class="tok-p">]]</span>

<span class="tok-c"># Modifie la liste en place</span>
<span class="tok-n">listA</span><span class="tok-o">.</span><span class="tok-n">sort</span><span class="tok-p">()</span>
<span class="tok-n">listB</span><span class="tok-o">.</span><span class="tok-n">sort</span><span class="tok-p">()</span>
<span class="tok-n">listC</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">]</span><span class="tok-o">.</span><span class="tok-n">sort</span><span class="tok-p">()</span>
<span class="tok-n">listC</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">]</span><span class="tok-o">.</span><span class="tok-n">sort</span><span class="tok-p">()</span>

<span class="tok-k">print</span> <span class="tok-n">listA</span>
<span class="tok-k">print</span> <span class="tok-n">listB</span>
<span class="tok-k">print</span> <span class="tok-n">listC</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong class="red">Attention</strong>, et c&#8217;est très important, les listes sont dites <strong>mutables</strong> en comparaison des autres types qui sont pour la plupart du temps <strong>immutables</strong><br>
Par mutable, il faut comprendre qu&#8217;elles sont donc modifiables en l&#8217;état, sans qu&#8217;une copie ait besoin d&#8217;être faite :</p>
</div>
<div class="listingblock">
<div class="title">Copie</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">listA</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">]</span>
<span class="tok-n">listB</span> <span class="tok-o">=</span> <span class="tok-n">listA</span><span class="tok-p">[:]</span>
<span class="tok-n">listB</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-mi">8</span><span class="tok-p">)</span>

<span class="tok-k">print</span> <span class="tok-n">listA</span>
<span class="tok-k">print</span> <span class="tok-n">listB</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Quelques ressources supplémentaires :</div>
<div class="ulist">
<ul>
<li>
<p>La liste complète des méthodes est disponible ici, avec des exemples :<br>
<a href="http://docs.python.org/tutorial/datastructures.html#more-on-lists" class="bare">http://docs.python.org/tutorial/datastructures.html#more-on-lists</a></p>
</li>
<li>
<p>voir aussi les exemples et les exercices de Google :<br>
<a href="http://code.google.com/edu/languages/google-python-class/lists.html" class="bare">http://code.google.com/edu/languages/google-python-class/lists.html</a></p>
</li>
<li>
<p>et de "learn python the hard way" :<br>
<a href="http://learnpythonthehardway.org/book/ex38.html" class="bare">http://learnpythonthehardway.org/book/ex38.html</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_structure_de_controle"><a class="anchor" href="#_structure_de_controle"></a>Structure de controle</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_condition_s"><a class="anchor" href="#_condition_s"></a>Condition(s)</h3>
<div class="sidebarblock">
<div class="content">
<div class="title">Condition simple en Pseudo-Code</div>
<div class="paragraph">
<p><strong class="red">SI</strong> <em>[ EXPRESSION ] == TRUE</em> <strong class="red">ALORS</strong></p>
</div>
<div class="paragraph">
<p><em>&#8230;&#8203;traitement&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p><strong class="red">FIN SI</strong></p>
</div>
</div>
</div>
<div class="paragraph">
<p>En python les mots-clef équivalents sont <strong>if</strong> , <strong>elif</strong>, <strong>else</strong> et <strong>:</strong> et c&#8217;est la forme de l&#8217;indentation qui définit la taille du bloc d&#8217;instruction.</p>
</div>
<div class="paragraph">
<p>La condition la plus simple donne en python :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">expression</span> <span class="tok-o">==</span> <span class="tok-bp">True</span><span class="tok-p">):</span>
   <span class="tok-c"># traitement</span></code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Condition simple en Pseudo-Code</div>
<div class="paragraph">
<p><strong class="red">SI</strong> <em>[ EXPRESSION ] == TRUE</em> <strong class="red">ALORS</strong></p>
</div>
<div class="paragraph">
<p><em>&#8230;&#8203;traitement&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p><strong class="red">SINON</strong></p>
</div>
<div class="paragraph">
<p><em>&#8230;&#8203;traitement&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p><strong class="red">FIN SI</strong></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Ce qui donne en python :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">expression</span> <span class="tok-o">==</span> <span class="tok-bp">True</span><span class="tok-p">):</span>
   <span class="tok-c"># traitement 1</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
   <span class="tok-c"># traitement 2</span></code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Condition plus complexe en Pseudo-Code</div>
<div class="paragraph">
<p><strong class="red">SI</strong> <em>[ EXPRESSION ] == TRUE</em> <strong class="red">ALORS</strong></p>
</div>
<div class="paragraph">
<p><em>&#8230;&#8203;traitement&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p><strong class="red">SINON</strong> <em>[ EXPRESSION ] == TRUE</em></p>
</div>
<div class="paragraph">
<p><em>&#8230;&#8203;traitement&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p><strong class="red">SINON</strong></p>
</div>
<div class="paragraph">
<p><em>&#8230;&#8203;traitement&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p><strong class="red">FIN SI</strong></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Ce qui donne en python :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">expression</span> <span class="tok-o">==</span> <span class="tok-bp">True</span><span class="tok-p">):</span>
   <span class="tok-c"># traitement 1</span>
<span class="tok-k">elif</span> <span class="tok-p">(</span><span class="tok-n">expression</span> <span class="tok-o">==</span> <span class="tok-bp">True</span><span class="tok-p">):</span>
   <span class="tok-c"># traitement 2</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
   <span class="tok-c"># traitement 3</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Le mot-clef <code>in</code> peut être utilisé en accord avec les structures conditionnelles
pour vérifier la présence (ou la non présence) d&#8217;un élément dans une liste, que cela soit un chiffre ou un caractère.</p>
</div>
<div class="paragraph">
<p>Ainsi, grâce à cette notation, il est possible de faire des choses très intéressantes :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">myList</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;alex&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;paul&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;gerard&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;martine&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;helene&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;laurent&quot;</span><span class="tok-p">]</span>
<span class="tok-n">element</span> <span class="tok-o">=</span> <span class="tok-nb">raw_input</span><span class="tok-p">(</span><span class="tok-s">&quot;Quel nom  ? &gt; &quot;</span><span class="tok-p">)</span>

<span class="tok-k">if</span> <span class="tok-n">element</span> <span class="tok-ow">not</span> <span class="tok-ow">in</span> <span class="tok-n">myList</span><span class="tok-p">:</span>
   <span class="tok-k">print</span> <span class="tok-s">&quot;L&#39;element n&#39;est pas présent! &quot;</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
   <span class="tok-k">print</span> <span class="tok-s">&quot;L&#39;element est présent = &quot;</span><span class="tok-p">,</span> <span class="tok-n">element</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>ou bien autre exemple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">censor</span> <span class="tok-o">=</span> <span class="tok-p">[</span> <span class="tok-s">&#39;bugger&#39;</span><span class="tok-p">,</span> <span class="tok-s">&#39;nickle&#39;</span> <span class="tok-p">]</span>
<span class="tok-n">word</span> <span class="tok-o">=</span> <span class="tok-s">&#39;bugger&#39;</span>
<span class="tok-k">if</span> <span class="tok-n">word</span> <span class="tok-ow">in</span> <span class="tok-n">censor</span><span class="tok-p">:</span>
   <span class="tok-k">print</span> <span class="tok-s">&#39;CENSORED&#39;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_boucle_s"><a class="anchor" href="#_boucle_s"></a>Boucle(s)</h3>
<div class="sect3">
<h4 id="_definition"><a class="anchor" href="#_definition"></a>Definition</h4>
<div class="paragraph">
<p>En programmation impérative, une structure de contrôle est une commande qui contrôle l&#8217;ordre dans lequel les différentes instructions d&#8217;un algorithme ou d&#8217;un programme informatique sont exécutées.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Boucle "TANT QUE" en Pseudo-Code</div>
<div class="paragraph">
<p><strong class="red">TANT QUE</strong> <em>[ EXPRESSION ] == TRUE</em></p>
</div>
<div class="paragraph">
<p><em>&#8230;&#8203;traitement&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p><strong class="red">FIN TANT QUE</strong></p>
</div>
</div>
</div>
<div class="paragraph">
<p>En python on utilisera le mot-clé <code>while</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">while</span> <span class="tok-n">expression</span> <span class="tok-o">==</span> <span class="tok-bp">True</span><span class="tok-p">:</span>
   <span class="tok-c"># traitement</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ce qui donne par exemple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-k">while</span> <span class="tok-p">(</span><span class="tok-n">count</span> <span class="tok-o">&lt;</span> <span class="tok-mi">9</span><span class="tok-p">):</span>
   <span class="tok-k">print</span> <span class="tok-s">&#39;The count is:&#39;</span><span class="tok-p">,</span> <span class="tok-n">count</span>
   <span class="tok-n">count</span> <span class="tok-o">=</span> <span class="tok-n">count</span> <span class="tok-o">+</span> <span class="tok-mi">1</span></code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Boucle "POUR" en Pseudo-Code</div>
<div class="paragraph">
<p><strong class="red">POUR</strong> <em>[ VARIABLE ]</em> <strong class="red">DE</strong> <em>[ DEBUT ]</em> <strong class="red">A</strong> <em>[ FIN ]</em></p>
</div>
<div class="paragraph">
<p><em>&#8230;&#8203;traitement&#8230;&#8203;</em></p>
</div>
<div class="paragraph">
<p><strong class="red">FIN POUR</strong></p>
</div>
</div>
</div>
<div class="paragraph">
<p>En fait en python cette instruction n&#8217;existe pas sous cette forme,
par contre il existe des opérateurs très pratiques pour parcourir des listes avec des boucles.
Il est possible d&#8217;obtenir le même comportement en utilisant la fonction <strong>range()</strong> générant une liste allant de <em>[DEBUT]</em> A <em>[FIN]</em></p>
</div>
</div>
<div class="sect3">
<h4 id="_parcours_de_liste"><a class="anchor" href="#_parcours_de_liste"></a>Parcours de liste</h4>
<div class="sect4">
<h5 id="_for_in"><a class="anchor" href="#_for_in"></a>for in</h5>
<div class="paragraph">
<p>Python est aussi capable de manipuler directement les éléments du tableau, sans avoir à passer par les indices, même si la liste contient des éléments complexes</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># Avec une liste simple</span>
<span class="tok-n">myList</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;alex&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;paul&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;gerard&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;martine&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;helene&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;laurent&quot;</span><span class="tok-p">]</span>
<span class="tok-k">for</span> <span class="tok-n">element</span> <span class="tok-ow">in</span> <span class="tok-n">myList</span><span class="tok-p">:</span>
   <span class="tok-k">print</span> <span class="tok-s">&quot;L&#39;element est = &quot;</span><span class="tok-p">,</span> <span class="tok-n">element</span>

<span class="tok-c"># ou avec une liste plus complexe</span>
<span class="tok-n">myList</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&#39;paul&#39;</span><span class="tok-p">,</span> <span class="tok-s">&quot;laurent&quot;</span><span class="tok-p">,</span> <span class="tok-mi">4</span><span class="tok-p">,</span> <span class="tok-p">[</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">]]</span>
<span class="tok-k">for</span> <span class="tok-n">element</span> <span class="tok-ow">in</span> <span class="tok-n">myList</span><span class="tok-p">:</span>
   <span class="tok-k">print</span> <span class="tok-s">&quot;L&#39;element est de type &quot;</span><span class="tok-p">,</span> <span class="tok-nb">type</span><span class="tok-p">(</span><span class="tok-n">element</span><span class="tok-p">)</span> <span class="tok-p">,</span> <span class="tok-s">&quot; = &quot;</span><span class="tok-p">,</span> <span class="tok-n">element</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Malheureusement dans ce cas-là, nous n&#8217;avons pas accès aux indices, et donc nous ne savons pas de façon explicite de quelle position dans le tableau nous avons extrait l&#8217;élément.
Dans certains cas de figure cela peut poser problème (les tris par exemple où nous avons besoin de manipuler des indices), pour résoudre cela, il existe plusieurs autres syntaxes python :</p>
</div>
</div>
<div class="sect4">
<h5 id="_for_in_range"><a class="anchor" href="#_for_in_range"></a>for in + range()</h5>
<div class="paragraph">
<p>Première solution, en générant une liste allant de <strong><em>[DEBUT]</em></strong> A <strong><em>[FIN]</em></strong> avec la fonction <code>range()</code> , il est possible de faire évoluer une variable qui va prendre de manière sucessive les différentes valeurs de notre liste, quelle soit générée ou donnée par l&#8217;utilisateur :</p>
</div>
<div class="listingblock">
<div class="title">Avec une liste générée par la fonction range()</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># range() génère une liste allant de debut a fin - 1 , fin étant exclu</span>
<span class="tok-n">debut</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>
<span class="tok-n">fin</span> <span class="tok-o">=</span> <span class="tok-mi">4</span>

<span class="tok-k">print</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">debut</span><span class="tok-p">,</span> <span class="tok-n">fin</span><span class="tok-p">)</span> <span class="tok-c"># renvoie une liste [2, 3]</span>

<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">debut</span><span class="tok-p">,</span><span class="tok-n">fin</span><span class="tok-p">):</span> <span class="tok-c"># ou range(2,4) cela marche aussi</span>
   <span class="tok-k">print</span> <span class="tok-s">&#39;The count is:&#39;</span><span class="tok-p">,</span> <span class="tok-n">i</span>

<span class="tok-c">#Par défaut range va de 0 a la valeur - 1 passé en paramètre</span>
<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">):</span>
   <span class="tok-k">print</span> <span class="tok-s">&quot;The count is:&quot;</span><span class="tok-p">,</span> <span class="tok-n">i</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Pour lire et afficher les éléments d&#8217;une liste</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">myList</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;alex&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;paul&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;gerard&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;martine&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;helene&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;laurent&quot;</span><span class="tok-p">]</span>
<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">myList</span><span class="tok-p">)):</span>
   <span class="tok-k">print</span> <span class="tok-s">&quot;At index&quot;</span><span class="tok-p">,</span> <span class="tok-n">i</span><span class="tok-p">,</span> <span class="tok-s">&quot; value equal &quot;</span><span class="tok-p">,</span> <span class="tok-n">myList</span><span class="tok-p">[</span><span class="tok-n">i</span><span class="tok-p">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>De façon plus générale, python nous permet de parcourir n&#8217;importe quel type de collection, résultat d&#8217;une fonction (comme c&#8217;est le cas pour <code>range()</code>) ou bien définie par l&#8217;utilisateur &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="title">Parcour d&#8217;une liste avec une liste d&#8217;indices personnalisés</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># Equivalence avec l&#39;exemple précédent</span>
<span class="tok-n">myList</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;alex&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;paul&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;gerard&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;martine&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;helene&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;laurent&quot;</span><span class="tok-p">]</span>
<span class="tok-n">myIndex</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-mi">2</span> <span class="tok-p">,</span> <span class="tok-mi">3</span><span class="tok-p">]</span>
<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-n">myIndex</span><span class="tok-p">:</span>
   <span class="tok-k">print</span> <span class="tok-s">&quot;At index &quot;</span><span class="tok-p">,</span> <span class="tok-n">i</span> <span class="tok-p">,</span><span class="tok-s">&quot; value equal &quot;</span><span class="tok-p">,</span> <span class="tok-n">myList</span><span class="tok-p">[</span><span class="tok-n">i</span><span class="tok-p">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Deuxième solution, plus élégante mais plus complexe, il est possible de conserver un appel direct aux élémentx de la liste, tout en récupérant l&#8217;index.
Pour cela on fait appel a la fonction enumerate() qui nous renvoie une collection avec les élémentx numérotés utilisables avec la notation ci-dessous :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">myList</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;alex&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;paul&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;gerard&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;martine&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;helene&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;laurent&quot;</span><span class="tok-p">]</span>
<span class="tok-k">for</span> <span class="tok-n">i</span><span class="tok-p">,</span><span class="tok-n">element</span> <span class="tok-ow">in</span> <span class="tok-nb">enumerate</span><span class="tok-p">(</span><span class="tok-n">myList</span><span class="tok-p">):</span>
   <span class="tok-k">print</span> <span class="tok-s">&quot;At index &quot;</span><span class="tok-p">,</span> <span class="tok-n">i</span> <span class="tok-p">,</span><span class="tok-s">&quot; value equal &quot;</span><span class="tok-p">,</span> <span class="tok-n">element</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_for_in_zip"><a class="anchor" href="#_for_in_zip"></a>For in + zip()</h5>
<div class="paragraph">
<p>Il est également possible de parcourir deux listes de façon simultanée en joignant les éléments de chaque liste à fusionner 1 par 1
Voyons voir ce que nous retourne la fonction <code>zip(listA,listB)</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">questions</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;name&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;quest&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;favorite color&quot;</span><span class="tok-p">]</span>
<span class="tok-n">answers</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;lancelot&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;the holy grail&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;blue&quot;</span><span class="tok-p">]</span>
<span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-nb">zip</span><span class="tok-p">(</span><span class="tok-n">questions</span><span class="tok-p">,</span><span class="tok-n">answers</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">result</span>
<span class="tok-c">#renvoie [(&#39;name&#39;, &#39;lancelot&#39;), (&#39;quest&#39;, &#39;the holy grail&#39;), (&#39;favorite color&#39;, &#39;blue&#39;)]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=questions+%3D+%5B%22name%22,%22quest%22,%22favorite+color%22%5D%0Aanswers+%3D+%5B%22lancelot%22,%22the+holy+grail%22,%22blue%22%5D%0Aresult+%3D+zip(questions,answers)%0Aprint+result&mode=display&cumulative=true&heapPrimitives=false&drawParentPointers=true&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="paragraph">
<p>Une liste de Tuple (question,réponse) nous est renvoyés, dans notre boucle il est donc possible pour chacun des éléments tuple () de notre liste d&#8217;assigner <strong>q</strong> à question et <strong>a</strong> à reponse</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">questions</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;name&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;quest&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;favorite color&quot;</span><span class="tok-p">]</span>
<span class="tok-n">answers</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;lancelot&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;the holy grail&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;blue&quot;</span><span class="tok-p">]</span>
<span class="tok-n">resultOfZipping</span> <span class="tok-o">=</span> <span class="tok-nb">zip</span><span class="tok-p">(</span><span class="tok-n">questions</span><span class="tok-p">,</span><span class="tok-n">answers</span><span class="tok-p">)</span>
<span class="tok-k">for</span> <span class="tok-n">q</span><span class="tok-p">,</span> <span class="tok-n">a</span> <span class="tok-ow">in</span> <span class="tok-n">resultOfZipping</span> <span class="tok-p">:</span>
   <span class="tok-k">print</span> <span class="tok-s">&#39;What is your </span><span class="tok-si">%s</span><span class="tok-s"> ?  It is </span><span class="tok-si">%s</span><span class="tok-s">&#39;</span> <span class="tok-o">%</span> <span class="tok-p">(</span><span class="tok-n">q</span><span class="tok-p">,</span> <span class="tok-n">a</span><span class="tok-p">)</span>

<span class="tok-c"># ou plus simplement :</span>

<span class="tok-n">questions</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;name&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;quest&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;favorite color&quot;</span><span class="tok-p">]</span>
<span class="tok-n">answers</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;lancelot&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;the holy grail&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;blue&quot;</span><span class="tok-p">]</span>
<span class="tok-k">for</span> <span class="tok-n">q</span><span class="tok-p">,</span> <span class="tok-n">a</span> <span class="tok-ow">in</span> <span class="tok-nb">zip</span><span class="tok-p">(</span><span class="tok-n">questions</span><span class="tok-p">,</span> <span class="tok-n">answers</span><span class="tok-p">):</span>
   <span class="tok-k">print</span> <span class="tok-s">&#39;What is your </span><span class="tok-si">%s</span><span class="tok-s"> ?  It is </span><span class="tok-si">%s</span><span class="tok-s">&#39;</span> <span class="tok-o">%</span> <span class="tok-p">(</span><span class="tok-n">q</span><span class="tok-p">,</span> <span class="tok-n">a</span><span class="tok-p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_construire_à_une_liste"><a class="anchor" href="#_construire_à_une_liste"></a>Construire à une liste</h4>
<div class="listingblock">
<div class="title">Opérer sur une liste 1 dimension</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">L</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">]</span> <span class="tok-c"># Liste de valeurs quelconques</span>
<span class="tok-n">res</span> <span class="tok-o">=</span> <span class="tok-p">[]</span> <span class="tok-c"># Initialisation d&#39;une liste vide résultat</span>

<span class="tok-k">for</span> <span class="tok-n">x</span> <span class="tok-ow">in</span> <span class="tok-n">L</span><span class="tok-p">:</span>
   <span class="tok-n">res</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-mi">10</span><span class="tok-p">)</span>

<span class="tok-k">print</span> <span class="tok-n">res</span>

<span class="tok-c"># ou bien avec l&#39;autre technique :</span>

<span class="tok-n">L</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">]</span> <span class="tok-c"># Liste de valeurs quelconques</span>
<span class="tok-n">res</span> <span class="tok-o">=</span> <span class="tok-p">[]</span> <span class="tok-c"># Initialisation d&#39;une liste vide résultat</span>

<span class="tok-k">for</span> <span class="tok-n">x</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-n">L</span><span class="tok-p">)):</span>
   <span class="tok-n">res</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-n">L</span><span class="tok-p">[</span><span class="tok-n">x</span><span class="tok-p">]</span> <span class="tok-o">+</span> <span class="tok-mi">10</span><span class="tok-p">)</span>

<span class="tok-k">print</span> <span class="tok-n">res</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Opérer sur une liste 2D, ici une initialisation</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-p">[]</span> <span class="tok-c"># initialisation tableau contenant les lignes</span>
<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">):</span>
   <span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-p">[]</span> <span class="tok-c"># initialisation</span>
   <span class="tok-k">for</span> <span class="tok-n">j</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">):</span>
      <span class="tok-n">b</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-n">i</span><span class="tok-o">*</span><span class="tok-n">j</span><span class="tok-p">)</span> <span class="tok-c"># ajout colonne</span>
   <span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-n">b</span><span class="tok-p">)</span> <span class="tok-c"># ajout n colonne comme une nouvelle ligne</span>
<span class="tok-k">print</span> <span class="tok-n">a</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=a%20%3D%20%5B%5D%20%23%20initialisation%20tableau%20contenant%20les%20lignes%0Afor%20i%20in%20range%283%29%3A%0A%20b%20%3D%20%5B%5D%20%23%20initialisation%0A%20for%20j%20in%20range%283%29%3A%0A%20%20b.append%28i*j%29%20%23%20ajout%20colonne%0A%20a.append%28b%29%20%23%20ajout%20n%20colonne%20comme%20une%20nouvelle%20ligne%0Aprint%28a%29&cumulative=true&curInstr=0&heapPrimitives=false&mode=display&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false">Voir l'execution en ligne</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mot_clef_spécifique"><a class="anchor" href="#_mot_clef_spécifique"></a>Mot-Clef spécifique</h3>
<div class="paragraph">
<p>Le mot clef <strong>break</strong> interrompt immédiatement une boucle <strong>for</strong> ou <strong>while</strong> en cours</p>
</div>
<div class="paragraph">
<p>Par exemple dans ce code, il est inutile d&#8217;aller jusqu&#8217;au bout de la boucle si l&#8217;utilisateur a trouvé le bon nombre.</p>
</div>
<div class="paragraph">
<p>Src du code : <a href="http://inventwithpython.com/chapter4.html" class="bare">http://inventwithpython.com/chapter4.html</a></p>
</div>
<div class="listingblock">
<div class="title">guess.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># -*- coding: utf-8 -*-</span>
<span class="tok-kn">import</span> <span class="tok-nn">random</span>

<span class="tok-k">if</span> <span class="tok-n">__name__</span> <span class="tok-o">==</span> <span class="tok-s">&quot;__main__&quot;</span><span class="tok-p">:</span>

   <span class="tok-n">guesses_made</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
   <span class="tok-n">name</span> <span class="tok-o">=</span> <span class="tok-nb">raw_input</span><span class="tok-p">(</span><span class="tok-s">&#39;Hello! What is your name?</span><span class="tok-se">\n</span><span class="tok-s">&#39;</span><span class="tok-p">)</span>
   <span class="tok-n">number</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-mi">20</span><span class="tok-p">)</span>

   <span class="tok-k">print</span> <span class="tok-s">&#39;Well, {0}, I am thinking of a number between 1 and 20.&#39;</span><span class="tok-o">.</span><span class="tok-n">format</span><span class="tok-p">(</span><span class="tok-n">name</span><span class="tok-p">)</span>

   <span class="tok-k">while</span> <span class="tok-n">guesses_made</span> <span class="tok-o">&lt;</span> <span class="tok-mi">6</span><span class="tok-p">:</span>
      <span class="tok-n">guess</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-nb">raw_input</span><span class="tok-p">(</span><span class="tok-s">&#39;Take a guess: &#39;</span><span class="tok-p">))</span>
      <span class="tok-n">guesses_made</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
      <span class="tok-k">if</span> <span class="tok-n">guess</span> <span class="tok-o">&lt;</span> <span class="tok-n">number</span><span class="tok-p">:</span>
         <span class="tok-k">print</span> <span class="tok-s">&#39;Your guess is too low.&#39;</span>
      <span class="tok-k">if</span> <span class="tok-n">guess</span> <span class="tok-o">&gt;</span> <span class="tok-n">number</span><span class="tok-p">:</span>
         <span class="tok-k">print</span> <span class="tok-s">&#39;Your guess is too high.&#39;</span>
      <span class="tok-k">if</span> <span class="tok-n">guess</span> <span class="tok-o">==</span> <span class="tok-n">number</span><span class="tok-p">:</span>
         <span class="tok-k">break</span>

   <span class="tok-k">if</span> <span class="tok-n">guess</span> <span class="tok-o">==</span> <span class="tok-n">number</span><span class="tok-p">:</span>
       <span class="tok-k">print</span> <span class="tok-s">&#39;Good job, {0}! You guessed my number in {1} guesses!&#39;</span><span class="tok-o">.</span><span class="tok-n">format</span><span class="tok-p">(</span><span class="tok-n">name</span><span class="tok-p">,</span> <span class="tok-n">guesses_made</span><span class="tok-p">)</span>
   <span class="tok-k">else</span><span class="tok-p">:</span>
       <span class="tok-k">print</span> <span class="tok-s">&#39;Nope. The number I was thinking of was {0}&#39;</span><span class="tok-o">.</span><span class="tok-n">format</span><span class="tok-p">(</span><span class="tok-n">number</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Execution du programme dans le terminal</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">python</span> <span class="tok-n">guess</span><span class="tok-o">.</span><span class="tok-n">py</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Le mot clef <strong>continue</strong> passe directement à l&#8217;itération suivante et saute les instructions qui suivent, valable pour une boucle <strong>for</strong> et <strong>while</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">for</span> <span class="tok-n">k</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">10</span><span class="tok-p">):</span>
   <span class="tok-k">if</span> <span class="tok-n">k</span> <span class="tok-o">&gt;</span> <span class="tok-mi">3</span> <span class="tok-ow">and</span> <span class="tok-n">k</span> <span class="tok-o">&lt;</span> <span class="tok-mi">8</span><span class="tok-p">:</span>
     <span class="tok-k">print</span> <span class="tok-s">&quot;skipping this iteration!&quot;</span>
     <span class="tok-k">continue</span>
   <span class="tok-k">print</span> <span class="tok-n">k</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dictionnaires"><a class="anchor" href="#_dictionnaires"></a>Dictionnaires</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Les dictionnaires sont un autre type de structures de données permettant de stocker de l&#8217;information.</p>
</div>
<div class="paragraph">
<p>A la différence des listes qui ne peuvent être accédé que par leurs indices, les dictionnaires permettent d&#8217;accéder aux données en suivant un schéma dit <strong>clef-valeur</strong></p>
</div>
<div class="sect2">
<h3 id="_initialiser_un_dictionnaire"><a class="anchor" href="#_initialiser_un_dictionnaire"></a>Initialiser un dictionnaire</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># Initialisation d&#39;un dictionnaire vide</span>
<span class="tok-n">monDictionnaire1</span> <span class="tok-o">=</span> <span class="tok-p">{}</span>
<span class="tok-k">print</span> <span class="tok-n">monDictionnaire1</span>

<span class="tok-c"># Initialisation d&#39;un dictionnaire déjà rempli</span>
<span class="tok-n">monDictionnaire2</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-s">&quot;pomme&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-s">&quot;orange&quot;</span><span class="tok-p">:</span><span class="tok-mi">3</span><span class="tok-p">}</span>
<span class="tok-k">print</span> <span class="tok-n">monDictionnaire2</span>

<span class="tok-c"># Avec une clef numérique</span>
<span class="tok-n">monDictionnaire3</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-mi">1</span><span class="tok-p">:</span><span class="tok-s">&quot;Gauche&quot;</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">:</span><span class="tok-s">&quot;Droite&quot;</span><span class="tok-p">}</span>
<span class="tok-k">print</span> <span class="tok-n">monDictionnaire3</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_accéder_à_un_dictionnaire"><a class="anchor" href="#_accéder_à_un_dictionnaire"></a>Accéder à un dictionnaire</h3>
<div class="paragraph">
<p>Les dictionnaires ne sont pas des séquences comme les listes, et la clef qui détermine l&#8217;entrée dans le dictionnaire peut être numérique, caractère ou composite.</p>
</div>
<div class="listingblock">
<div class="title">Lister des éléments</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">monDictionnaire4</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-s">&quot;pomme&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-s">&quot;orange&quot;</span><span class="tok-p">:</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-s">&quot;patate&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">}</span>
<span class="tok-k">print</span> <span class="tok-n">monDictionnaire4</span><span class="tok-p">[</span><span class="tok-s">&quot;patate&quot;</span><span class="tok-p">]</span>

<span class="tok-n">monDictionnaire5</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-mi">1</span><span class="tok-p">:</span><span class="tok-s">&quot;Gauche&quot;</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">:</span><span class="tok-s">&quot;Droite&quot;</span><span class="tok-p">}</span>
<span class="tok-k">print</span> <span class="tok-n">monDictionnaire5</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">]</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Ajouter des éléments</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># Initialisation d&#39;un dictionnaire vide</span>
<span class="tok-n">monDictionnaire6</span> <span class="tok-o">=</span> <span class="tok-p">{}</span>
<span class="tok-c"># et remplissage</span>
<span class="tok-n">monDictionnaire6</span><span class="tok-p">[</span><span class="tok-s">&quot;patate&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-mi">3</span>
<span class="tok-n">monDictionnaire6</span><span class="tok-p">[</span><span class="tok-s">&quot;orange&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-mi">8</span>
<span class="tok-n">monDictionnaire6</span><span class="tok-p">[</span><span class="tok-s">&quot;citron&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-mi">5</span>
<span class="tok-k">print</span> <span class="tok-n">monDictionnaire6</span>

<span class="tok-c"># Ajout dans un dictionnaire existant</span>
<span class="tok-c"># L&#39;ordre n&#39;a aucune d&#39;importance dans un dictionnaire</span>
<span class="tok-n">monDictionnaire7</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-mi">1</span><span class="tok-p">:</span><span class="tok-s">&quot;Gauche&quot;</span><span class="tok-p">,</span> <span class="tok-mi">3</span><span class="tok-p">:</span><span class="tok-s">&quot;Droite&quot;</span><span class="tok-p">}</span>
<span class="tok-n">monDictionnaire7</span><span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-s">&quot;Milieu&quot;</span>
<span class="tok-k">print</span> <span class="tok-n">monDictionnaire7</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Supprimer des éléments</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">monDictionnaire8</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-s">&quot;pomme&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-s">&quot;orange&quot;</span><span class="tok-p">:</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-s">&quot;patate&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">}</span>
<span class="tok-k">del</span> <span class="tok-n">monDictionnaire8</span><span class="tok-p">[</span><span class="tok-s">&quot;pomme&quot;</span><span class="tok-p">]</span>
<span class="tok-k">print</span> <span class="tok-n">monDictionnaire8</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_méthodes_spécifiques_aux_dictionnaires"><a class="anchor" href="#_méthodes_spécifiques_aux_dictionnaires"></a>Méthodes spécifiques aux dictionnaires</h3>
<div class="listingblock">
<div class="title">Lister les clef dans le dictionnaire</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">monDictionnaire9</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-s">&quot;pomme&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-s">&quot;orange&quot;</span><span class="tok-p">:</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-s">&quot;patate&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">}</span>
<span class="tok-k">print</span> <span class="tok-n">monDictionnaire9</span><span class="tok-o">.</span><span class="tok-n">keys</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Lister les valeurs dans le dictionnaire</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">monDictionnaire10</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-s">&quot;pomme&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-s">&quot;orange&quot;</span><span class="tok-p">:</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-s">&quot;patate&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">}</span>
<span class="tok-k">print</span> <span class="tok-n">monDictionnaire10</span><span class="tok-o">.</span><span class="tok-n">values</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Tester l&#8217;existence d&#8217;une valeur dans le dictionnaire</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">monDictionnaire11</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-s">&quot;pomme&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-s">&quot;orange&quot;</span><span class="tok-p">:</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-s">&quot;patate&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">}</span>
<span class="tok-k">print</span> <span class="tok-n">monDictionnaire11</span><span class="tok-o">.</span><span class="tok-n">has_key</span><span class="tok-p">(</span><span class="tok-s">&quot;Pomme&quot;</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">monDictionnaire11</span><span class="tok-o">.</span><span class="tok-n">has_key</span><span class="tok-p">(</span><span class="tok-s">&quot;pomme&quot;</span><span class="tok-p">)</span>
<span class="tok-k">print</span> <span class="tok-n">monDictionnaire11</span><span class="tok-o">.</span><span class="tok-n">has_key</span><span class="tok-p">(</span><span class="tok-s">&quot;citron&quot;</span><span class="tok-p">)</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_parcourir_les_dictionnaires"><a class="anchor" href="#_parcourir_les_dictionnaires"></a>Parcourir les dictionnaires</h3>
<div class="listingblock">
<div class="title">Parcourir les clef</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">monDictionnaire12</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-s">&quot;pomme&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-s">&quot;orange&quot;</span><span class="tok-p">:</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-s">&quot;patate&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">}</span>
<span class="tok-k">for</span> <span class="tok-n">clef</span> <span class="tok-ow">in</span> <span class="tok-n">monDictionnaire12</span><span class="tok-p">:</span>
	<span class="tok-k">print</span> <span class="tok-n">clef</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Parcourir les valeurs</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">monDictionnaire13</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-s">&quot;pomme&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-s">&quot;orange&quot;</span><span class="tok-p">:</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-s">&quot;patate&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">}</span>
<span class="tok-k">for</span> <span class="tok-n">clef</span> <span class="tok-ow">in</span> <span class="tok-n">monDictionnaire13</span><span class="tok-p">:</span>
	<span class="tok-k">print</span> <span class="tok-n">monDictionnaire13</span><span class="tok-p">[</span><span class="tok-n">clef</span><span class="tok-p">]</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Parcourir les clef + valeurs</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">monDictionnaire14</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-s">&quot;pomme&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-s">&quot;orange&quot;</span><span class="tok-p">:</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-s">&quot;patate&quot;</span><span class="tok-p">:</span><span class="tok-mi">2</span><span class="tok-p">}</span>
<span class="tok-k">for</span> <span class="tok-n">clef</span><span class="tok-p">,</span> <span class="tok-n">valeur</span> <span class="tok-ow">in</span> <span class="tok-n">monDictionnaire14</span><span class="tok-o">.</span><span class="tok-n">items</span><span class="tok-p">():</span>
	<span class="tok-k">print</span> <span class="tok-n">clef</span> <span class="tok-p">,</span><span class="tok-s">&quot; = &quot;</span><span class="tok-p">,</span>  <span class="tok-n">valeur</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_poo"><a class="anchor" href="#_poo"></a>POO</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_définition_2"><a class="anchor" href="#_définition_2"></a>Définition</h3>
<div class="paragraph">
<p>Comme on a pu le voir au début de ce document, en python tout est <strong>objet</strong></p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/ontology.gif" alt="ontology">
</div>
</div>
<div class="paragraph">
<p>Pour rappel, la Programmation Orientée Objet (ou <strong><a href="http://fr.wikipedia.org/wiki/Programmation_orient%C3%A9e_objet">POO</a></strong>) est un paradigme de programmation qui passe par une organisation des données particulière. Depuis son invention, ce paradigme domine dans l&#8217;industrie informatique.</p>
</div>
<div class="paragraph">
<p>Nous n&#8217;avons que <strong>très peu de temps pour aborder les concepts théorique</strong> en regard avec la POO. Sachez toutefois que vous allez manipuler les concepts théoriques lors des cours de modélisation à l&#8217;ENSG et que l&#8217;apprentissage de ceux ci vous aideront autant pour la <strong>représentation de vos problèmes</strong> (avec un langage de description de données comme <strong>UML</strong> par exemple) en base de données, que pour leur <strong>traduction en programme informatique</strong> Je n&#8217;insisterai donc pas sur les détails théorique dans ce cours, et vous pouvez vous référez aux ressources dessous pour en savoir plus.</p>
</div>
<div class="paragraph">
<p>L&#8217;intérêt de ce paradigme, vous allez voir, et qu&#8217;il s&#8217;accorde beaucoup mieux à une représentation complexe de la réalité par rapport à que ce que nous avons vu jusqu&#8217;à présent.</p>
</div>
<div class="paragraph">
<p>Vous verrez lors du cours de modélisation que le vocabulaire et les concepts généraux vont se recouper avec ce que nous allons voir ici. Seul le niveau d&#8217;abstraction utilisé pour décrire votre problème rendra plus ou moins difficile une future traduction informatique / base de données.</p>
</div>
<div class="paragraph">
<p><strong class="red">Attention</strong> toutefois à ne pas vouloir trop vite coller au langage informatique, car il est très difficile de couvrir correctement la description d&#8217;un problème en restant à un niveau d&#8217;abstraction trop bas (c&#8217;est à dire proche de la machine). Repensez à notre résolution de labyrinthe, et voyez comment l&#8217;apprentissage de python à modifié votre perception globale du problème. Il y&#8217;aura donc un avant et un après votre formation, et il vous faudra régulièrement savoir jongler entre ces différents niveaux d&#8217;abstraction pour être efficace dans la discussion, qu&#8217;elle soit avec un client ou avec un développeur informatique !</p>
</div>
<div class="paragraph">
<p>Un <code>Objet</code> est donc une <strong>structure de donnée</strong> qui va nous permettre d&#8217;organiser nos données selon un certain schéma:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>autour de la descriptions de ces données (critère descriptif)</p>
</li>
<li>
<p>et des moyens de traiter ces données (dynamique).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prenons par exemple un exemple concret : vous même.</p>
</div>
<div class="paragraph">
<p>A priori vous êtes un <strong>humain</strong>, et normalement vous partagez un certain nombre de descripteurs ou <strong>attributs</strong> avec vos autres congénères humains :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deux yeux</p>
</li>
<li>
<p>Deux bras</p>
</li>
<li>
<p>Deux jambes</p>
</li>
<li>
<p>Une couleur de cheveux</p>
</li>
<li>
<p>Une couleur pour les yeux</p>
</li>
<li>
<p>Une couleur de peau</p>
</li>
<li>
<p>etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Là où je veux en venir, c&#8217;est que si nous devions gérer des humains dans un programme classique tel que nous les avons fait jusqu&#8217;à présent, il nous faudrait autant de variables décrites ci dessous que de personnes. Sachant qu&#8217;une variable doit être unique, imaginez le bazar :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c">#Gérard</span>
<span class="tok-n">couleurYeuxGerard</span> <span class="tok-o">=</span> <span class="tok-s">&quot;brun&quot;</span>
<span class="tok-n">couleurCheveuxGerard</span> <span class="tok-o">=</span> <span class="tok-s">&quot;brun&quot;</span>
<span class="tok-n">couleurDePeauGerard</span> <span class="tok-o">=</span> <span class="tok-s">&quot;blanche&quot;</span>
<span class="tok-n">nombreJambeDeGerard</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>
<span class="tok-n">nombreOeilDeGerard</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>
<span class="tok-n">nombreBrasDeGerard</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>

<span class="tok-c">#Paul</span>
<span class="tok-n">couleurYeuxPaul</span> <span class="tok-o">=</span> <span class="tok-s">&quot;vert&quot;</span>
<span class="tok-n">couleurCheveuxPaul</span> <span class="tok-o">=</span> <span class="tok-s">&quot;brun&quot;</span>
<span class="tok-n">couleurDePeauPaul</span> <span class="tok-o">=</span> <span class="tok-s">&quot;blanche&quot;</span>
<span class="tok-n">nombreJambeDePaul</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>
<span class="tok-n">nombreOeilDePaul</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>
<span class="tok-n">nombreBrasDePaul</span> <span class="tok-o">=</span> <span class="tok-mi">2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Bon, et maintenant si je doit gérer la classe entière de carthagéo avec ce modèle de représentation de données, il va me falloir un peu de patience&#8230;&#8203;
En plus, vous avez du le remarquer, il y a de nombreuses données redondantes, pourtant nécessaires, car Gérard pourrait bien n&#8217;avoir qu&#8217;un oeil, une jambe et travailler sur un bateau après tout.</p>
</div>
<div class="paragraph">
<p>Premier constat, il existe une <strong>matrice</strong> commune, l&#8217;espèce humaine.</p>
</div>
<div class="paragraph">
<p>Deuxième constat, il est possible de trouver une <strong>matrice</strong> originelle à pas mal de choses dans ce monde. Pensez à la fabrication en série, et à l&#8217;invention de la reproduction mécanisé : Voiture, Maison, Avion, Animaux, Porte, Chaise, Chanson, SérieTV, Acteur, Réalisateur, Pompier, etc. Et c&#8217;est à partir de cette <strong>matrice originelle</strong> que nous allons pouvoir généraliser, ou spécialiser un certain nombre de choses à l&#8217;aide de deux choses : des <strong>attributs</strong> et des <strong>fonctions</strong>.</p>
</div>
<div class="paragraph">
<p>Oui, différencier la couleur des yeux ou des cheveux en <strong>instanciant notre matrice originelle</strong> (c&#8217;est à dire en produisant un objet reprenant et complétant <strong>le plan definis</strong> par la matrice originelle) est un bon début, mais si par exemple, je veux aller plus loin et différencier vraiment les humains entre eux, et la manière dont ils interagissent entre eux,il faut que je m&#8217;intéresse non seulement aux aspects <strong>statique</strong> mais également <strong>dynamique</strong>.</p>
</div>
<div class="paragraph">
<p>Par exemple, dans le contexte d&#8217;une université (la description de vos données dépend donc beaucoup du <strong>contexte du problème</strong> !), nous voyons qu&#8217;une sous-spécialisation de l&#8217;être humain générique est tout à fait possible, car dans son interaction avec l&#8217;université un étudiant n&#8217;a pas tout à fait les même fonctions ni les même droits qu&#8217;un professeur, et cela bien que les deux soient des humains !!</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/classe.png" alt="classe">
</div>
<div class="title">Figure 9. Représentation graphique d&#8217;une classe</div>
</div>
<div class="paragraph">
<p>Cette <strong>matrice originelle</strong> est ce que l&#8217;on appelle une <strong><a href="http://fr.wikipedia.org/wiki/Classe_%28informatique%29">classe</a></strong>, elle définit à la fois des critères descriptifs ou <strong>attributs</strong>, ainsi que des <strong>fonctions</strong> ou interfaces permettant de communiquer avec les autres objets de ce monde. <strong>Instancier une classe</strong> revient à définir un ou plusieurs <strong>objets</strong> qui dérivent de cette classe.</p>
</div>
<div class="paragraph">
<p>Pour reprendre notre exemple, Gérard et Paul sont <strong>deux instances</strong> de la matrice originelle <strong>Humain</strong>.</p>
</div>
<div class="paragraph">
<p>Mais si Gérard est professeur, et Paul étudiant, et que nous voulons les différencier dans notre programme, alors il nous faudra créer quelque chose qui spécialise encore un peu plus notre <strong>Humain</strong>, par exemple en définissant :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>une classe <strong>Etudiant</strong> (qui possède un numéro étudiant par exemple),</p>
</li>
<li>
<p>et une classe <strong>Professeur</strong> (qui possède lui d&#8217;autres attributs administratif spécifique).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Par chance avec la <strong>POO</strong> nous pourrons également <strong><a href="http://en.wikipedia.org/wiki/Object_composition">composer</a></strong> les classe entres elles, car un étudiant est un humain, et un professeur est un humain également !</p>
</div>
<div class="paragraph">
<p>Il est donc tout à fait possible d&#8217;établir une <strong>hierarchie</strong> structurant un peu plus notre programme pour la gestion d&#8217;une université, en adoptant soit un <strong>héritage</strong> , soit une <strong>composition</strong> entre les classes : Etudiant et Professeurs contiennent les attributs d&#8217;un être humain, mais aussi des attributs (statique) et des fonctions (dynamique) qui leurs sont spécifiques.</p>
</div>
<div class="paragraph">
<p>En python une classe est définit par le mot clef <code>class</code> et un bloc d&#8217;instruction clos avec un <strong>début</strong> et une <strong>fin</strong>, comme pour une fonction, une boucle, une condition, etc.</p>
</div>
<div class="paragraph">
<p>La seule différence avec une fonction, c&#8217;est qu&#8217;une classe embarque avec elle des fonctions, et des variables (qui représentent les attributs) qui sont caractéristique de la classe que l&#8217;on veut représenter.</p>
</div>
<div class="listingblock">
<div class="title">Une classe dans son plus simple appareil</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">class</span> <span class="tok-nc">Humain</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span> <i class="conum" data-value="1"></i><b>(1)</b>
   <span class="tok-n">nbYeux</span> <span class="tok-o">=</span> <span class="tok-mi">2</span> <i class="conum" data-value="2"></i><b>(2)</b>
   <span class="tok-n">nbBras</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>
   <span class="tok-n">nbJambes</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>

   <span class="tok-k">def</span> <span class="tok-nf">marche</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span> <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="tok-k">print</span> <span class="tok-s">&quot;Je marche !&quot;</span>
      <span class="tok-c">#... traitement ...</span>

<span class="tok-c">#fin du bloc classe</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Par convention les classes démarrent avec une majuscule, et le mot clé <code>object</code> entre parenthèse est obligatoire</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Les variables définies ici correspondent aux <strong>attributs</strong> de notre classe</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Les <strong>fonctions</strong> en rapport avec la classe sont définies dans le corps de la classe. Nous verrons par la suite qu&#8217;elles peuvent accéder direcement aux attributs de la classe. Seule spécificité comparé à une fonction normale, le mot clef <code>self</code> est obligatoire en début de toute vos fonctions.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Pour instancier une classe, donc créer des objets à partir de cette matrice originelle</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">gerard</span> <span class="tok-o">=</span> <span class="tok-n">Humain</span><span class="tok-p">()</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">paul</span> <span class="tok-o">=</span> <span class="tok-n">Humain</span> <span class="tok-p">()</span> <i class="conum" data-value="2"></i><b>(2)</b>

<span class="tok-k">print</span> <span class="tok-n">gerard</span> <i class="conum" data-value="3"></i><b>(3)</b>

<span class="tok-k">print</span> <span class="tok-n">gerard</span><span class="tok-o">.</span><span class="tok-n">nbBras</span> <i class="conum" data-value="4"></i><b>(4)</b>
<span class="tok-k">print</span> <span class="tok-n">paul</span><span class="tok-o">.</span><span class="tok-n">marche</span><span class="tok-p">()</span> <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://pythontutor.com/visualize.html#code=class+Humain(object)%3A%0A+nbYeux+%3D+2+%0AnbBras%3D+2%0A+nbJambes+%3D+2%0A%0Adef+marche(self)%3A+%0Aprint%22Je+marche+!%22%0A++%23...+traitement...%0A%0Agerard+%3D+Humain()%0Apaul%3D+Humain+()%0A%0Aprint+gerard.nbBras%0Aprint+paul.marche()&mode=display&cumulative=false&heapPrimitives=false&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2&curInstr=0">Voir l'execution en ligne</a></p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A partir de la matrice originelle, on crééé un objet unique dont la référence est relié à la variable gerard</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A partir de la matrice originelle, on créé un nouvel objet unique dont la référence est relié à la variable paul</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Cela nous renvoie à la référence de l&#8217;objet, que l&#8217;on peut donc stocker, puis rapeller par la suite ! (voir l&#8217;exemple des listes qui contiennent des variables pointant sur des listes)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>On peut récupérer la valeur des attributs de notre objet à l&#8217;aide l&#8217;opérateur <code>.</code></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>De la même façon que nous avons appelé un attribut, nous pouvons également appelé une fonction si elle existe, en utilisant l&#8217;opérateur <code>.</code> suivi du <strong>nom de la fonction</strong> et de <strong>parenthèses</strong> <code>()</code> (qui peuvent contenir des arguments comme n&#8217;importe quelle fonction &#8230;&#8203;).</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A présent j&#8217;aimerais pouvoir modifier les attributs, pour que le nombre de bras, ou de jambes puissent être différents selon les personnes !</p>
</div>
<div class="paragraph">
<p>Pour cela il faut que j&#8217;utilise un <strong>constructeur</strong>, en fait il s&#8217;agit d&#8217;une fonction <strong>automatiquement appelé à la création de l&#8217;objet</strong></p>
</div>
<div class="paragraph">
<p>Il s&#8217;agit de la fonction <code><em>init()</em></code> qui prend automatiquement l&#8217;argument <code>self</code> qui est une auto-référence désignant l&#8217;objet.</p>
</div>
<div class="paragraph">
<p><code>self</code> doit être indiqué comme argument dans chacune des fonctions de la classe, c&#8217;est obligatoire, c&#8217;est ce qui permet à Python de savoir a qui vous faite référence, donc ici à l&#8217;objet même !<br>
<strong class="red">&#8658;</strong> self = objet courant</p>
</div>
<div class="paragraph">
<p>Ainsi, pour appeler des attributs depuis des fonctions de votre classe, il faut toujours indiquer <code>self.nomDeVotreAttribut</code></p>
</div>
<div class="paragraph">
<p>Idem pour appeler une fonction en interne dans une classe, il faut toujours l&#8217;apeller avec le mot clef self devant <code>self.nomDeVotreFonction()</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_exemple"><a class="anchor" href="#_exemple"></a>Exemple</h3>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/classNavigateur.png" alt="classNavigateur">
</div>
</div>
<div class="paragraph">
<p>Voyons avec un autre exemple d&#8217;humain, le <code>Navigateur</code> , et plus spécifiquement, le navigateur pirate !</p>
</div>
<div class="listingblock">
<div class="title">pirate.py (voir dans /exercice)</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">class</span> <span class="tok-nc">Navigateur</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
   <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-n">yeux</span><span class="tok-p">,</span><span class="tok-n">bras</span><span class="tok-p">,</span><span class="tok-n">jambes</span><span class="tok-p">):</span> <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">tete</span> <span class="tok-o">=</span> <span class="tok-mi">1</span> <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbYeux</span> <span class="tok-o">=</span> <span class="tok-n">yeux</span> <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbBras</span> <span class="tok-o">=</span> <span class="tok-n">bras</span>
      <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbJambes</span> <span class="tok-o">=</span> <span class="tok-n">jambes</span>
      <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">afficheInfo</span><span class="tok-p">()</span> <i class="conum" data-value="4"></i><b>(4)</b>

   <span class="tok-k">def</span> <span class="tok-nf">afficheInfo</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span> <i class="conum" data-value="5"></i><b>(5)</b>
      <span class="tok-k">print</span> <span class="tok-s">&quot;Bonjour ! J&#39;ai &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbYeux</span><span class="tok-p">,</span> <span class="tok-s">&quot;yeux, &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">tete</span><span class="tok-p">,</span> <span class="tok-s">&quot; tête, &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbBras</span><span class="tok-p">,</span> <span class="tok-s">&quot; bras, et &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbJambes</span><span class="tok-p">,</span> <span class="tok-s">&quot; jambes ...&quot;</span>

   <span class="tok-k">def</span> <span class="tok-nf">accident</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-n">typeAcc</span><span class="tok-p">):</span> <i class="conum" data-value="6"></i><b>(6)</b>
      <span class="tok-k">if</span> <span class="tok-n">typeAcc</span> <span class="tok-o">==</span> <span class="tok-s">&quot;bras&quot;</span><span class="tok-p">:</span>
         <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbBras</span> <span class="tok-o">=</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbBras</span> <span class="tok-o">-</span> <span class="tok-mi">1</span> <i class="conum" data-value="7"></i><b>(7)</b>
      <span class="tok-k">elif</span> <span class="tok-n">typeAcc</span> <span class="tok-o">==</span> <span class="tok-s">&quot;jambe&quot;</span><span class="tok-p">:</span>
         <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbJambes</span> <span class="tok-o">=</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbJambes</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
      <span class="tok-k">elif</span> <span class="tok-n">typeAcc</span> <span class="tok-o">==</span> <span class="tok-s">&quot;yeux&quot;</span><span class="tok-p">:</span>
         <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbYeux</span> <span class="tok-o">=</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbYeux</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>

   <span class="tok-k">def</span> <span class="tok-nf">initGrade</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
      <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">=</span> <span class="tok-s">&quot;minable&quot;</span> <i class="conum" data-value="8"></i><b>(8)</b>
      <span class="tok-k">print</span> <span class="tok-s">&quot;je suis un pirate &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span>

   <span class="tok-k">def</span> <span class="tok-nf">augmenteGrade</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
      <span class="tok-k">if</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">==</span> <span class="tok-s">&quot;minable&quot;</span><span class="tok-p">:</span>
         <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">=</span> <span class="tok-s">&quot;minus&quot;</span>
      <span class="tok-k">elif</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">==</span> <span class="tok-s">&quot;minus&quot;</span><span class="tok-p">:</span>
         <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">=</span> <span class="tok-s">&quot;chef&quot;</span>
      <span class="tok-k">elif</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">==</span> <span class="tok-s">&quot;chef&quot;</span><span class="tok-p">:</span>
         <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">=</span> <span class="tok-s">&quot;capitaine&quot;</span>

<span class="tok-c">#fin du bloc classe</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Notre constructeur initialise et donc personnalise la matrice originelle que représente la classe <code>Navigateur</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Mais j&#8217;ai le droit de définir également des attributs par défaut<br>
<strong class="red">! Attention !</strong> Les attributs n&#8217;existe que dans la portée de la classe (même fonctionnement que pour les fonctions donc)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Je transfere l&#8217;argument passé à mon constructeur dans mon attribut de classe</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>J&#8217;appelle une fonction de mon programme à la fin de l&#8217;initialisation de l&#8217;objet, celle ci affiche des informations sur mon nouvel objet navigateur personnalisé</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Une fonction, même si elle ne prend pas d&#8217;argument, doit prendre l&#8217;argument par défaut nommé 'self'</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Ici on passe un argument supplémentaire qui est utilisé dans la fonction.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Je modifie un attribut de mon objet, j&#8217;ai le droit du moment que j&#8217;utilise self pour indiquer qu&#8217;il existe !<br>
<strong class="red">&#8658;</strong> sinon cela créé une nouvelle variable locale à la fonction !!</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Cette fonction ajoute un attribut grade à mon objet, celui-ci est ensuite accessible normalement comme tout les autres attributs existant et définis dans <code><em>init</em></code></td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Amusons nous maintenant avec une instance de classe : Gérard le pirate !</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># gerard est un petit navigateur de plaisance, et pour le moment il a tout ses membres :)</span>
<span class="tok-n">gerard</span> <span class="tok-o">=</span> <span class="tok-n">Navigateur</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">)</span>

<span class="tok-c"># il décide de rentrer dans la piraterie</span>
<span class="tok-n">gerard</span><span class="tok-o">.</span><span class="tok-n">initGrade</span><span class="tok-p">()</span>

<span class="tok-c"># Sauf qu&#39;un jour gerard croise un requin au bout d&#39;une planche, le risque du métier, heureusement il s&#39;en tire pas trop mal</span>
<span class="tok-n">gerard</span><span class="tok-o">.</span><span class="tok-n">accident</span><span class="tok-p">(</span><span class="tok-s">&quot;jambe&quot;</span><span class="tok-p">)</span>
<span class="tok-n">gerard</span><span class="tok-o">.</span><span class="tok-n">afficheInfo</span><span class="tok-p">()</span>

<span class="tok-c"># Avec l&#39;experience Gerard fait de grand progrès !</span>
<span class="tok-n">gerard</span><span class="tok-o">.</span><span class="tok-n">augmenteGrade</span><span class="tok-p">()</span>
<span class="tok-n">gerard</span><span class="tok-o">.</span><span class="tok-n">augmenteGrade</span><span class="tok-p">()</span>
<span class="tok-n">gerard</span><span class="tok-o">.</span><span class="tok-n">augmenteGrade</span><span class="tok-p">()</span>
<span class="tok-n">gerard</span><span class="tok-o">.</span><span class="tok-n">augmenteGrade</span><span class="tok-p">()</span>

<span class="tok-k">print</span> <span class="tok-s">&quot;Gerard est maintenant &quot;</span><span class="tok-p">,</span> <span class="tok-n">gerard</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-p">,</span><span class="tok-s">&quot; ! &quot;</span>

<span class="tok-c"># Malheureusement, la vie de capitaine n&#39;est pas facile ...</span>
<span class="tok-n">gerard</span><span class="tok-o">.</span><span class="tok-n">accident</span><span class="tok-p">(</span><span class="tok-s">&quot;yeux&quot;</span><span class="tok-p">)</span>

<span class="tok-c"># Pauvre Gerard ...</span>
<span class="tok-n">gerard</span><span class="tok-o">.</span><span class="tok-n">afficheInfo</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Exercices</strong> :</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><input type="checkbox" data-item-complete="0"> Essayez maintenant de faire un autre parcours de vie avec un autre pirate !</p>
</li>
<li>
<p><input type="checkbox" data-item-complete="0"> Ajoutez une nouvelle fonction <code>descendreGrade()</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_stocker_des_objets"><a class="anchor" href="#_stocker_des_objets"></a>Stocker des objets</h3>
<div class="paragraph">
<p>Comme les fonctions les objets possède une adresse en mémoire, vous avez probablement déjà afficher celle ci par erreur avec les fonctions ..</p>
</div>
<div class="paragraph">
<p>Il est possible de stocker la référence des objets dans une variable, tout comme il est possible de mettre un objet de type liste dans un autre objet de type liste.
Il est donc également possible de stocker la référence d&#8217;une fonction, ou d&#8217;un objet dans un attributs/variables quelconques, que cela soit dans un objet, dans une liste, dans une variable.</p>
</div>
<div class="paragraph">
<p>Regardons ça plus en détail dans les exemples ci dessous :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">def</span> <span class="tok-nf">somme</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">):</span>
   <span class="tok-k">return</span> <span class="tok-n">a</span><span class="tok-o">+</span><span class="tok-n">b</span>

<span class="tok-k">def</span> <span class="tok-nf">multiply</span><span class="tok-p">(</span><span class="tok-n">a</span><span class="tok-p">,</span><span class="tok-n">b</span><span class="tok-p">):</span>
   <span class="tok-k">return</span> <span class="tok-n">a</span><span class="tok-o">*</span><span class="tok-n">b</span>

<span class="tok-k">print</span> <span class="tok-n">somme</span> <span class="tok-c"># renvoie une adresse de l&#39;objet en mémoire</span>
<span class="tok-k">print</span> <span class="tok-n">somme</span><span class="tok-p">()</span> <span class="tok-c"># execute la fonction !</span>

<span class="tok-c"># Et donc vous pouvez stocker les références/adresses dans des structures de données, c&#39;est à dire dans des classes (dans les attributs), dans des listes, dans des dictionnaires, etc.</span>

<span class="tok-n">listeFonctionCalculette</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-n">somme</span><span class="tok-p">,</span><span class="tok-n">multiply</span><span class="tok-p">]</span>

<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-n">listeFonctionCalculette</span><span class="tok-p">:</span>
   <span class="tok-k">print</span> <span class="tok-s">&quot;Resultat = &quot;</span><span class="tok-p">,</span> <span class="tok-n">i</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Cela marche exactement de la même façon avec des objets, qui peuvent également être stockés dans des listes, des dictionnaires, etc.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">class</span> <span class="tok-nc">Personne</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>

   <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-n">nom</span><span class="tok-p">,</span><span class="tok-n">prenom</span><span class="tok-p">,</span><span class="tok-n">age</span><span class="tok-p">):</span>
      <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nom</span> <span class="tok-o">=</span> <span class="tok-n">nom</span>
      <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">prenom</span> <span class="tok-o">=</span> <span class="tok-n">prenom</span>
      <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">age</span> <span class="tok-o">=</span> <span class="tok-n">age</span>

   <span class="tok-k">def</span> <span class="tok-nf">anniversaire</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
      <span class="tok-k">print</span> <span class="tok-s">&quot;Bon anniversaire &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nom</span><span class="tok-p">,</span> <span class="tok-s">&quot; !!&quot;</span>
      <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">age</span> <span class="tok-o">=</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">age</span> <span class="tok-o">+</span> <span class="tok-mi">1</span>

   <span class="tok-k">def</span> <span class="tok-nf">information</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
      <span class="tok-k">print</span> <span class="tok-s">&quot;Mon nom est &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nom</span><span class="tok-p">,</span> <span class="tok-s">&quot; et mon prénom est &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">prenom</span>
      <span class="tok-k">print</span> <span class="tok-s">&quot;Aujourd&#39;hui j&#39;ai &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">age</span><span class="tok-p">,</span> <span class="tok-s">&quot; ans.&quot;</span>

<span class="tok-c"># Creation de deux objets a partir de la classe Personne</span>
<span class="tok-n">tomy</span> <span class="tok-o">=</span> <span class="tok-n">Personne</span><span class="tok-p">(</span><span class="tok-s">&quot;Ungerer&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;Tomy&quot;</span><span class="tok-p">,</span><span class="tok-mi">75</span><span class="tok-p">)</span>
<span class="tok-n">gerard</span> <span class="tok-o">=</span> <span class="tok-n">Personne</span><span class="tok-p">(</span><span class="tok-s">&quot;Mulot&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;Gerard&quot;</span><span class="tok-p">,</span><span class="tok-mi">55</span><span class="tok-p">)</span>
<span class="tok-c"># etc...</span>

<span class="tok-c"># On stocke ces objets dans une liste</span>
<span class="tok-n">listePersonne</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-n">tomy</span><span class="tok-p">,</span><span class="tok-n">gerard</span><span class="tok-p">]</span>

<span class="tok-c"># On appelle des fonctions sur les objets contenus dans cette liste</span>
<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-n">listePersonne</span><span class="tok-p">:</span>
   <span class="tok-n">i</span><span class="tok-o">.</span><span class="tok-n">information</span><span class="tok-p">()</span>

<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-n">listePersonne</span><span class="tok-p">:</span>
   <span class="tok-n">i</span><span class="tok-o">.</span><span class="tok-n">anniversaire</span><span class="tok-p">()</span>

<span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-n">listePersonne</span><span class="tok-p">:</span>
   <span class="tok-n">i</span><span class="tok-o">.</span><span class="tok-n">information</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Exercices</strong> :</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><input type="checkbox" data-item-complete="0"> En reprenant l&#8217;exemple des navigateurs et du pirate, essayez de stocker plusieurs pirates dans une liste, appelez un accident sur chacun d&#8217;eux à l&#8217;aide d&#8217;une boucle.</p>
</li>
<li>
<p><input type="checkbox" data-item-complete="0"> Construisez une fonction tempete qui prend un objet navigateur en paramètre, et lui applique un accident au hasard. Appelez ensuite cette fonction sur un des pirates de votre liste.</p>
</li>
<li>
<p><input type="checkbox" data-item-complete="0"> Essayez maintenant d&#8217;appliquer cette fonction sur un navigateur tiré au hasard dans votre liste de pirate !</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_bref_rappel_des_termes"><a class="anchor" href="#_bref_rappel_des_termes"></a>Bref rappel des termes</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">class</span> <span class="tok-nc">Navigateur</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Une classe Navigateur qui hérite d&#8217;un <code>object</code>, obligatoire pour Python.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">class</span> <span class="tok-nc">Navigateur</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span> <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-n">yeux</span><span class="tok-p">,</span><span class="tok-n">bras</span><span class="tok-p">,</span><span class="tok-n">jambes</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>La classe <code>Navigateur</code> est initialisé grâce à la fonction constructeur <code><em>init</em></code> qui prend <code>self</code> et 3 paramètres"</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">class</span> <span class="tok-nc">Navigateur</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span> <span class="tok-k">def</span> <span class="tok-nf">accident</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-n">typeAcc</span><span class="tok-p">):</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>La classe <code>Navigateur</code> possède une fonction nommé <code>accident</code> qui prend <code>self</code> et 1 paramètre"</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">gerard</span> <span class="tok-o">=</span> <span class="tok-n">Navigateur</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>gerard est une variable qui contient une instance de la classe <code>Navigateur</code> (cad un objet)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">gerard</span><span class="tok-o">.</span><span class="tok-n">accident</span><span class="tok-p">(</span><span class="tok-s">&quot;jambe&quot;</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Depuis l&#8217;instance de la classe <code>Navigateur</code> contenu dans la variable <code>gerard</code> (cad un objet), je récupère et apelle la fonction <code>accident</code> avec <code>self</code> et la valeur pour un paramètre.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">gerard</span><span class="tok-o">.</span><span class="tok-n">nbJambes</span> <span class="tok-o">=</span> <span class="tok-mi">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Depuis l&#8217;instance de la classe <code>Navigateur</code> contenu dans la variable <code>gerard</code> (cad un objet), je récupère et écrase l&#8217;attribut <code>nbJambes</code> avec la valeur passé par <code>l&#8217;affectation</code></p>
</div>
<div class="paragraph">
<p>A l&#8217;aide de ces principes, nous essaierons de réfléchir par la suite à la manière de structurer plus efficacement nos futurs programme.</p>
</div>
<div class="ulist">
<div class="title">Ressources python POO pour aller plus loin :</div>
<ul>
<li>
<p><a href="http://fr.openclassrooms.com/informatique/cours/langage-python">Partie 3 du cours Python du site openClassRooms</a></p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Ressource modélisation :</div>
<ul>
<li>
<p><a href="http://laurent-piechocki.developpez.com/uml/tutoriel/lp/cours/" class="bare">http://laurent-piechocki.developpez.com/uml/tutoriel/lp/cours/</a></p>
</li>
<li>
<p><a href="http://fr.wikipedia.org/wiki/Diagramme_de_classes" class="bare">http://fr.wikipedia.org/wiki/Diagramme_de_classes</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_des_objets_dans_des_objets"><a class="anchor" href="#_des_objets_dans_des_objets"></a>Des objets dans des objets ?</h3>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="images/worldofpirates.png" alt="worldofpirates" width="500">
</div>
</div>
<div class="paragraph">
<p>C&#8217;est ici que se trouve la vrai puissance de la programmation orientée objet, car elle permet de créer un code complexe de façon modulaire et générique, par exemple en imbriquant des objets dans d&#8217;autres objets.</p>
</div>
<div class="paragraph">
<p>Essayons à présente de créer un monde à la mesure de nos pirates. La première étape consiste à revoir notre classe <code>Navigateur</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># -*- coding: utf-8 -*-</span>

<span class="tok-kn">import</span> <span class="tok-nn">random</span>

<span class="tok-c"># Definition des classes du monde des pirates !</span>
<span class="tok-k">class</span> <span class="tok-nc">Navigateur</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">nom</span><span class="tok-p">,</span> <span class="tok-n">salaire</span><span class="tok-o">=</span><span class="tok-mi">10</span><span class="tok-p">,</span> <span class="tok-n">yeux</span><span class="tok-o">=</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-n">bras</span><span class="tok-o">=</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-n">jambes</span><span class="tok-o">=</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-n">argent</span><span class="tok-o">=</span><span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-n">force</span><span class="tok-o">=</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-n">grade</span><span class="tok-o">=</span><span class="tok-s">&quot;minable&quot;</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nom</span> <span class="tok-o">=</span> <span class="tok-n">nom</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">salaire</span> <span class="tok-o">=</span> <span class="tok-n">salaire</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">tete</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbYeux</span> <span class="tok-o">=</span> <span class="tok-n">yeux</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbBras</span> <span class="tok-o">=</span> <span class="tok-n">bras</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nbJambes</span> <span class="tok-o">=</span> <span class="tok-n">jambes</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">argent</span> <span class="tok-o">=</span> <span class="tok-n">argent</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">force</span> <span class="tok-o">=</span> <span class="tok-n">force</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">=</span> <span class="tok-n">grade</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">afficheInfo</span><span class="tok-p">()</span>

    <span class="tok-k">def</span> <span class="tok-nf">augmenteGrade</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">if</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">==</span> <span class="tok-s">&quot;minable&quot;</span><span class="tok-p">:</span>
            <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">=</span> <span class="tok-s">&quot;minus&quot;</span>
        <span class="tok-k">elif</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">==</span> <span class="tok-s">&quot;minus&quot;</span><span class="tok-p">:</span>
            <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">=</span> <span class="tok-s">&quot;chef&quot;</span>
        <span class="tok-k">elif</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">==</span> <span class="tok-s">&quot;chef&quot;</span><span class="tok-p">:</span>
            <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">=</span> <span class="tok-s">&quot;capitaine&quot;</span>

        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">force</span> <span class="tok-o">=</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">force</span> <span class="tok-o">+</span> <span class="tok-mi">1</span> <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>La classe Navigateur change un peu, on passe des arguments par défaut pour définir la morphologie et le grade de nos navigateurs. Ainsi on part du principe que le grade par défaut est "minus", et la morphologie normale.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>De nouveaux attributs apparaissent dans notre programme : argent, force et grade.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>A chaque augmentation de grade on augmente la force du navigateur de 1, par exemple cette fonction peut être appellé à chaque fois que son navire gagne un combat, on peut considérer qu&#8217;il augmente de grade.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Mais nous le savons bien, un pirate tout seul n&#8217;a aucune chance de survie dans ce monde hostile, il lui faut donc un équipage.</p>
</div>
<div class="paragraph">
<p>Dans le code suivant nous créons un premier équipage en utilisant une liste dans lequel nous stockons plusieurs instances de cette classe <code>Navigateur</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">jack</span> <span class="tok-o">=</span>  <span class="tok-n">Navigateur</span><span class="tok-p">(</span><span class="tok-s">&quot;Jack Calico&quot;</span><span class="tok-p">,</span> <span class="tok-n">argent</span><span class="tok-o">=</span><span class="tok-mi">10</span><span class="tok-p">,</span> <span class="tok-n">force</span><span class="tok-o">=</span><span class="tok-mi">10</span><span class="tok-p">,</span> <span class="tok-n">grade</span><span class="tok-o">=</span><span class="tok-s">&quot;capitaine&quot;</span><span class="tok-p">)</span>
<span class="tok-n">edward</span> <span class="tok-o">=</span>  <span class="tok-n">Navigateur</span><span class="tok-p">(</span><span class="tok-s">&quot;Edward Drake&quot;</span><span class="tok-p">,</span> <span class="tok-n">argent</span><span class="tok-o">=</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-n">force</span><span class="tok-o">=</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-n">grade</span><span class="tok-o">=</span><span class="tok-s">&quot;minable&quot;</span><span class="tok-p">)</span>
<span class="tok-n">anne</span> <span class="tok-o">=</span> <span class="tok-n">Navigateur</span><span class="tok-p">(</span><span class="tok-s">&quot;Anne Bonny&quot;</span><span class="tok-p">,</span><span class="tok-n">argent</span><span class="tok-o">=</span> <span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-n">force</span><span class="tok-o">=</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-n">grade</span><span class="tok-o">=</span><span class="tok-s">&quot;minable&quot;</span><span class="tok-p">)</span>
<span class="tok-n">equipe1</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-n">jack</span><span class="tok-p">,</span><span class="tok-n">edward</span><span class="tok-p">,</span><span class="tok-n">anne</span><span class="tok-p">]</span>
<span class="tok-k">print</span> <span class="tok-n">equipe1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Normalement un code bizarre de ce type s&#8217;affiche <code>[&lt;<em>main</em>.Navigateur instance at 0x7f632f278908&gt;, &lt;<em>main</em>.Navigateur instance at 0x7f632f2789e0&gt;, &lt;<em>main</em>.Navigateur instance at 0x7f632f278a28&gt;]</code></p>
</div>
<div class="paragraph">
<p>Il s&#8217;agit de la référence des objets en mémoire. Pour accéder au contenu de chacun de ces objets navigateurs, il n&#8217;y a pas d&#8217;autres choix que de faire appel aux méthodes ou aux attributs propre à ces objets.</p>
</div>
<div class="paragraph">
<p>Pour mieux comprendre la structure qui résulte d&#8217;un tel code, on peut se représenter la liste sous cette forme en mémoire. Les valeurs initialisées pour chaque attributs étant commentée ici en rouge.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/equipage.png" alt="equipage" width="500">
</div>
</div>
<div class="paragraph">
<p>Si je veux affiche par exemple, le nom de chacun des pirates, je pourrais faire la boucle suivante :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">for</span> <span class="tok-n">p</span> <span class="tok-ow">in</span> <span class="tok-n">equipe1</span><span class="tok-p">:</span>
	<span class="tok-k">print</span> <span class="tok-n">p</span><span class="tok-o">.</span><span class="tok-n">nom</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Je peux aussi changer la valeur des attributs directement :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">for</span> <span class="tok-n">p</span> <span class="tok-ow">in</span> <span class="tok-n">equipe1</span><span class="tok-p">:</span>
	<span class="tok-n">p</span><span class="tok-o">.</span><span class="tok-n">argent</span> <span class="tok-o">=</span> <span class="tok-n">p</span><span class="tok-o">.</span><span class="tok-n">argent</span> <span class="tok-o">*</span> <span class="tok-mi">2</span>
	<span class="tok-k">print</span> <span class="tok-n">p</span><span class="tok-o">.</span><span class="tok-n">argent</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si je veux uniquement augmenter le grade des <strong>minables</strong> dans mon équipage, il suffit de filtrer notre liste en fonction d&#8217;un attribut :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">for</span> <span class="tok-n">p</span> <span class="tok-ow">in</span> <span class="tok-n">equipe1</span><span class="tok-p">:</span>
	<span class="tok-k">if</span> <span class="tok-n">p</span><span class="tok-o">.</span><span class="tok-n">grade</span> <span class="tok-o">==</span> <span class="tok-s">&quot;minable&quot;</span><span class="tok-p">:</span>
		<span class="tok-n">p</span><span class="tok-o">.</span><span class="tok-n">augmenteGrade</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si je veux calculer l&#8217;argent total que possède cet équipage, encore une fois rien de plus facile. Il suffit d&#8217;accéder à l&#8217;attribut correspondant lors d&#8217;un parcours de liste.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">richesse</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
<span class="tok-k">for</span> <span class="tok-n">p</span> <span class="tok-ow">in</span> <span class="tok-n">equipe1</span><span class="tok-p">:</span>
	<span class="tok-n">richesse</span> <span class="tok-o">=</span> <span class="tok-n">richesse</span> <span class="tok-o">+</span> <span class="tok-n">p</span><span class="tok-o">.</span><span class="tok-n">argent</span>
<span class="tok-k">print</span> <span class="tok-n">richesse</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Réaliser cet équipage n&#8217;est qu&#8217;une première étape, que pouvons nous ajouter à présent ? Il serait intéressant par exemple d&#8217;encapsuler notre liste de pirates fraichement construite dans un objet <code>Equipage</code> auquel on pourra rajouter la fonction de calcul des richesses que nous avons déjà réalisé.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">class</span> <span class="tok-nc">Equipage</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">marins</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">marins</span> <span class="tok-o">=</span> <span class="tok-n">marins</span>

    <span class="tok-k">def</span> <span class="tok-nf">calculDesRichesses</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-n">richesse</span> <span class="tok-o">=</span> <span class="tok-mi">0</span>
        <span class="tok-k">for</span> <span class="tok-n">p</span> <span class="tok-ow">in</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">marins</span><span class="tok-p">:</span>
            <span class="tok-n">richesse</span> <span class="tok-o">=</span> <span class="tok-n">richesse</span> <span class="tok-o">+</span> <span class="tok-n">p</span><span class="tok-o">.</span><span class="tok-n">argent</span>
        <span class="tok-k">print</span> <span class="tok-n">richesse</span>

    <span class="tok-k">def</span> <span class="tok-nf">rechercheDuPlusRiche</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="tok-k">pass</span>

    <span class="tok-k">def</span> <span class="tok-nf">rechercheDuPlusFort</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">pass</span>

    <span class="tok-k">def</span> <span class="tok-nf">calculForceEquipage</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="tok-k">pass</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>La classe a besoin d&#8217;une liste de <code>Navigateur</code> pour que notre méthode marche correctement.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>On interroge l&#8217;attribut de notre objet qui contient à présent la liste de navigateurs, à savoir <code>self.marins</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Il est intéressant de pouvoir savoir à tout moment quel est le navigateur le plus fort mais aussi le plus riche de la bande. A vous d&#8217;écrire le code :)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Une fonction qui renvoie la force totale de notre équipage, pratique pour comparer deux équipages par la suite (dans la future fonction <code>combat()</code> par exemple)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Une première idée serait de définir un équipage ainsi :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">equipage1</span> <span class="tok-o">=</span> <span class="tok-n">Equipage</span><span class="tok-p">([</span><span class="tok-n">jack</span><span class="tok-p">,</span><span class="tok-n">edward</span><span class="tok-p">,</span><span class="tok-n">anne</span><span class="tok-p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Seulement voilà, maintenant que nous avons définit un équipage comme un objet à part entière, plus complexe qu&#8217;une simple liste, il serait également intéressant de donner une vrai raison d&#8217;être à cet équipage, à savoir un bateau qui l&#8217;abrite.</p>
</div>
<div class="paragraph">
<p>Plutôt que de créer un objet <code>Equipage</code> à part, pour ensuite le passer en paramètre lors de l&#8217;instanciation d&#8217;un <code>Navire</code>, nous préferons ici faire le choix d&#8217;une vrai composition. Ainsi l&#8217;équipage (et non les navigateurs, qui eux restent libre d&#8217;être associés à d&#8217;autres bateaux/équipages) devient exclusivement rattaché à un objet Navire. Si le <code>Navire</code> sombre, alors l&#8217;objet <code>Equipage</code> sombre avec lui.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">class</span> <span class="tok-nc">Navire</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">nom</span><span class="tok-p">,</span> <span class="tok-n">marins</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nom</span> <span class="tok-o">=</span> <span class="tok-n">nom</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">equipage</span> <span class="tok-o">=</span> <span class="tok-n">Equipage</span><span class="tok-p">(</span><span class="tok-n">marins</span><span class="tok-p">)</span>

    <span class="tok-k">def</span> <span class="tok-nf">combat</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">ennemi</span><span class="tok-p">):</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-k">print</span> <span class="tok-s">&quot;combat le bateau ennemi ! &quot;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>La classe navire est responsable d&#8217;un équipage et un seul, c&#8217;est elle qui créée l&#8217;instance de la classe <code>Equipage</code> accueillant la liste de <code>Navigateurs</code>.
Ainsi la liste de marins passés en paramètres sert ici à instancier la classe <code>Equipage</code> stocké par chaque objet <code>Navire</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>La classe qui définit les combats, pour déterminer l&#8217;issue du combat et calculer l&#8217;abordage, il faut prendre en paramètre un navire ennemi. On se base sur une comparaison de force entre les deux équipages pour le moment. Le navire le plus fort l&#8217;emporte.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Désormais, c&#8217;est l&#8217;objet <code>Navire</code> qui récupère la liste de navigateurs pour en faire un objet <code>Equipage</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">navire1</span> <span class="tok-o">=</span> <span class="tok-n">Navire</span><span class="tok-p">(</span><span class="tok-s">&quot;Queen Anne&#39;s Revenge&quot;</span><span class="tok-p">,[</span><span class="tok-n">jack</span><span class="tok-p">,</span><span class="tok-n">edward</span><span class="tok-p">,</span><span class="tok-n">anne</span><span class="tok-p">])</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En terme d&#8217;imbrication entre objets (<code>Navire</code> contient <code>Equipage</code> contient une liste de <code>Navigateurs</code>), cela représente le diagramme de classe, puis d&#8217;objets suivant :</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/imbricationClasses.png" alt="imbricationClasses" width="500">
</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/imbricationClasses2.png" alt="imbricationClasses2" width="600">
</div>
</div>
<div class="paragraph">
<p>La liste de navigateurs est passée à <code>navire1</code>, qui lors de sa initialisation construit directement un objet de type <code>Equipage</code> qui prend en paramètre cette même liste (<code>self.equipage = Equipage(marins)</code>). Celle-ci étant stocké dans l&#8217;attribut <code>marins</code> de cet équipage, on pourra l&#8217;apeller ainsi : <code>navire1.equipage.marin</code>. Comme il s&#8217;agit d&#8217;une liste, les navigateurs qu&#8217;elle contient peuvent être appelé avec la notation tableau classique. Ainsi <code>navire1.equipage.marins[0]</code> renvoie le premier marin de l&#8217;équipage, dont on peut également afficher le nom <code>navire1.equipage.marins[0].nom</code></p>
</div>
<div class="paragraph">
<p>Autrement dit, chaque imbrication implique un niveau supplémentaire dans la notation pointé.</p>
</div>
<div class="paragraph">
<p>Enfin, pour cette dernière étape, essayons d&#8217;être encore plus imaginatif. Les pirates ne se recrutent pas n&#8217;importe comment, il faut aller les chercher dans des <code>Tavernes</code>, logique non ?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">class</span> <span class="tok-nc">Taverne</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">listeDeNoms</span><span class="tok-p">,</span> <span class="tok-n">listeDePrenoms</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">listDeNoms</span> <span class="tok-o">=</span> <span class="tok-n">listeDeNoms</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">listDePrenoms</span> <span class="tok-o">=</span> <span class="tok-n">listeDePrenoms</span>

    <span class="tok-k">def</span> <span class="tok-nf">debaucher</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tok-n">salaire</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-mi">10</span><span class="tok-p">)</span>
		<span class="tok-n">argent</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-mi">20</span><span class="tok-p">)</span>
        <span class="tok-n">force</span> <span class="tok-o">=</span> <span class="tok-n">salaire</span> <span class="tok-o">*</span> <span class="tok-mf">1.5</span>
        <span class="tok-n">nomPrenom</span> <span class="tok-o">=</span> <span class="tok-s">&quot; &quot;</span><span class="tok-o">.</span><span class="tok-n">join</span><span class="tok-p">([</span><span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">listDeNoms</span><span class="tok-p">[</span><span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">listDeNoms</span><span class="tok-p">)</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-p">)],</span>
                              <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">listDePrenoms</span><span class="tok-p">[</span><span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">listDePrenoms</span><span class="tok-p">)</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-p">)]])</span>
        <span class="tok-k">return</span> <span class="tok-n">Navigateur</span><span class="tok-p">(</span><span class="tok-n">nomPrenom</span><span class="tok-p">,</span> <span class="tok-n">salaire</span><span class="tok-p">,</span> <span class="tok-n">argent</span><span class="tok-o">=</span><span class="tok-n">argent</span><span class="tok-p">,</span> <span class="tok-n">force</span><span class="tok-o">=</span><span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">force</span><span class="tok-p">))</span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>En utilisant la liste de noms et prénoms stockés par l&#8217;objet <code>Taverne</code>, on génère un nouvel objet <code>Navigateur</code>, en piochant au hasard un salaire entre 1 et 10 pièce d&#8217;or.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Le Navigateur ainsi créé est renvoyé par la fonction <code>debaucher()</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ne reste plus ici qu&#8217;à construire une fonction qui apelle de multiple fois la fonction <code>debaucher()</code> pour constituer équipage. Nous allons voire cela dans les exercices.</p>
</div>
<div class="paragraph">
<p>Voici un schéma UML qui tente de résumer de façon globale cette architecture.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/classNavigateur2.png" alt="classNavigateur2" width="400">
</div>
</div>
<div class="paragraph">
<p>Ce schéma UML (diagramme de classe) peut se lire ainsi. Un objet construit avec la classe <code>Taverne</code> doit pouvoir construire des navigateurs en partant de la classe <code>Navigateur</code>. Un objet de type <code>Equipage</code> contient en ensemble d&#8217;objets de type <code>Navigateur</code> (dans une liste par exemple). L&#8217;objet de type <code>Equipage</code> est ici dépendant et construit par l&#8217;objet de type <code>Navire</code>, il n&#8217;existe pas en dehors (symbole losange noir). Enfin un objet de type <code>Navire</code> contient un seul objet équipage.</p>
</div>
<div class="paragraph">
<p>Ainsi on peut en déduire qu&#8217;un objet navire contient un objet équipage qui contient lui même un attribut contenant une liste d&#8217;objets navigateurs.</p>
</div>
<div class="paragraph">
<p><strong>Exercices</strong> :</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><input type="checkbox" data-item-complete="0"> Construire/Instancier un objet de type <code>Taverne</code> stocké dans une variable <code>taverneAPirate</code> en lui passant les listes ci-dessous :</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">nomDePirate</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;Bonny&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Jack&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Teach&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Drake&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Morgan&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Nau&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Read&quot;</span><span class="tok-p">]</span>
<span class="tok-n">prenomDePirate</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;Anne&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Calico&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Edward&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Francis&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Henry&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Jean&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Mary&quot;</span><span class="tok-p">]</span></code></pre>
</div>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-square-o"></i> Ecrire une fonction <code>buildEquipage</code> qui prend en paramètre un nombre de marin (nbMarins) et un objet taverneAPirate de type <code>Taverne</code>, et renvoie une liste d&#8217;objets <code>Navigateur</code>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># Fonction pour construire equipage</span>
<span class="tok-k">def</span> <span class="tok-nf">buildEquipage</span><span class="tok-p">(</span><span class="tok-n">taverne</span><span class="tok-p">,</span> <span class="tok-n">nbMarins</span><span class="tok-p">):</span>
    <span class="tok-n">equipage</span> <span class="tok-o">=</span> <span class="tok-p">[]</span>
    <span class="tok-n">equipage</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-o">...</span><span class="tok-p">)</span>
    <span class="tok-o">...</span>
    <span class="tok-k">return</span> <span class="tok-n">equipage</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme déjà vu un peu plus haut, on apelle les attributs et les fonctions à l&#8217;aide d&#8217;une notation pointée. Une fois l&#8217;objet <code>taverneAPirate</code> instancié, il est possible d&#8217;apeller sa fonction <code>debaucher()</code> ainsi <code>taverneAPirate.debaucher()</code></p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-square-o"></i> Construire et stocker dans des variables deux objets navires (<code>navire1</code> et <code>navire2</code> par exemple) à partir de la classe <code>Navire</code> en leur passant des équipages renvoyés par <code>buildEquipage(&#8230;&#8203;)</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Comme déjà vu un peu plus haut, on apelle les attributs et les fonctions des objets à l&#8217;aide d&#8217;une notation pointée, et cela de façon hiérarchique.</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-square-o"></i> Réaliser les fonctions permettant de calculer un combat entre deux Navires en se basant sur la force des pirates qui les composent. Remplir la fonction <code>calculForceEquipage()</code> et <code>combat()</code> qui prend forcément un objet navire en paramètre (pour comparer les deux forces, celle de lui-même, et celle du navire passé en paramètre).</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Penser à payer vos pirates à la fin de chaque combat victorieux! Remplir la fonction <code>jourDePaye()</code> qui se base sur le salaire de vos pirates.</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Penser à ajouter une ou plusieurs classes de votre choix permettant d&#8217;enrichir ce monde de Pirate par de nouvelles aventures.</p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/bandePirates.jpg" alt="bandePirates" width="400">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_héritage_ou_composition"><a class="anchor" href="#_héritage_ou_composition"></a>Héritage ou Composition ?</h3>
<div class="paragraph">
<p>De la même façon qu&#8217;il existe les fonctions pour éviter d&#8217;avoir à réécrire du code, il existe deux notions en Poo qui permettent de limiter la redondance de code entre des classes qui partageraient les mêmes comportements(attributs et fonctions).</p>
</div>
<div class="paragraph">
<p>Il faut savoir qu&#8217;il n&#8217;y a pas de meilleur techniques l&#8217;une par rapport à l&#8217;autre, tout est avant tout une <strong>question d&#8217;usage</strong>. Ainsi n&#8217;y a pas de duel entre héritage et/ou composition, il faut seulement savoir que les deux techniques possèdent leurs avantages ou leurs inconvénients, et qu&#8217;elle sont bien souvent interchangeables.</p>
</div>
<div class="sect3">
<h4 id="_héritage"><a class="anchor" href="#_héritage"></a>Héritage</h4>
<div class="paragraph">
<p>L&#8217;héritage est la notion la plus facile à comprendre, et la plus facile à mettre en oeuvre, et donc c&#8217;est aussi la plus dangereuse. Il existe un débat très vif sur son utilisation dans le cercle des développeurs. Je vous donne dans la suite du document quelques clefs (non exhaustives) pour mieux comprendre quand il faut, et quand il ne faut pas l&#8217;utiliser.</p>
</div>
<div class="paragraph">
<p>Voici par exemple ce que dit le très bon site de <a href="http://learnpythonthehardway.org/book/ex44.html">learn python the hard way</a> à ce sujet :</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>On object-oriented programming, <strong>Inheritance is the evil forest</strong>. Experienced programmers know to avoid this evil because they know that deep inside the Dark Forest Inheritance is the Evil Queen Multiple Inheritance. She likes to eat software and programmers with her massive complexity teeth, chewing on the flesh of the fallen. But the forest is so powerful and so tempting that nearly every programmer has to go into it, and try to make it out alive with the Evil Queen&#8217;s head before they can call themselves real programmers. You just can&#8217;t resist the Inheritance Forest&#8217;s pull, so you go in. After the adventure you learn to just stay out of that stupid forest and bring an army if you are ever forced to go in again.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; suite sur <a href="http://learnpythonthehardway.org/book/ex44.html">learn python the hard way</a>
</div>
</div>
<div class="paragraph">
<p>L&#8217;héritage permet plusieurs choses, mais on la retient surtout pour sa capacité à factoriser du code tout en spécialisant une classe de base existante, ce qui permet de garder le comportement initial (attributs et méthodes), tout en lui en ajoutant de nouveaux (attributs et méthodes).</p>
</div>
<div class="paragraph">
<p>Voyons ce que cela donne avec nos pirates &#8230;&#8203;</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/classPiratesMZV.png" alt="classPiratesMZV" width="500">
</div>
</div>
<div class="paragraph">
<p>Pour déterminer si une relation d&#8217;héritage est possible ou pas entre deux classes, on peut s&#8217;aider de cette règle : <strong>is-a</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Un PirateZombie <strong>is-a</strong> Pirate</p>
</li>
<li>
<p>Un PirateVolant <strong>is-a</strong> Pirate</p>
</li>
<li>
<p>Un PirateMagicien <strong>is-a</strong> Pirate</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># -*- coding: utf-8 -*-</span>

<span class="tok-kn">import</span> <span class="tok-nn">random</span>

<span class="tok-k">class</span> <span class="tok-nc">Pirate</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-n">nation</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nation</span> <span class="tok-o">=</span> <span class="tok-n">nation</span>
    <span class="tok-k">def</span> <span class="tok-nf">speak</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">print</span> <span class="tok-s">&quot;je suis &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nation</span>
        <span class="tok-k">print</span> <span class="tok-s">&quot;et je suis un pirate normal ...&quot;</span>

<span class="tok-c"># PirateMagicien is - a Pirate</span>
<span class="tok-k">class</span> <span class="tok-nc">PirateMagicien</span><span class="tok-p">(</span><span class="tok-n">Pirate</span><span class="tok-p">):</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">nation</span><span class="tok-p">,</span> <span class="tok-n">listFormule</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;Abracadabra&quot;</span><span class="tok-p">]):</span>
        <span class="tok-nb">super</span><span class="tok-p">(</span><span class="tok-n">PirateMagicien</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">__init__</span><span class="tok-p">(</span><span class="tok-n">nation</span><span class="tok-p">)</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">formules</span> <span class="tok-o">=</span> <span class="tok-n">listFormule</span> <i class="conum" data-value="4"></i><b>(4)</b>

    <span class="tok-k">def</span> <span class="tok-nf">speak</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span> <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="tok-k">print</span> <span class="tok-s">&quot;je suis un magicien de nationalité &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nation</span>

    <span class="tok-k">def</span> <span class="tok-nf">cast</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span> <i class="conum" data-value="6"></i><b>(6)</b>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">speak</span><span class="tok-p">()</span>
        <span class="tok-k">print</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">formules</span><span class="tok-p">[</span><span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">formules</span><span class="tok-p">)</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">)]</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>La classe de Base, qui va servir à la dérivation, celle ci n&#8217;a rien de particulier.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>C&#8217;est ici que l&#8217;on déclare la dérivation, en indiquant bien de quelle classe on hérite, ici <code>Pirate</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>super()</code> est une fonction spéciale qui permet d&#8217;apeller la méthode <code><em>init</em>()</code> de <code>Pirate</code>. C&#8217;est ainsi que l&#8217;on ajoute les comportements de la classe <code>Pirate</code> à notre classe dérivée <code>PirateMagicien</code>. Pour que cette méthode s&#8217;initialise bien, des paramètres doivent lui être passé en entrées, ce qui explique le passage de nation à la méthode <code><em>init</em>()</code> de <code>Pirate</code> : <code><em>init</em>(nation)</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Il est temps de spécialiser notre pirate en lui ajoutant de nouveaux attributs, ici une liste de formules pour lancer un sort.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Si je ne suis pas content du comportement de la classe de base, comme par exemple ici la fonction <code>speak()</code> de <code>Pirate</code>, je peux toujours l&#8217;écraser (plus connu sous l&#8217;appelation 'override') par un <code>speak()</code> plus adapté comme c&#8217;est le cas ici.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Idem, on continue la spécialisation en ajoutant une nouvelle méthode disponible uniquement pour les instances de la classe <code>PiratesMagiciens</code>*</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Le reste du programme avec d&#8217;autres types de pirates spécialisés.<br>
L&#8217;appel des functions propre à chacun est en bas du programme.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># PirateZombie is - a Pirate</span>
<span class="tok-k">class</span> <span class="tok-nc">PirateZombie</span><span class="tok-p">(</span><span class="tok-n">Pirate</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">nation</span><span class="tok-p">,</span> <span class="tok-n">vitesse</span><span class="tok-p">):</span>
        <span class="tok-nb">super</span><span class="tok-p">(</span><span class="tok-n">PirateZombie</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">__init__</span><span class="tok-p">(</span><span class="tok-n">nation</span><span class="tok-p">)</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">vitesse</span> <span class="tok-o">=</span> <span class="tok-n">vitesse</span>

    <span class="tok-k">def</span> <span class="tok-nf">eat</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">speak</span><span class="tok-p">()</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s">&quot;miam miam&quot;</span><span class="tok-p">)</span>

    <span class="tok-k">def</span> <span class="tok-nf">speak</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">print</span> <span class="tok-s">&quot; *Bweahhhh* &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nation</span>
        <span class="tok-k">print</span> <span class="tok-s">&quot; *Bweahhhh* Brain ... &quot;</span>

<span class="tok-c"># PirateVolant is - a Pirate</span>
<span class="tok-k">class</span> <span class="tok-nc">PirateVolant</span><span class="tok-p">(</span><span class="tok-n">Pirate</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">nation</span><span class="tok-p">,</span><span class="tok-n">nomDuBalais</span><span class="tok-p">):</span>
        <span class="tok-nb">super</span><span class="tok-p">(</span><span class="tok-n">PirateVolant</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">__init__</span><span class="tok-p">(</span><span class="tok-n">nation</span><span class="tok-p">)</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nomDuBalais</span> <span class="tok-o">=</span> <span class="tok-n">nomDuBalais</span>

    <span class="tok-k">def</span> <span class="tok-nf">fly</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">speak</span><span class="tok-p">()</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s">&quot;Je vole sur mon &quot;</span> <span class="tok-o">+</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nomDuBalais</span><span class="tok-p">)</span>

    <span class="tok-k">def</span> <span class="tok-nf">speak</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">print</span> <span class="tok-s">&quot;Je suis &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nation</span>
        <span class="tok-k">print</span> <span class="tok-s">&quot;et je suis l&#39;as des as pirates ... &quot;</span>


<span class="tok-n">unPremierSpecialiste</span> <span class="tok-o">=</span> <span class="tok-n">PirateMagicien</span><span class="tok-p">(</span><span class="tok-s">&quot;Italien&quot;</span><span class="tok-p">,[</span><span class="tok-s">&quot;Abracadabra&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;Bazinga&quot;</span><span class="tok-p">])</span>
<span class="tok-n">unPremierSpecialiste</span><span class="tok-o">.</span><span class="tok-n">cast</span><span class="tok-p">()</span>

<span class="tok-n">unDeuxiemeSpecialiste</span> <span class="tok-o">=</span> <span class="tok-n">PirateZombie</span><span class="tok-p">(</span><span class="tok-s">&quot;Haitien&quot;</span><span class="tok-p">,</span><span class="tok-mi">10</span><span class="tok-p">)</span>
<span class="tok-n">unDeuxiemeSpecialiste</span><span class="tok-o">.</span><span class="tok-n">eat</span><span class="tok-p">()</span>

<span class="tok-n">unTroisiemeSpecialiste</span> <span class="tok-o">=</span> <span class="tok-n">PirateVolant</span><span class="tok-p">(</span><span class="tok-s">&quot;Hollandais&quot;</span><span class="tok-p">,</span><span class="tok-s">&quot;Alactasar&quot;</span><span class="tok-p">)</span>
<span class="tok-n">unTroisiemeSpecialiste</span><span class="tok-o">.</span><span class="tok-n">fly</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ok, comme vous voyez, ça marche plutôt bien, et ça peut nous faire économiser pas mal de code dans certains cas en factorisant les comportements similaires dans une même classe de base.</p>
</div>
<div class="paragraph">
<p>Toutefois, dans le cadre du développement d&#8217;un logiciel plus complexe, on pourrait être tenté de réaliser une hierarchie bien plus grande que celle ci. Voici donc un exemple simple qui montre bien les limites de ce type de hierarchie finalement très <strong>statique</strong>, ou <strong>rigide</strong>.</p>
</div>
<div class="paragraph">
<p>Que se passe t il dans mon programme si je décide tout à coup que les Pirates peuvent cumulés plusieurs traits, autrement dit, si je veux pouvoir créer des Pirate qui sont par exemple à la fois Volant et Magicien ? ou Zombie et Volant ? etc. Vais je continuer à étendre ma hierarchie ? Non car je vais perdre tout le bénéfice de la factorisation réalisé au préalable.</p>
</div>
<div class="paragraph">
<p>Voici une proposition de test vue sur stackOverflow, que j&#8217;ai traduite ci dessous, et qui permet de detecter avec un peu plus de discernation si vous avez besoin d&#8217;un héritage ou plutôt d&#8217;une composition dans votre programme :</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Un petit test pour y voir plus clair</div>
<div class="ulist">
<ul>
<li>
<p>Does <code>TypeB</code> want to expose the complete interface (all public methods no less) of <code>TypeA</code> such that <code>TypeB</code> can be used where <code>TypeA</code> is expected? Indicates Inheritance.</p>
<div class="literalblock">
<div class="content">
<pre>e.g. A Cessna biplane will expose the complete interface of an airplane, if not more. So that makes it fit to derive from Airplane.</pre>
</div>
</div>
</li>
<li>
<p>Does <code>TypeB</code> only want only some/part of the behavior exposed by <code>TypeA</code>? Indicates need for Composition.</p>
<div class="literalblock">
<div class="content">
<pre>e.g. A Bird may need only the fly behavior of an Airplane. In this case, it makes sense to extract it out as an interface / class / both and make it a member of both classes.</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Source</strong> : 'http://stackoverflow.com/questions/49002/prefer-composition-over-inheritance?rq=1[stackoverflow]'</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="title">Version informaticien du test décrit ci dessus :</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://fr.wikipedia.org/wiki/Principe_de_substitution_de_Liskov">Barbara Liskov&#8217;s Liskov Substitution Principle</a> as a test for 'Should I be inheriting from this type?'</p>
</li>
<li>
<p>Les principes de POO <a href="http://fr.wikipedia.org/wiki/SOLID_%28informatique%29">SOLID</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Quelques phrases que j&#8217;ai trouvé un peu partout sur Internet qui permettent de cloturer ce sujet épineux :</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Most of the uses of inheritance can be simplified or replaced with composition, and multiple inheritance should be avoided at all costs.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; suite sur <a href="http://learnpythonthehardway.org/book/ex44.html">learn python the hard way</a>
</div>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>All of the pain caused by inheritance can be traced back to the fact that inheritance forces <strong>is-a</strong> rather than <strong>has-a</strong> relationships. If class R2Unit extends Droid, then a R2Unit is-a Droid. If class Jedi contains an instance variable of type Lightsabre, then a Jedi has-a Lightsabre.</p>
</div>
<div class="paragraph">
<p>The difference between <strong>is-a</strong> and <strong>has-a</strong> relationships is well known and a fundamental part of OOAD, but what is less well known is that almost every <strong>is-a</strong> relationship would be better off re-articulated as a <strong>has-a</strong> relationship.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; <a href="http://berniesumption.com/software/inheritance-is-evil-and-must-be-destroyed">berniesumption</a>
</div>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Inheritance doesn’t work in real life
During my Computer Science studies, I learned about a cliche example of Student and Teacher classes should inherit from a Person base class. All the common properties and methods should be put in the base class, therefore when new common properties and methods are added, they will not be duplicated in different child classes.In reality, this almost never happens.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; suite sur <a href="http://www.ronaldwidha.net/2009/03/22/a-good-example-of-favouring-composition-over-inheritance/">ronaldwidha.net</a>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Il faut privilégier la composition dès que votre hierarchie de classe vous parait trop complexe ou inadapté.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pour aller plus loin dans le débat héritage vs composition :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://learnpythonthehardway.org/book/ex44.html" class="bare">http://learnpythonthehardway.org/book/ex44.html</a></p>
</li>
<li>
<p><a href="http://www.copypasteisforword.com/notes/use-inheritance-properly" class="bare">http://www.copypasteisforword.com/notes/use-inheritance-properly</a></p>
</li>
<li>
<p><a href="http://stackoverflow.com/questions/49002/prefer-composition-over-inheritance?rq=1" class="bare">http://stackoverflow.com/questions/49002/prefer-composition-over-inheritance?rq=1</a></p>
</li>
<li>
<p><a href="http://www.artima.com/lejava/articles/designprinciples4.html" class="bare">http://www.artima.com/lejava/articles/designprinciples4.html</a></p>
</li>
<li>
<p><a href="http://stackoverflow.com/questions/1020453/whats-the-point-of-inheritance-in-python?rq=1" class="bare">http://stackoverflow.com/questions/1020453/whats-the-point-of-inheritance-in-python?rq=1</a></p>
</li>
<li>
<p><a href="http://berniesumption.com/software/inheritance-is-evil-and-must-be-destroyed/" class="bare">http://berniesumption.com/software/inheritance-is-evil-and-must-be-destroyed/</a></p>
</li>
<li>
<p><a href="http://en.wikipedia.org/wiki/Composition_over_inheritance" class="bare">http://en.wikipedia.org/wiki/Composition_over_inheritance</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_composition"><a class="anchor" href="#_composition"></a>Composition</h4>
<div class="paragraph">
<p>Cette notion est moins facile à comprendre et demande l&#8217;écriture de plus de code, mais par contre elle amène aussi beaucoup plus de souplesse pour penser l&#8217;architecture de vos programmes.</p>
</div>
<div class="paragraph">
<p>Si on change notre façon de raisonner en essayant d&#8217;externaliser les comportements de notre <code>Pirate</code> initial.  En utilisant la relation <strong>has-a</strong> propre à l&#8217;aggrégation ou à la composition, il est possible de construire des objets complexes à partir de sous blocs plus simple, pensé pour être réutilisable.</p>
</div>
<div class="paragraph">
<p>Est ce que notre exemple de pirate aux multiples fonctionnalités (volant, zombie, magicien) devient possible ?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># -*- coding: utf-8 -*-</span>

<span class="tok-kn">import</span> <span class="tok-nn">random</span>

<span class="tok-k">class</span> <span class="tok-nc">MagicPower</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-n">power</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">power</span> <span class="tok-o">=</span> <span class="tok-n">power</span>

    <span class="tok-k">def</span> <span class="tok-nf">cast</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">print</span> <span class="tok-p">(</span><span class="tok-s">&quot;pfscht &quot;</span><span class="tok-p">)</span>

<span class="tok-k">class</span> <span class="tok-nc">ZombiePower</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-n">vitesse</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">vitesse</span> <span class="tok-o">=</span> <span class="tok-n">vitesse</span>

    <span class="tok-k">def</span> <span class="tok-nf">eat</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s">&quot;miam&quot;</span><span class="tok-p">)</span>

<span class="tok-k">class</span> <span class="tok-nc">VolantPower</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-n">nomDuBalais</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nomDuBalais</span> <span class="tok-o">=</span> <span class="tok-n">nomDuBalais</span>

    <span class="tok-k">def</span> <span class="tok-nf">fly</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">print</span> <span class="tok-s">&quot;Je vole sur mon &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nomDuBalais</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Il y a plusieurs façon de voir une composition, tout dépend du problème.</p>
</div>
<div class="paragraph">
<p>Dans cette première version les classes sont créés directement dans la classe <code>PirateZombieMagicien</code>, elles sont donc liées à celle ci.
Si le <code>PirateZombieMagicien</code> se faisait tuer, alors les définitions des classes qu&#8217;il contient sont également perdus.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/classPiratesCompose.png" alt="classPiratesCompose" width="500">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c">#Pirate Zombie Magicien has-a MagicPower, has-a ZombiePower</span>
<span class="tok-k">class</span> <span class="tok-nc">PirateZombieMagicien</span><span class="tok-p">(</span><span class="tok-n">Pirate</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">nation</span><span class="tok-p">):</span>
        <span class="tok-nb">super</span><span class="tok-p">(</span><span class="tok-n">PirateZombieMagicien</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">__init__</span><span class="tok-p">(</span><span class="tok-n">nation</span><span class="tok-p">)</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">magic</span> <span class="tok-o">=</span> <span class="tok-n">MagicPower</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">)</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">zombie</span> <span class="tok-o">=</span> <span class="tok-n">ZombiePower</span><span class="tok-p">(</span><span class="tok-mf">2.5</span><span class="tok-p">)</span>

    <span class="tok-k">def</span> <span class="tok-nf">eat</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">zombie</span><span class="tok-o">.</span><span class="tok-n">eat</span><span class="tok-p">()</span>

    <span class="tok-k">def</span> <span class="tok-nf">cast</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">magic</span><span class="tok-o">.</span><span class="tok-n">cast</span><span class="tok-p">()</span>

<span class="tok-c">#Pirate Zombie Magicien has-a VolantPower, has-a ZombiePower</span>
<span class="tok-k">class</span> <span class="tok-nc">PirateZombieVolant</span><span class="tok-p">(</span><span class="tok-n">Pirate</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">nation</span><span class="tok-p">):</span>
        <span class="tok-nb">super</span><span class="tok-p">(</span><span class="tok-n">PirateZombieVolant</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">__init__</span><span class="tok-p">(</span><span class="tok-n">nation</span><span class="tok-p">)</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">volant</span> <span class="tok-o">=</span> <span class="tok-n">VolantPower</span><span class="tok-p">(</span><span class="tok-s">&quot;Asclatra&quot;</span><span class="tok-p">)</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">zombie</span> <span class="tok-o">=</span> <span class="tok-n">ZombiePower</span><span class="tok-p">(</span><span class="tok-mf">2.5</span><span class="tok-p">)</span>

    <span class="tok-k">def</span> <span class="tok-nf">eat</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">zombie</span><span class="tok-o">.</span><span class="tok-n">eat</span><span class="tok-p">()</span>

    <span class="tok-k">def</span> <span class="tok-nf">fly</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">volant</span><span class="tok-o">.</span><span class="tok-n">fly</span><span class="tok-p">()</span>


<span class="tok-n">monpiratecustom1</span> <span class="tok-o">=</span> <span class="tok-n">PirateZombieMagicien</span><span class="tok-p">(</span><span class="tok-s">&quot;Hongrie&quot;</span><span class="tok-p">)</span>
<span class="tok-n">monpiratecustom1</span><span class="tok-o">.</span><span class="tok-n">cast</span><span class="tok-p">()</span>
<span class="tok-n">monpiratecustom1</span><span class="tok-o">.</span><span class="tok-n">eat</span><span class="tok-p">()</span>

<span class="tok-n">monpiratecustom2</span> <span class="tok-o">=</span> <span class="tok-n">PirateZombieVolant</span><span class="tok-p">(</span><span class="tok-s">&quot;Pérou&quot;</span><span class="tok-p">)</span>
<span class="tok-n">monpiratecustom2</span><span class="tok-o">.</span><span class="tok-n">fly</span><span class="tok-p">()</span>
<span class="tok-n">monpiratecustom2</span><span class="tok-o">.</span><span class="tok-n">eat</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/classPiratesAggregation.png" alt="classPiratesAggregation" width="500">
</div>
</div>
<div class="paragraph">
<p>Une autre possibilité est envisageable, où cette fois ci la nature des pouvoirs du Pirate est passée en paramètre au moment de sa création.
Il s&#8217;agit d&#8217;une aggregation, mais le bénéfice est le même que pour la composition, et la flexibilité pour développer des fonctionnalités dans notre programme est d&#8217;autant plus grande.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">class</span> <span class="tok-nc">Pirate</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">nation</span><span class="tok-p">,</span> <span class="tok-n">magicien</span> <span class="tok-o">=</span> <span class="tok-bp">None</span><span class="tok-p">,</span> <span class="tok-n">zombie</span> <span class="tok-o">=</span> <span class="tok-bp">None</span><span class="tok-p">,</span> <span class="tok-n">volant</span> <span class="tok-o">=</span> <span class="tok-bp">None</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nation</span> <span class="tok-o">=</span> <span class="tok-n">nation</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">magic</span> <span class="tok-o">=</span> <span class="tok-n">magicien</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">zombie</span> <span class="tok-o">=</span> <span class="tok-n">zombie</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">volant</span> <span class="tok-o">=</span> <span class="tok-n">volant</span>

<span class="tok-n">magicien</span> <span class="tok-o">=</span> <span class="tok-n">MagicPower</span><span class="tok-p">(</span><span class="tok-mi">5</span><span class="tok-p">)</span>
<span class="tok-n">volant</span> <span class="tok-o">=</span> <span class="tok-n">VolantPower</span><span class="tok-p">(</span><span class="tok-s">&quot;Patatra&quot;</span><span class="tok-p">)</span>
<span class="tok-n">monpirate</span> <span class="tok-o">=</span> <span class="tok-n">Pirate</span><span class="tok-p">(</span><span class="tok-s">&quot;BarbeCourte&quot;</span><span class="tok-p">,</span><span class="tok-n">magicien</span> <span class="tok-o">=</span> <span class="tok-n">magicien</span><span class="tok-p">,</span> <span class="tok-n">volant</span> <span class="tok-o">=</span> <span class="tok-n">volant</span><span class="tok-p">)</span>
<span class="tok-k">if</span> <span class="tok-n">monpirate</span><span class="tok-o">.</span><span class="tok-n">volant</span> <span class="tok-p">:</span>
    <span class="tok-n">monpirate</span><span class="tok-o">.</span><span class="tok-n">volant</span><span class="tok-o">.</span><span class="tok-n">fly</span><span class="tok-p">()</span>
<span class="tok-k">if</span> <span class="tok-n">monpirate</span><span class="tok-o">.</span><span class="tok-n">magic</span> <span class="tok-p">:</span>
    <span class="tok-n">monpirate</span><span class="tok-o">.</span><span class="tok-n">magic</span><span class="tok-o">.</span><span class="tok-n">cast</span><span class="tok-p">()</span>
<span class="tok-k">if</span> <span class="tok-n">monpirate</span><span class="tok-o">.</span><span class="tok-n">zombie</span><span class="tok-p">:</span>
    <span class="tok-n">monpirate</span><span class="tok-o">.</span><span class="tok-n">zombie</span><span class="tok-o">.</span><span class="tok-n">eat</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Bon et admettons maintenant que le Pirate magicien possède une barbe de feu, qu&#8217;il soit diabolique, et possède un sort capable de lui rendre de la vie ?</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/lechuck.png" alt="lechuck" width="200">
</div>
</div>
<div class="paragraph">
<p>Une des solution est de rendre bi-directionelle la relation d&#8217;aggregation <strong>has-a</strong> entre la classe <code>Pirate</code> et la classe <code>MagicPower</code>, comme cela la classe <code>MagicPower</code> qui contient le sort de vie peut avoir accès aux attributs et aux méthodes du <code>Pirate</code> et les modifier.</p>
</div>
<div class="paragraph">
<p>Exactement ce que l&#8217;on veut faire, et donc pour cela il suffit d&#8217;enlever la flèche de direction dans le schéma UML.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/classPiratesAggregation2.png" alt="classPiratesAggregation2" width="500">
</div>
</div>
<div class="paragraph">
<p>Voici pour le code source correspondant au diagramme UML :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">class</span> <span class="tok-nc">MagicPower</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-n">power</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">power</span> <span class="tok-o">=</span> <span class="tok-n">power</span>

    <span class="tok-k">def</span> <span class="tok-nf">cast</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">if</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">owner</span><span class="tok-p">:</span> <i class="conum" data-value="1"></i><b>(1)</b>
            <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">owner</span><span class="tok-o">.</span><span class="tok-n">vie</span> <span class="tok-o">+=</span> <span class="tok-mf">5.0</span> <span class="tok-o">*</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">power</span> <i class="conum" data-value="2"></i><b>(2)</b>
            <span class="tok-k">print</span> <span class="tok-s">&quot;pfscht +&quot;</span><span class="tok-p">,</span>  <span class="tok-mf">5.0</span> <span class="tok-o">*</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">power</span> <span class="tok-p">,</span> <span class="tok-s">&quot; vie&quot;</span>

<span class="tok-k">class</span> <span class="tok-nc">Pirate</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">nation</span><span class="tok-p">,</span> <span class="tok-n">vie</span><span class="tok-p">,</span><span class="tok-n">magicien</span> <span class="tok-o">=</span> <span class="tok-bp">None</span><span class="tok-p">,</span> <span class="tok-n">zombie</span> <span class="tok-o">=</span> <span class="tok-bp">None</span><span class="tok-p">,</span> <span class="tok-n">volant</span> <span class="tok-o">=</span> <span class="tok-bp">None</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">vie</span> <span class="tok-o">=</span> <span class="tok-n">vie</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nation</span> <span class="tok-o">=</span> <span class="tok-n">nation</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">magic</span> <span class="tok-o">=</span> <span class="tok-n">magicien</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">zombie</span> <span class="tok-o">=</span> <span class="tok-n">zombie</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">volant</span> <span class="tok-o">=</span> <span class="tok-n">volant</span>

        <span class="tok-k">if</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">magic</span><span class="tok-p">:</span> <i class="conum" data-value="3"></i><b>(3)</b>
            <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">magic</span><span class="tok-o">.</span><span class="tok-n">owner</span> <span class="tok-o">=</span> <span class="tok-bp">self</span> <i class="conum" data-value="4"></i><b>(4)</b>

<span class="tok-n">magicien</span> <span class="tok-o">=</span> <span class="tok-n">MagicPower</span><span class="tok-p">(</span><span class="tok-mf">2.0</span><span class="tok-p">)</span>
<span class="tok-n">monpirate</span> <span class="tok-o">=</span> <span class="tok-n">Pirate</span><span class="tok-p">(</span><span class="tok-s">&quot;LeChuck&quot;</span><span class="tok-p">,</span> <span class="tok-mf">100.0</span><span class="tok-p">,</span> <span class="tok-n">magicien</span> <span class="tok-o">=</span> <span class="tok-n">magicien</span><span class="tok-p">)</span>
<span class="tok-n">monpirate</span><span class="tok-o">.</span><span class="tok-n">magic</span><span class="tok-o">.</span><span class="tok-n">cast</span><span class="tok-p">()</span>
<span class="tok-k">print</span> <span class="tok-n">monpirate</span><span class="tok-o">.</span><span class="tok-n">vie</span> <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A l&#8217;execution de la fonction, et avant d&#8217;appliquer le pouvoir on s&#8217;assure bien que l&#8217;attribut <code>self.owner</code> existe. En l&#8217;occurence à cet instant là qui correspond à la définition de la fonction, il n&#8217;existe pas encore, et il faudra attendre l&#8217;étape 4 pour que cet attribut soit fixé par la classe <code>Pirate</code>. Il est donc tout à fait possible de définir des attributs à posteriori pour une classe. Toutefois on voit que nous avons rajouté un lien de dépendance entre ces deux classes, car cette fonction a maintenant besoin d&#8217;une classe parente pour pouvoir marcher correctement (cad ajouter de la vie à son propriétaire ici)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>On accède à l&#8217;objet parent, et on modifie son attribut de vie !</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>On teste que le <code>Pirate</code> en question est bien un magicien</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>On ajoute un attribut owner à l&#8217;objet <code>MagicPower</code>, qui connait donc maintenant son propriétaire.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_duck_typing"><a class="anchor" href="#_duck_typing"></a>Duck Typing</h3>
<div class="paragraph">
<p>La notion de DuckTyping est très très utilisé en Python, et préfigure plus d&#8217;une philosophie que d&#8217;une réelle contrainte technique.
Pour mieux comprendre en quoi consiste cette posture mentale il faut déjà tenter de comprendre pourquoi les informaticiens font référence à un canard&#8230;&#8203;</p>
</div>
<div class="quoteblock">
<blockquote>
In other words, don&#8217;t check whether it IS-a duck: check whether it QUACKS-like-a duck, WALKS-like-a duck, etc, etc, depending on exactly what subset of duck-like behaviour you need to play your language-games with.
</blockquote>
<div class="attribution">
&#8212; Alex Martelli (2000) on comp.lang.python newsgroup
</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/ducktyping-square.jpeg" alt="ducktyping square" width="250">
</div>
</div>
<div class="paragraph">
<p>Autrement dit si je vois un animal qui vole comme un canard, cancane comme un canard, et nage comme un canard, alors j&#8217;appelle cet oiseau un canard !</p>
</div>
<div class="listingblock">
<div class="title">Pris sur wikipedia &gt; <a href="http://en.wikipedia.org/wiki/Duck_typing#History">DuckTyping</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">class</span> <span class="tok-nc">Duck</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">quack</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s">&quot;Quaaaaaack!&quot;</span><span class="tok-p">)</span>

    <span class="tok-k">def</span> <span class="tok-nf">feathers</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s">&quot;The duck has white and gray feathers.&quot;</span><span class="tok-p">)</span>

<span class="tok-k">class</span> <span class="tok-nc">Person</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">quack</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s">&quot;The person imitates a duck.&quot;</span><span class="tok-p">)</span>

    <span class="tok-k">def</span> <span class="tok-nf">feathers</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s">&quot;The person takes a feather from the ground and shows it.&quot;</span><span class="tok-p">)</span>

    <span class="tok-k">def</span> <span class="tok-nf">name</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">print</span><span class="tok-p">(</span><span class="tok-s">&quot;John Smith&quot;</span><span class="tok-p">)</span>

<span class="tok-k">def</span> <span class="tok-nf">in_the_forest</span><span class="tok-p">(</span><span class="tok-n">animal</span><span class="tok-p">):</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-n">animal</span><span class="tok-o">.</span><span class="tok-n">quack</span><span class="tok-p">()</span>
    <span class="tok-n">animal</span><span class="tok-o">.</span><span class="tok-n">feathers</span><span class="tok-p">()</span>

<span class="tok-k">def</span> <span class="tok-nf">game</span><span class="tok-p">():</span>
    <span class="tok-n">donald</span> <span class="tok-o">=</span> <span class="tok-n">Duck</span><span class="tok-p">()</span>
    <span class="tok-n">john</span> <span class="tok-o">=</span> <span class="tok-n">Person</span><span class="tok-p">()</span>
    <span class="tok-n">in_the_forest</span><span class="tok-p">(</span><span class="tok-n">donald</span><span class="tok-p">)</span>
    <span class="tok-n">in_the_forest</span><span class="tok-p">(</span><span class="tok-n">john</span><span class="tok-p">)</span>

<span class="tok-n">game</span><span class="tok-p">()</span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Ici une fonction qui prend en paramètre n&#8217;importe quel animal, et essaye voir si il a les capacité de comportements <code>quack()</code> ou <code>feathers()</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>On voit bien quand on execute <code>game()</code> que Python se contrefiche de savoir quel est la nature de la classe à l&#8217;origine de la méthode, pour lui john est un canard car il possède bien les comportement attendus.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>En quoi cette technique est intéressante ? Elle permet de filtrer ou d&#8217;apeller des classes sans forcément savoir tout de leur comportement, c&#8217;est ce que l&#8217;on apelle aussi le <code>polymorphisme</code>. Il y&#8217;en a absolument partout dans le langage Python, ainsi par exemple la fonction <code>len()</code> est tout à fait capable de calculer la taille de n&#8217;importe quel <code>type</code> d&#8217;objets : tuple, list, texte sans se soucier de sa nature !</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-o">&gt;&gt;&gt;</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-s">&quot;How long am I?&quot;</span><span class="tok-p">)</span>
<span class="tok-mi">14</span>
<span class="tok-o">&gt;&gt;&gt;</span> <span class="tok-nb">len</span><span class="tok-p">((</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-mi">4</span><span class="tok-p">,</span> <span class="tok-mi">5</span><span class="tok-p">))</span>
<span class="tok-mi">5</span>
<span class="tok-o">&gt;&gt;&gt;</span> <span class="tok-nb">len</span><span class="tok-p">([</span><span class="tok-s">&quot;a&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;b&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;c&quot;</span><span class="tok-p">])</span>
<span class="tok-mi">3</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si nous revenons à l&#8217;exemple du pirate dans le cadre de l&#8217;héritage vu tout à l&#8217;heure, le <code>polymorphisme</code> est possible du fait que nous pouvons utiliser n&#8217;importe quel fonction <code>speak()</code> ou <code>nation</code> sans forcément savoir si ce qu&#8217;il y a dans la liste c&#8217;est un <code>PirateZombie</code> ou un <code>PirateVolant</code>. Cette notion est extrement importante car elle permet d&#8217;avoir des comportements génériques.</p>
</div>
<div class="paragraph">
<p><strong>exemple</strong></p>
</div>
<div class="paragraph">
<p>Le duckTyping va plus loin encore, et permet d&#8217;avoir du <code>polymorphisme</code> sans qu&#8217;il y ai un <code>héritage</code> derrière. En ce sens son utilisation est encore plus simple et intuitive.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-k">class</span> <span class="tok-nc">Mousse</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">nom</span><span class="tok-p">,</span> <span class="tok-n">vie</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nom</span> <span class="tok-o">=</span> <span class="tok-n">nom</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">vie</span> <span class="tok-o">=</span> <span class="tok-n">vie</span>

        <span class="tok-k">def</span> <span class="tok-nf">blessure</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-n">vie</span><span class="tok-p">):</span>
            <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">vie</span> <span class="tok-o">-=</span> <span class="tok-n">vie</span>

<span class="tok-k">class</span> <span class="tok-nc">Pirate</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">nom</span><span class="tok-p">,</span> <span class="tok-n">vie</span><span class="tok-p">,</span> <span class="tok-n">power</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">vie</span> <span class="tok-o">=</span> <span class="tok-n">vie</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nom</span> <span class="tok-o">=</span> <span class="tok-n">nom</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">power</span> <span class="tok-o">=</span> <span class="tok-n">power</span>

    <span class="tok-k">def</span> <span class="tok-nf">attaque</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">ennemi</span><span class="tok-p">):</span>
        <span class="tok-k">print</span> <span class="tok-s">&quot;Attaque de puissance &quot;</span><span class="tok-p">,</span><span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">power</span> <span class="tok-p">,</span><span class="tok-s">&quot; sur &quot;</span><span class="tok-p">,</span><span class="tok-n">ennemi</span><span class="tok-o">.</span><span class="tok-n">nom</span>
        <span class="tok-n">ennemi</span><span class="tok-o">.</span><span class="tok-n">blessure</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">power</span><span class="tok-p">)</span>

    <span class="tok-k">def</span> <span class="tok-nf">blessure</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-n">vie</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">vie</span> <span class="tok-o">-=</span> <span class="tok-n">vie</span>
        <span class="tok-k">print</span> <span class="tok-s">&quot;Aie ! moi &quot;</span><span class="tok-p">,</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nom</span><span class="tok-p">,</span> <span class="tok-s">&quot;je suis blessé de -&quot;</span><span class="tok-p">,</span> <span class="tok-n">vie</span>

<span class="tok-k">class</span> <span class="tok-nc">Equipage</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">marins</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">marins</span> <span class="tok-o">=</span> <span class="tok-n">marins</span>

    <span class="tok-k">def</span> <span class="tok-nf">jourDePaye</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">sommeParMarin</span><span class="tok-p">):</span>
        <span class="tok-k">print</span> <span class="tok-p">(</span><span class="tok-s">&quot;ajoute de l&#39;argent à la bourse de chacun des marins&quot;</span><span class="tok-p">)</span>

    <span class="tok-k">def</span> <span class="tok-nf">random</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-n">numMarin</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">marins</span><span class="tok-p">)</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">)</span>
        <span class="tok-k">return</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">marins</span><span class="tok-p">[</span><span class="tok-n">numMarin</span><span class="tok-p">]</span>

<span class="tok-k">class</span> <span class="tok-nc">Navire</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">nom</span><span class="tok-p">,</span> <span class="tok-n">marins</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">nom</span> <span class="tok-o">=</span> <span class="tok-n">nom</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">equipage</span> <span class="tok-o">=</span> <span class="tok-n">Equipage</span><span class="tok-p">(</span><span class="tok-n">marins</span><span class="tok-p">)</span>

    <span class="tok-k">def</span> <span class="tok-nf">random</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-k">return</span> <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">equipage</span><span class="tok-o">.</span><span class="tok-n">random</span><span class="tok-p">()</span>

    <span class="tok-k">def</span> <span class="tok-nf">combat</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">ennemi</span><span class="tok-p">):</span>

        <span class="tok-k">print</span> <span class="tok-s">&quot;Attaque de puissance &quot;</span><span class="tok-p">,</span><span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">power</span> <span class="tok-p">,</span><span class="tok-s">&quot; sur &quot;</span><span class="tok-p">,</span><span class="tok-n">ennemi</span><span class="tok-o">.</span><span class="tok-n">nom</span>
        <span class="tok-n">ennemi</span><span class="tok-o">.</span><span class="tok-n">blessure</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">power</span><span class="tok-p">)</span>

        <span class="tok-n">nombreDeCombat</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">equipage</span><span class="tok-o">.</span><span class="tok-n">marins</span><span class="tok-p">)</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">)</span>
        <span class="tok-k">print</span> <span class="tok-s">&quot;nombreDeCombat = &quot;</span><span class="tok-p">,</span> <span class="tok-n">nombreDeCombat</span>
        <span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">nombreDeCombat</span><span class="tok-p">):</span>
            <span class="tok-c">#Duels</span>
            <span class="tok-c"># Marin 1</span>
            <span class="tok-n">pirate1</span> <span class="tok-o">=</span> <span class="tok-n">navire1</span><span class="tok-o">.</span><span class="tok-n">equipage</span><span class="tok-o">.</span><span class="tok-n">random</span><span class="tok-p">()</span>
            <span class="tok-c"># Marin 2</span>
            <span class="tok-n">pirate2</span> <span class="tok-o">=</span> <span class="tok-n">navire1</span><span class="tok-o">.</span><span class="tok-n">equipage</span><span class="tok-o">.</span><span class="tok-n">random</span><span class="tok-p">()</span>

            <span class="tok-c"># Seul les pirates ou tout autre objet ayant une fonction attaque() peut attaquer le pirate 2 !</span>
            <span class="tok-c"># Donc lorsque pirate 1 est un mousse il ne se passe rien...</span>
            <span class="tok-k">if</span> <span class="tok-nb">hasattr</span><span class="tok-p">(</span><span class="tok-n">pirate1</span><span class="tok-p">,</span><span class="tok-s">&quot;attaque&quot;</span><span class="tok-p">):</span>
                <span class="tok-n">pirate1</span><span class="tok-o">.</span><span class="tok-n">attaque</span><span class="tok-p">(</span><span class="tok-n">pirate2</span><span class="tok-p">)</span>


<span class="tok-k">class</span> <span class="tok-nc">Taverne</span><span class="tok-p">(</span><span class="tok-nb">object</span><span class="tok-p">):</span>
    <span class="tok-k">def</span> <span class="tok-nf">__init__</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span> <span class="tok-n">listeDeNoms</span><span class="tok-p">,</span> <span class="tok-n">listeDePrenoms</span><span class="tok-p">):</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">listDeNoms</span> <span class="tok-o">=</span> <span class="tok-n">listeDeNoms</span>
        <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">listDePrenoms</span> <span class="tok-o">=</span> <span class="tok-n">listeDePrenoms</span>

    <span class="tok-k">def</span> <span class="tok-nf">debaucher</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">):</span>
        <span class="tok-n">salaire</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-mi">10</span><span class="tok-p">)</span>
        <span class="tok-n">force</span> <span class="tok-o">=</span> <span class="tok-n">salaire</span> <span class="tok-o">*</span> <span class="tok-mf">1.5</span>
        <span class="tok-n">nomPrenom</span> <span class="tok-o">=</span> <span class="tok-s">&quot; &quot;</span><span class="tok-o">.</span><span class="tok-n">join</span><span class="tok-p">([</span><span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">listDeNoms</span><span class="tok-p">[</span><span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">listDeNoms</span><span class="tok-p">)</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-p">)],</span>
                              <span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">listDePrenoms</span><span class="tok-p">[</span><span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-nb">len</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-o">.</span><span class="tok-n">listDePrenoms</span><span class="tok-p">)</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-p">)]])</span>
        <span class="tok-c">#La taverne renvoie different type de pirates</span>
        <span class="tok-n">des</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-mi">1</span><span class="tok-p">)</span>
        <span class="tok-k">if</span> <span class="tok-n">des</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">:</span>
            <span class="tok-k">return</span> <span class="tok-n">Pirate</span><span class="tok-p">(</span><span class="tok-n">nomPrenom</span><span class="tok-p">,</span><span class="tok-mf">120.0</span><span class="tok-p">,</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mf">0.0</span><span class="tok-p">,</span><span class="tok-mf">5.0</span><span class="tok-p">,))</span>
        <span class="tok-k">else</span><span class="tok-p">:</span>
            <span class="tok-k">return</span> <span class="tok-n">Mousse</span><span class="tok-p">(</span><span class="tok-n">nomPrenom</span><span class="tok-p">,</span><span class="tok-mf">100.0</span><span class="tok-p">)</span>

<span class="tok-c"># Fonction pour construire equipage</span>
<span class="tok-k">def</span> <span class="tok-nf">buildEquipage</span><span class="tok-p">(</span><span class="tok-n">nbMarins</span><span class="tok-p">):</span>
    <span class="tok-n">equipage</span> <span class="tok-o">=</span> <span class="tok-p">[]</span>
    <span class="tok-k">for</span> <span class="tok-n">x</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">nbMarins</span><span class="tok-p">):</span>
        <span class="tok-n">equipage</span><span class="tok-o">.</span><span class="tok-n">append</span><span class="tok-p">(</span><span class="tok-n">taverneAPirate</span><span class="tok-o">.</span><span class="tok-n">debaucher</span><span class="tok-p">())</span>
    <span class="tok-k">return</span> <span class="tok-n">equipage</span>

<span class="tok-c"># Programme principal</span>
<span class="tok-k">if</span> <span class="tok-n">__name__</span> <span class="tok-o">==</span> <span class="tok-s">&quot;__main__&quot;</span><span class="tok-p">:</span>
    <span class="tok-n">nomDePirate</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;Bonny&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Jack&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Teach&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Drake&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Morgan&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Nau&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Read&quot;</span><span class="tok-p">]</span>
    <span class="tok-n">prenomDePirate</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;Anne&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Calico&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Edward&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Francis&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Henry&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Jean&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Mary&quot;</span><span class="tok-p">]</span>

    <span class="tok-n">taverneAPirate</span> <span class="tok-o">=</span> <span class="tok-n">Taverne</span><span class="tok-p">(</span><span class="tok-n">nomDePirate</span><span class="tok-p">,</span> <span class="tok-n">prenomDePirate</span><span class="tok-p">)</span>

    <span class="tok-n">navire1</span> <span class="tok-o">=</span> <span class="tok-n">Navire</span><span class="tok-p">(</span><span class="tok-s">&quot;Queen Anne&#39;s Revenge&quot;</span><span class="tok-p">,</span> <span class="tok-n">buildEquipage</span><span class="tok-p">(</span><span class="tok-mi">10</span><span class="tok-p">))</span>
    <span class="tok-n">navire2</span> <span class="tok-o">=</span> <span class="tok-n">Navire</span><span class="tok-p">(</span><span class="tok-s">&quot;Adventure Galley&quot;</span><span class="tok-p">,</span> <span class="tok-n">buildEquipage</span><span class="tok-p">(</span><span class="tok-mi">10</span><span class="tok-p">))</span>

    <span class="tok-n">navire1</span><span class="tok-o">.</span><span class="tok-n">combat</span><span class="tok-p">(</span><span class="tok-n">navire2</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Le duckTyping pourrait être utile dans le cadre du projet
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_divers"><a class="anchor" href="#_divers"></a>Divers</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_main_d_un_programme"><a class="anchor" href="#_main_d_un_programme"></a>main d&#8217;un programme</h3>
<div class="paragraph">
<p>Point d&#8217;entrée d&#8217;un programme python :</p>
</div>
<div class="listingblock">
<div class="title">hello2.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-c"># -*- coding: utf-8 -*-</span>
<span class="tok-kn">import</span> <span class="tok-nn">sys</span> <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tok-k">def</span> <span class="tok-nf">main</span><span class="tok-p">():</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-k">print</span> <span class="tok-s">&#39;Hello there&#39;</span><span class="tok-p">,</span> <span class="tok-n">sys</span><span class="tok-o">.</span><span class="tok-n">argv</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">]</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tok-c"># Command line args are in sys.argv[1], sys.argv[2] ...</span>
    <span class="tok-c"># sys.argv[0] is the script name itself and can be ignored</span>


<span class="tok-k">if</span> <span class="tok-n">__name__</span> <span class="tok-o">==</span> <span class="tok-s">&#39;__main__&#39;</span><span class="tok-p">:</span> <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="tok-n">main</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Execution de python2.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-err">$</span><span class="tok-o">&gt;</span> <span class="tok-n">python</span> <span class="tok-n">hello2</span><span class="tok-o">.</span><span class="tok-n">py</span> <span class="tok-s">&quot;Sebastien Rey&quot;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Le mot-clef <strong>import</strong> permet d&#8217;étendre le programme en ajoutant des fonctionnalités qui existent dans des sous-modules de python,
ou des modules personnalisés définis dans le répertoire par le nom du fichier (nous en discuterons plus dans la partie module)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>La fonction qui sera lancée au démarrage du programme, on l&#8217;apelle souvent <strong>main()</strong> par convention.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><strong>sys.argv[]</strong> est le nom du tableau définit par python qui contient l&#8217;ensemble des paramètres passé en ligne de commande. L&#8217;élément 0 est le nom du programme.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><strong>_\_xxx_\_</strong> est une dénomination spéciale de nom de fonction que seul python reconnait, ici cela a pour effet d&#8217;indiquer à l&#8217;interpréteur python que le bloc d&#8217;instruction suivant est le point de départ de notre programme lorsqu&#8217;il est executé en ligne de commande : cf. <a href="http://docs.python.org/reference/datamodel.html#specialnames" class="bare">http://docs.python.org/reference/datamodel.html#specialnames</a> pour en savoir plus</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>L&#8217;avantage de cette méthode par rapport à la première, c&#8217;est que dans la première, si vous fermez le terminal, ou que vous décidez de quitter le programme pour aller boire un café, tout ce que vous avez écrit est bel et bien perdu quand vous re-lancez la console Python.</p>
</div>
<div class="paragraph">
<p>Il est donc plus intéressant de stocker nos programmes dans des fichiers avec des noms <strong>explicites</strong>, comme dans la deuxième méthode.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mini_jeux"><a class="anchor" href="#_mini_jeux"></a>Mini-Jeux</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Trois mini-jeux que vous devez réaliser dans le cadre du projet. Ci-dessous une explication de la fonction <code>random()</code> qui vous permettra de tirer des nombres aléatoires pour par exemple simuler un jeter de dés.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">La fonction random</div>
<div class="paragraph">
<p>Il est nécessaire d&#8217;importer le module random en haut de votre programme pour pouvoir ensuite utiliser des fonctionnalités de ce module :</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/random.gif" alt="random">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-kn">import</span> <span class="tok-nn">random</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Dans votre programme vous pouvez ensuite utiliser la fonction <code>randInt()</code> qui vous renvoie un chiffre aléatoire entre <strong>début</strong> et <strong>fin</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">nbAleatoire</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">)</span>  <span class="tok-c"># renvoi un chiffre entre 0 et 5 inclus</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>D&#8217;autres fonctions utiles existent dans ce module, vous pouvez les voir ici :<br>
<a href="http://docs.python.org/library/random.html" class="bare">http://docs.python.org/library/random.html</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_pendu"><a class="anchor" href="#_pendu"></a>Pendu</h3>
<div class="paragraph">
<p>Définir une fonction <code>pendu()</code> qui pour une liste de mots passés en paramètre, permet de jouer au pendu, et renvoie à la fin du jeu <code>True</code> (gagné) or <code>False</code> (perdu)</p>
</div>
<div class="paragraph">
<p>Quelques astuces techniques :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Vous pouvez stocker vos mots dans une liste et tiré aléatoirement le mot</p>
</li>
<li>
<p>Vous pouvez maintenir une liste de lettre trouvés par l&#8217;utilisateur</p>
</li>
<li>
<p>Une chaîne de caractère peut être manipulé comme une liste avec des indice</p>
</li>
<li>
<p>Vous pouvez avoir une fonction affichage qui prend les éléments trouvés par l&#8217;utilisateur 1 par 1 et les compare lettre à lettre au mot</p>
<div class="ulist">
<ul>
<li>
<p>si lettre existe j&#8217;affiche la lettre</p>
</li>
<li>
<p>si lettre existe pas j&#8217;affiche <code>\_</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Exemple d&#8217;appel de la fonction</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-n">mot</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;Vélociraptor&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Amazonie&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Fondation&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Titanic&quot;</span><span class="tok-p">]</span>
<span class="tok-k">print</span> <span class="tok-n">pendu</span><span class="tok-p">(</span><span class="tok-n">mot</span><span class="tok-p">)</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_shifumi"><a class="anchor" href="#_shifumi"></a>Shifumi</h3>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/RPS2.png" alt="RPS2" width="300">
</div>
</div>
<div class="paragraph">
<p>Définir une fonction <code>shifumi()</code> qui permet de jouer au shifumi avec l&#8217;ordinateur, et renvoie à la fin du jeu <code>True</code> (gagné) or <code>False</code> (perdu)</p>
</div>
<div class="paragraph">
<p>Pour vous aider dans votre tâche, voici un bout de code utilisant un dictionnaire et un générateur de chiffre aléatoire.</p>
</div>
<div class="paragraph">
<p>Ce code permet de renvoyer à chaque appel un choix de l&#8217;ordinateur pour le prochain tour !</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span class="tok-kn">from</span> <span class="tok-nn">random</span> <span class="tok-kn">import</span> <span class="tok-n">randint</span>

<span class="tok-n">gameDict</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-mi">1</span><span class="tok-p">:</span><span class="tok-s">&quot;Pierre&quot;</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">:</span><span class="tok-s">&quot;Papier&quot;</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">:</span><span class="tok-s">&quot;Ciseaux&quot;</span><span class="tok-p">}</span>

<span class="tok-n">choixJoueur</span> <span class="tok-o">=</span> <span class="tok-nb">raw_input</span><span class="tok-p">(</span><span class="tok-s">&quot;Pierre Papier Ciseaux ? &quot;</span><span class="tok-p">)</span>

<span class="tok-c">#Nombre tiré aléatoirement entre 1 et 3 inclus</span>
<span class="tok-n">choixOrdinateur</span> <span class="tok-o">=</span> <span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">)</span>
<span class="tok-n">computer_value</span> <span class="tok-o">=</span> <span class="tok-n">gameDict</span><span class="tok-p">[</span><span class="tok-n">choixOrdinateur</span><span class="tok-p">]</span>

<span class="tok-k">print</span> <span class="tok-s">&quot;choix ordinateur = &quot;</span> <span class="tok-p">,</span> <span class="tok-n">computer_value</span>
<span class="tok-k">print</span> <span class="tok-s">&quot;choix joueur = &quot;</span> <span class="tok-p">,</span> <span class="tok-n">choixJoueur</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_bataille_navale"><a class="anchor" href="#_bataille_navale"></a>Bataille navale</h3>
<div class="paragraph">
<p>Définir deux tableaux imbriqués (matrice ligne/colonne classique), un pour l&#8217;ordinateur nommé <code>matriceComputer</code> et un autre pour le joueur <code>matricePlayer</code>.</p>
</div>
<div class="paragraph">
<p>Les matrices sont initialisées avec des valeurs égales à <code>O</code>, valeur que l&#8217;on choisit pour représenter une case d&#8217;eau inoccupée.</p>
</div>
<div class="paragraph">
<p>Au départ, on part de règles simples que l&#8217;on pourra complexifier par la suite si on le désire. Par exemple dans l&#8217;idée de se rapprocher de la véritable bataille navale (plusieurs type de bateaux occupant des tailles différentes dans la matrice).</p>
</div>
<div class="paragraph">
<p>Le joueur doit pouvoir placer plusieurs bateaux (à vous de voir le nombre) dans <code>matricePlayer</code> Pour cela il lui suffit de saisir la ligne et la colonne ou se situera chaque bateaux. Si la case est libre (valeur de la cellule mise à 0) alors le bateau est positionné, c&#8217;est-à-dire la case devient occupée ( valeur de la cellule mise à 1).</p>
</div>
<div class="paragraph">
<p>De l&#8217;autre coté, l&#8217;ordinateur positionne de façon automatique le même nombre de bateau que le joueur dans <code>matriceComputer</code>. Evidemment il faudra faire attention à ne pas placer des bateaux sur des cases déjà occupées ( valeur de la cellule mise à 1).</p>
</div>
<div class="paragraph">
<p>Le jeu et l&#8217;ordinateur joue ensuite à tour de rôle en indiquant des positions x /y qui désigne la case de la matrice adverse à tester. Si un bateau existe à la case désignée, alors celui-ci coule ( 1 case = 1 bateau), et la valeur de cette case passe à 2.</p>
</div>
<div class="paragraph">
<p>Le jeu s&#8217;arrête lorsqu’un des deux joueurs n&#8217;a plus aucun bateau en jeu.</p>
</div>
<div class="paragraph">
<p>Dans ce jeu, vous avez l&#8217;occasion de travailler aussi sur l&#8217;affichage des matrices, en affichant au joueur les positions de ses bateaux coulés ( valeur de la cellule mise à 2), de ses bateaux restants ( valeur de la cellule égale à 1).</p>
</div>
<div class="paragraph">
<p>Si l&#8217;on décide de sauvegarder la liste des coordonnées déjà saisies par l&#8217;utilisateur, alors il pourra être intéressant de les afficher sur une nouvelle matrice.</p>
</div>
<div class="paragraph">
<p>Voici une liste d&#8217;améliorations possibles, avec les niveaux de difficultés associés :</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-square-o"></i> Bateaux positionnable de différentes tailles, en Horizontal / Vertical (<strong>facile</strong>)</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Timer en tour de jeu (<strong>facile</strong>)</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Sauvegarde et restauration du jeu via un fichier csv (<strong>moyen</strong>)</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Déplacement des bateaux pendant le jeu (<strong>moyen</strong>)</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Version POO du programme (<strong>facile</strong>)</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Monstres marins qui se déplacent et attaquent (<strong>moyen</strong>)</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Système d&#8217;amélioration basé sur des points d&#8217;expériences (<strong>difficile</strong>)</p>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-square-o"></i> Dégats sur les bateaux exprimés en pourcentage ou en point de vie</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Portée de tir par bateau, améliorable</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Possibilité de se défendre, via par exemple des anti missiles</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Lancement de projectiles en Horizontal et/ou Vertical</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ressources"><a class="anchor" href="#_ressources"></a>Ressources</h2>
<div class="sectionbody">
<div class="ulist">
<div class="title">Officielle :</div>
<ul>
<li>
<p><a href="http://docs.python.org/tutorial/index.html" class="bare">http://docs.python.org/tutorial/index.html</a></p>
</li>
<li>
<p><a href="http://docs.python.org/index.html" class="bare">http://docs.python.org/index.html</a></p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Autres :</div>
<ul>
<li>
<p><a href="http://hyperpolyglot.org/" class="bare">http://hyperpolyglot.org/</a></p>
</li>
<li>
<p><a href="http://rgruet.free.fr/PQR27/PQR2.7.html" class="bare">http://rgruet.free.fr/PQR27/PQR2.7.html</a></p>
</li>
<li>
<p><a href="http://programming-motherfucker.com/become.html" class="bare">http://programming-motherfucker.com/become.html</a></p>
</li>
<li>
<p><a href="http://mindview.net/Books/Python/ThinkingInPython.html" class="bare">http://mindview.net/Books/Python/ThinkingInPython.html</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-11-14 14:47:31 CET
</div>
</div>
</body>
</html>